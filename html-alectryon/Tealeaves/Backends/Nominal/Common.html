<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.20.1: https://docutils.sourceforge.io/" />
<title>Common.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.16.0+0.16.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Tealeaves <span class="kn">Require Export</span>
  Classes.EqDec_eq
  Functors.List_Telescoping_General
  Backends.Common.Names
  Functors.List
  Functors.Constant
  Functors.Subset.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Subset.Notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Monoid.Notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Applicative.Notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> List.ListNotations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Product.Notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> ContainerFunctor.Notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Open Scope</span> list_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** * The &lt;&lt;fold_with_history&gt;&gt; Operation *)</span>
<span class="sd">(**********************************************************************)</span>
<span class="c">(* Fold over a list of A&#39;s where each A has the prefix of the list so far *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">fold_with_history</span> {<span class="nv">A</span> <span class="nv">B</span>: <span class="kt">Type</span>}
  (<span class="nv">f</span>: list B * A -&gt; B)
  (<span class="nv">l</span>: list A): list B :=
  <span class="kr">match</span> l <span class="kr">with</span>
  | nil =&gt; nil
  | cons a rest =&gt;
      f ([], a) :: fold_with_history (f ‚¶ø [f ([], a)]) rest
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Rewriting rules for &lt;&lt;fold_with_history&gt;&gt; *)</span>
<span class="sd">(**********************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">rw</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span> <span class="nv">B</span>: <span class="kt">Type</span>}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">basic</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> (<span class="nv">f</span>: list B * A -&gt; B).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk0"><span class="kn">Lemma</span> <span class="nf">fold_with_history_nil</span>:
      fold_with_history f nil = nil.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f [] = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f [] = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk2"><span class="kn">Lemma</span> <span class="nf">fold_with_history_cons</span> {<span class="nv">a</span> <span class="nv">l</span>}:
      fold_with_history f (a :: l) =
        f ([], a) :: fold_with_history (f ‚¶ø [f ([], a)]) l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f (a :: l) =
f ([], a) :: fold_with_history (f ‚¶ø [f ([], a)]) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f (a :: l) =
f ([], a) :: fold_with_history (f ‚¶ø [f ([], a)]) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk4"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f ([], a) :: fold_with_history (f ‚¶ø [f ([], a)]) l =
f ([], a) :: fold_with_history (f ‚¶ø [f ([], a)]) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk5"><span class="kn">Lemma</span> <span class="nf">fold_with_history_one</span> {<span class="nv">a</span>}:
      fold_with_history f ([a]) =
        [f ([], a)].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f [a] = [f ([], a)]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f [a] = [f ([], a)]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk7"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">[f ([], a)] = [f ([], a)]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">basic</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk8"><span class="kn">Lemma</span> <span class="nf">fold_with_history_app</span> {<span class="nv">l1</span> <span class="nv">l2</span>: list A}:
    <span class="kr">forall</span> (<span class="nv">f</span>: list B * A -&gt; B),
      fold_with_history f (l1 ++ l2) =
        fold_with_history f l1 ++
          fold_with_history (f ‚¶ø fold_with_history f l1) l2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
fold_with_history f (l1 ++ l2) =
fold_with_history f l1 ++
fold_with_history (f ‚¶ø fold_with_history f l1) l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
fold_with_history f (l1 ++ l2) =
fold_with_history f l1 ++
fold_with_history (f ‚¶ø fold_with_history f l1) l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chka"><span class="nb">induction</span> l1 <span class="kr">as</span> [|a l1 IHl1]; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f ([] ++ l2) =
fold_with_history f [] ++
fold_with_history (f ‚¶ø fold_with_history f []) l2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chkb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
fold_with_history f (l1 ++ l2) =
fold_with_history f l1 ++
fold_with_history (f ‚¶ø fold_with_history f l1)
  l2</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><label class="goal-separator" for="common-v-chkb"><hr></label><div class="goal-conclusion">fold_with_history f ((a :: l1) ++ l2) =
fold_with_history f (a :: l1) ++
fold_with_history (f ‚¶ø fold_with_history f (a :: l1))
  l2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkc">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f ([] ++ l2) =
fold_with_history f [] ++
fold_with_history (f ‚¶ø fold_with_history f []) l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkd"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f l2 = fold_with_history (f ‚¶ø []) l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chke"><span class="nb">change</span> (f ‚¶ø []) <span class="kr">with</span> (f ‚¶ø ∆µ).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f l2 = fold_with_history (f ‚¶ø ∆µ) l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">rewrite</span> preincr_zero.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkf">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
fold_with_history f (l1 ++ l2) =
fold_with_history f l1 ++
fold_with_history (f ‚¶ø fold_with_history f l1)
  l2</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f ((a :: l1) ++ l2) =
fold_with_history f (a :: l1) ++
fold_with_history (f ‚¶ø fold_with_history f (a :: l1))
  l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk10"><span class="nb">rewrite</span> &lt;- List.app_comm_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
fold_with_history f (l1 ++ l2) =
fold_with_history f l1 ++
fold_with_history (f ‚¶ø fold_with_history f l1)
  l2</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f (a :: l1 ++ l2) =
fold_with_history f (a :: l1) ++
fold_with_history (f ‚¶ø fold_with_history f (a :: l1))
  l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk11"><span class="nb">rewrite</span> fold_with_history_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
fold_with_history f (l1 ++ l2) =
fold_with_history f l1 ++
fold_with_history (f ‚¶ø fold_with_history f l1)
  l2</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f ([], a)
:: fold_with_history (f ‚¶ø [f ([], a)]) (l1 ++ l2) =
fold_with_history f (a :: l1) ++
fold_with_history (f ‚¶ø fold_with_history f (a :: l1))
  l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk12"><span class="nb">rewrite</span> fold_with_history_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
fold_with_history f (l1 ++ l2) =
fold_with_history f l1 ++
fold_with_history (f ‚¶ø fold_with_history f l1)
  l2</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f ([], a)
:: fold_with_history (f ‚¶ø [f ([], a)]) (l1 ++ l2) =
(f ([], a) :: fold_with_history (f ‚¶ø [f ([], a)]) l1) ++
fold_with_history
  (f
   ‚¶ø (f ([], a)
      :: fold_with_history (f ‚¶ø [f ([], a)]) l1)) l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk13"><span class="nb">rewrite</span> IHl1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
fold_with_history f (l1 ++ l2) =
fold_with_history f l1 ++
fold_with_history (f ‚¶ø fold_with_history f l1)
  l2</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f ([], a)
:: fold_with_history (f ‚¶ø [f ([], a)]) l1 ++
   fold_with_history
     ((f ‚¶ø [f ([], a)])
      ‚¶ø fold_with_history (f ‚¶ø [f ([], a)]) l1) l2 =
(f ([], a) :: fold_with_history (f ‚¶ø [f ([], a)]) l1) ++
fold_with_history
  (f
   ‚¶ø (f ([], a)
      :: fold_with_history (f ‚¶ø [f ([], a)]) l1)) l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk14"><span class="nb">rewrite</span> &lt;- List.app_comm_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
fold_with_history f (l1 ++ l2) =
fold_with_history f l1 ++
fold_with_history (f ‚¶ø fold_with_history f l1)
  l2</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f ([], a)
:: fold_with_history (f ‚¶ø [f ([], a)]) l1 ++
   fold_with_history
     ((f ‚¶ø [f ([], a)])
      ‚¶ø fold_with_history (f ‚¶ø [f ([], a)]) l1) l2 =
f ([], a)
:: fold_with_history (f ‚¶ø [f ([], a)]) l1 ++
   fold_with_history
     (f
      ‚¶ø (f ([], a)
         :: fold_with_history (f ‚¶ø [f ([], a)]) l1))
     l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk15"><span class="nb">rewrite</span> preincr_preincr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
fold_with_history f (l1 ++ l2) =
fold_with_history f l1 ++
fold_with_history (f ‚¶ø fold_with_history f l1)
  l2</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f ([], a)
:: fold_with_history (f ‚¶ø [f ([], a)]) l1 ++
   fold_with_history
     (f
      ‚¶ø ([f ([], a)]
         ‚óè fold_with_history (f ‚¶ø [f ([], a)]) l1)) l2 =
f ([], a)
:: fold_with_history (f ‚¶ø [f ([], a)]) l1 ++
   fold_with_history
     (f
      ‚¶ø (f ([], a)
         :: fold_with_history (f ‚¶ø [f ([], a)]) l1))
     l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* Tailored for use when the list is a nominal binding context decomposition *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk16"><span class="kn">Lemma</span> <span class="nf">fold_with_history_decompose</span> {<span class="nv">l1</span> <span class="nv">l2</span>: list A} {<span class="nv">a</span>: A}:
    <span class="kr">forall</span> (<span class="nv">f</span>: list B * A -&gt; B),
      fold_with_history f (l1 ++ [a] ++ l2) =
        fold_with_history f l1 ++
          [f (fold_with_history f l1, a)] ++
          fold_with_history (f ‚¶ø (fold_with_history f l1 ++ [f (fold_with_history f l1, a)])) l2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
fold_with_history f (l1 ++ [a] ++ l2) =
fold_with_history f l1 ++
[f (fold_with_history f l1, a)] ++
fold_with_history
  (f
   ‚¶ø (fold_with_history f l1 ++
      [f (fold_with_history f l1, a)])) l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk17"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
fold_with_history f (l1 ++ [a] ++ l2) =
fold_with_history f l1 ++
[f (fold_with_history f l1, a)] ++
fold_with_history
  (f
   ‚¶ø (fold_with_history f l1 ++
      [f (fold_with_history f l1, a)])) l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk18"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f (l1 ++ [a] ++ l2) =
fold_with_history f l1 ++
[f (fold_with_history f l1, a)] ++
fold_with_history
  (f
   ‚¶ø (fold_with_history f l1 ++
      [f (fold_with_history f l1, a)])) l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk19"><span class="nb">rewrite</span> fold_with_history_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f l1 ++
fold_with_history (f ‚¶ø fold_with_history f l1)
  ([a] ++ l2) =
fold_with_history f l1 ++
[f (fold_with_history f l1, a)] ++
fold_with_history
  (f
   ‚¶ø (fold_with_history f l1 ++
      [f (fold_with_history f l1, a)])) l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1a"><span class="nb">rewrite</span> fold_with_history_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f l1 ++
fold_with_history (f ‚¶ø fold_with_history f l1) [a] ++
fold_with_history
  ((f ‚¶ø fold_with_history f l1)
   ‚¶ø fold_with_history (f ‚¶ø fold_with_history f l1)
       [a]) l2 =
fold_with_history f l1 ++
[f (fold_with_history f l1, a)] ++
fold_with_history
  (f
   ‚¶ø (fold_with_history f l1 ++
      [f (fold_with_history f l1, a)])) l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1b"><span class="nb">rewrite</span> fold_with_history_one.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f l1 ++
[(f ‚¶ø fold_with_history f l1) ([], a)] ++
fold_with_history
  ((f ‚¶ø fold_with_history f l1)
   ‚¶ø [(f ‚¶ø fold_with_history f l1) ([], a)]) l2 =
fold_with_history f l1 ++
[f (fold_with_history f l1, a)] ++
fold_with_history
  (f
   ‚¶ø (fold_with_history f l1 ++
      [f (fold_with_history f l1, a)])) l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1c"><span class="nb">rewrite</span> preincr_preincr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f l1 ++
[(f ‚¶ø fold_with_history f l1) ([], a)] ++
fold_with_history
  (f
   ‚¶ø (fold_with_history f l1
      ‚óè [(f ‚¶ø fold_with_history f l1) ([], a)])) l2 =
fold_with_history f l1 ++
[f (fold_with_history f l1, a)] ++
fold_with_history
  (f
   ‚¶ø (fold_with_history f l1 ++
      [f (fold_with_history f l1, a)])) l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1d"><span class="nb">unfold</span> preincr, incr, compose.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f l1 ++
[f (fold_with_history f l1 ‚óè [], a)] ++
fold_with_history
  (<span class="kr">fun</span> <span class="nv">a0</span> : list B * A =&gt;
   f
     (<span class="kr">let</span>
      &#39;(w1, a1) := a0 <span class="kr">in</span>
       ((fold_with_history f l1
         ‚óè [f (fold_with_history f l1 ‚óè [], a)]) ‚óè w1,
        a1))) l2 =
fold_with_history f l1 ++
[f (fold_with_history f l1, a)] ++
fold_with_history
  (<span class="kr">fun</span> <span class="nv">a0</span> : list B * A =&gt;
   f
     (<span class="kr">let</span>
      &#39;(w1, a1) := a0 <span class="kr">in</span>
       ((fold_with_history f l1 ++
         [f (fold_with_history f l1, a)]) ‚óè w1, a1)))
  l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1e">unfold_ops @Monoid_op_list.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f l1 ++
[f (fold_with_history f l1 ++ [], a)] ++
fold_with_history
  (<span class="kr">fun</span> <span class="nv">a0</span> : list B * A =&gt;
   f
     (<span class="kr">let</span>
      &#39;(w1, a1) := a0 <span class="kr">in</span>
       ((fold_with_history f l1 ++
         [f (fold_with_history f l1 ++ [], a)]) ++ w1,
        a1))) l2 =
fold_with_history f l1 ++
[f (fold_with_history f l1, a)] ++
fold_with_history
  (<span class="kr">fun</span> <span class="nv">a0</span> : list B * A =&gt;
   f
     (<span class="kr">let</span>
      &#39;(w1, a1) := a0 <span class="kr">in</span>
       ((fold_with_history f l1 ++
         [f (fold_with_history f l1, a)]) ++ w1, a1)))
  l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1f"><span class="nb">rewrite</span> List.app_nil_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f l1 ++
[f (fold_with_history f l1, a)] ++
fold_with_history
  (<span class="kr">fun</span> <span class="nv">a0</span> : list B * A =&gt;
   f
     (<span class="kr">let</span>
      &#39;(w1, a1) := a0 <span class="kr">in</span>
       ((fold_with_history f l1 ++
         [f (fold_with_history f l1, a)]) ++ w1, a1)))
  l2 =
fold_with_history f l1 ++
[f (fold_with_history f l1, a)] ++
fold_with_history
  (<span class="kr">fun</span> <span class="nv">a0</span> : list B * A =&gt;
   f
     (<span class="kr">let</span>
      &#39;(w1, a1) := a0 <span class="kr">in</span>
       ((fold_with_history f l1 ++
         [f (fold_with_history f l1, a)]) ++ w1, a1)))
  l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** *** Preservation of &lt;&lt;length&gt;&gt; *)</span>
  <span class="sd">(**********************************************************************)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk20"><span class="kn">Lemma</span> <span class="nf">length_fold_with_history</span>: <span class="kr">forall</span> (<span class="nv">l</span>: list A) (<span class="nv">f</span>: list B * A -&gt; B),
      length (fold_with_history f l) = length l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">l</span> : list A) (<span class="nv">f</span> : list B * A -&gt; B),
length (fold_with_history f l) = length l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk21"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">l</span> : list A) (<span class="nv">f</span> : list B * A -&gt; B),
length (fold_with_history f l) = length l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk22"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (fold_with_history f l) = length l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk23"><span class="nb">generalize dependent</span> f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
length (fold_with_history f l) = length l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk24"><span class="nb">induction</span> l; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (fold_with_history f []) = length []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk25" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B, length (fold_with_history f l) = length l</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><label class="goal-separator" for="common-v-chk25"><hr></label><div class="goal-conclusion">length (fold_with_history f (a :: l)) =
length (a :: l)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk26">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (fold_with_history f []) = length []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk27">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B, length (fold_with_history f l) = length l</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (fold_with_history f (a :: l)) =
length (a :: l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk28"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B, length (fold_with_history f l) = length l</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (length (fold_with_history (f ‚¶ø [f ([], a)]) l)) =
S (length l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk29">fequal.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B, length (fold_with_history f l) = length l</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (fold_with_history (f ‚¶ø [f ([], a)]) l) =
length l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> IHl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">rw</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

<span class="sd">(** ** An Induction Rule for &lt;&lt;fold_with_history&gt;&gt; *)</span>
<span class="sd">(**********************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">induction</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Theory.TraversableFunctor.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    {<span class="nv">A</span> <span class="nv">B</span>: <span class="kt">Type</span>}
    {<span class="nv">f</span>: list B * A -&gt; B}
    (<span class="nv">P</span>: B -&gt; <span class="kt">Prop</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">Forall</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
      (<span class="nv">Hbase</span>: <span class="kr">forall</span> (<span class="nv">a</span>: A), P (f (nil, a)))
      (<span class="nv">Hstep</span>: <span class="kr">forall</span> (<span class="nv">a</span>: A) (<span class="nv">h</span>: list B),
      Forall P h -&gt; P (f (h, a))).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk2a"><span class="kn">Lemma</span> <span class="nf">fold_with_history_ind_Forall</span>: <span class="kr">forall</span> (<span class="nv">l</span>: list A),
        Forall P (fold_with_history f l).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l</span> : list A, Forall P (fold_with_history f l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk2b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l</span> : list A, Forall P (fold_with_history f l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk2c"><span class="nb">intro</span> l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall P (fold_with_history f l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk2d"><span class="nb">induction</span> l <span class="kr">as</span> [| a rest IHrest] <span class="nb">using</span> List.rev_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall P (fold_with_history f [])</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk2e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHrest</var><span class="hyp-type"><b>: </b><span>Forall P (fold_with_history f rest)</span></span></span><br></div><label class="goal-separator" for="common-v-chk2e"><hr></label><div class="goal-conclusion">Forall P (fold_with_history f (rest ++ [a]))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk2f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall P (fold_with_history f [])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk30">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHrest</var><span class="hyp-type"><b>: </b><span>Forall P (fold_with_history f rest)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall P (fold_with_history f (rest ++ [a]))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk31"><span class="nb">rewrite</span> fold_with_history_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHrest</var><span class="hyp-type"><b>: </b><span>Forall P (fold_with_history f rest)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall P
  (fold_with_history f rest ++
   fold_with_history (f ‚¶ø fold_with_history f rest)
     [a])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk32"><span class="nb">rewrite</span> TraversableFunctor.forall_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHrest</var><span class="hyp-type"><b>: </b><span>Forall P (fold_with_history f rest)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a0</span> : B,
a0
‚àà (fold_with_history f rest ++
   fold_with_history (f ‚¶ø fold_with_history f rest)
     [a]) -&gt; P a0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk33"><span class="nb">rewrite</span> TraversableFunctor.forall_iff <span class="kr">in</span> IHrest.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHrest</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B,
a ‚àà fold_with_history f rest -&gt; P a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a0</span> : B,
a0
‚àà (fold_with_history f rest ++
   fold_with_history (f ‚¶ø fold_with_history f rest)
     [a]) -&gt; P a0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk34"><span class="nb">intro</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHrest</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B,
a ‚àà fold_with_history f rest -&gt; P a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b
‚àà (fold_with_history f rest ++
   fold_with_history (f ‚¶ø fold_with_history f rest)
     [a]) -&gt; P b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk35"><span class="nb">rewrite</span> element_of_list_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHrest</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B,
a ‚àà fold_with_history f rest -&gt; P a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b ‚àà fold_with_history f rest \/
b
‚àà fold_with_history (f ‚¶ø fold_with_history f rest) [a] -&gt;
P b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk36"><span class="nb">intros</span> [Case1| Case2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHrest</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B,
a ‚àà fold_with_history f rest -&gt; P a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>Case1</var><span class="hyp-type"><b>: </b><span>b ‚àà fold_with_history f rest</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk37" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHrest</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B,
a ‚àà fold_with_history f rest -&gt; P a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>Case2</var><span class="hyp-type"><b>: </b><span>b
‚àà fold_with_history
    (f ‚¶ø fold_with_history f rest) [a]</span></span></span><br></div><label class="goal-separator" for="common-v-chk37"><hr></label><div class="goal-conclusion">P b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk38">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHrest</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B,
a ‚àà fold_with_history f rest -&gt; P a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>Case1</var><span class="hyp-type"><b>: </b><span>b ‚àà fold_with_history f rest</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk39">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHrest</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B,
a ‚àà fold_with_history f rest -&gt; P a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>Case2</var><span class="hyp-type"><b>: </b><span>b
‚àà fold_with_history
    (f ‚¶ø fold_with_history f rest) [a]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P b</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk3a"><span class="nb">rewrite</span> fold_with_history_one <span class="kr">in</span> Case2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHrest</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B,
a ‚àà fold_with_history f rest -&gt; P a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>Case2</var><span class="hyp-type"><b>: </b><span>b ‚àà [(f ‚¶ø fold_with_history f rest) ([], a)]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">         </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk3b"><span class="nb">rewrite</span> element_of_list_one <span class="kr">in</span> Case2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHrest</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B,
a ‚àà fold_with_history f rest -&gt; P a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>Case2</var><span class="hyp-type"><b>: </b><span>b = (f ‚¶ø fold_with_history f rest) ([], a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">         </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk3c"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHrest</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B,
a ‚àà fold_with_history f rest -&gt; P a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P ((f ‚¶ø fold_with_history f rest) ([], a))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">         </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk3d"><span class="nb">apply</span> Hstep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHrest</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B,
a ‚àà fold_with_history f rest -&gt; P a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall P (fold_with_history f rest ‚óè [])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">         </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk3e"><span class="nb">change</span> (@nil B) <span class="kr">with</span> (∆µ: list B).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHrest</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B,
a ‚àà fold_with_history f rest -&gt; P a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall P (fold_with_history f rest ‚óè (∆µ : list B))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">         </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk3f"><span class="nb">rewrite</span> monoid_id_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHrest</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B,
a ‚àà fold_with_history f rest -&gt; P a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall P (fold_with_history f rest)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">         </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk40"><span class="nb">rewrite</span> TraversableFunctor.forall_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHrest</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B,
a ‚àà fold_with_history f rest -&gt; P a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : B, a ‚àà fold_with_history f rest -&gt; P a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">         </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Forall</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">elementwise</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
      (<span class="nv">Hbase</span>: <span class="kr">forall</span> (<span class="nv">a</span>: A), P (f (nil, a)))
      (<span class="nv">Hstep</span>: <span class="kr">forall</span> (<span class="nv">a</span>: A) (<span class="nv">h</span>: list B),
        (<span class="kr">forall</span> (<span class="nv">b</span>: B), b ‚àà h -&gt; P b) -&gt; P (f (h, a))).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk41"><span class="kn">Lemma</span> <span class="nf">fold_with_history_ind</span>: <span class="kr">forall</span> (<span class="nv">l</span>: list A),
        <span class="kr">forall</span> (<span class="nv">b</span>: B), b ‚àà fold_with_history f l -&gt; P b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
(<span class="kr">forall</span> <span class="nv">b</span> : B, b ‚àà h -&gt; P b) -&gt; P (f (h, a))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">l</span> : list A) (<span class="nv">b</span> : B),
b ‚àà fold_with_history f l -&gt; P b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk42"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
(<span class="kr">forall</span> <span class="nv">b</span> : B, b ‚àà h -&gt; P b) -&gt; P (f (h, a))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">l</span> : list A) (<span class="nv">b</span> : B),
b ‚àà fold_with_history f l -&gt; P b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk43"><span class="nb">intro</span> l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
(<span class="kr">forall</span> <span class="nv">b</span> : B, b ‚àà h -&gt; P b) -&gt; P (f (h, a))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B, b ‚àà fold_with_history f l -&gt; P b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk44"><span class="nb">rewrite</span> &lt;- TraversableFunctor.forall_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
(<span class="kr">forall</span> <span class="nv">b</span> : B, b ‚àà h -&gt; P b) -&gt; P (f (h, a))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall P (fold_with_history f l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk45"><span class="nb">apply</span> fold_with_history_ind_Forall.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
(<span class="kr">forall</span> <span class="nv">b</span> : B, b ‚àà h -&gt; P b) -&gt; P (f (h, a))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
Forall P h -&gt; P (f (h, a))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk46"><span class="nb">intros</span>; <span class="nb">apply</span> Hstep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
(<span class="kr">forall</span> <span class="nv">b</span> : B, b ‚àà h -&gt; P b) -&gt; P (f (h, a))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Forall P h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B, b ‚àà h -&gt; P b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk47"><span class="nb">rewrite</span> TraversableFunctor.forall_iff <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>Hbase</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (f ([], a))</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">h</span> : list B),
(<span class="kr">forall</span> <span class="nv">b</span> : B, b ‚àà h -&gt; P b) -&gt; P (f (h, a))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B, a ‚àà h -&gt; P a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B, b ‚àà h -&gt; P b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">elementwise</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">induction</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Relating History to the Prefix: &lt;&lt;map_with_history&gt;&gt; *)</span>
<span class="sd">(**********************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">relate_history_prefix</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span> <span class="nv">B</span>: <span class="kt">Type</span>} (<span class="nv">f</span>: list B * A -&gt; B).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">run_using_prefix</span>: list A * A -&gt; B :=
    <span class="kr">fun</span> &#39;(prefix, a) =&gt; f (fold_with_history f prefix, a).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk48"><span class="kn">Lemma</span> <span class="nf">run_using_prefix_app_spec</span>: <span class="kr">forall</span> (<span class="nv">l</span>: list A) (<span class="nv">a</span>: A),
      fold_with_history f (l ++ [a]) =
        fold_with_history f l ++ [run_using_prefix (l, a)].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">l</span> : list A) (<span class="nv">a</span> : A),
fold_with_history f (l ++ [a]) =
fold_with_history f l ++ [run_using_prefix (l, a)]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk49"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">l</span> : list A) (<span class="nv">a</span> : A),
fold_with_history f (l ++ [a]) =
fold_with_history f l ++ [run_using_prefix (l, a)]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk4a"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f (l ++ [a]) =
fold_with_history f l ++ [run_using_prefix (l, a)]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk4b"><span class="nb">rewrite</span> fold_with_history_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history f l ++
fold_with_history (f ‚¶ø fold_with_history f l) [a] =
fold_with_history f l ++ [run_using_prefix (l, a)]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk4c">fequal.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_history (f ‚¶ø fold_with_history f l) [a] =
[run_using_prefix (l, a)]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk4d"><span class="nb">rewrite</span> fold_with_history_one.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">[(f ‚¶ø fold_with_history f l) ([], a)] =
[run_using_prefix (l, a)]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk4e"><span class="nb">unfold</span> preincr, incr, compose.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">[f (fold_with_history f l ‚óè [], a)] =
[run_using_prefix (l, a)]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk4f"><span class="nb">change</span> (@nil B) <span class="kr">with</span> (∆µ: list B) <span class="nb">at</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">[f (fold_with_history f l ‚óè (∆µ : list B), a)] =
[run_using_prefix (l, a)]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk50"><span class="nb">rewrite</span> monoid_id_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">[f (fold_with_history f l, a)] =
[run_using_prefix (l, a)]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">fequal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk51"><span class="kn">Lemma</span> <span class="nf">run_using_prefix_nil</span>: <span class="kr">forall</span> (<span class="nv">a</span>: A),
    run_using_prefix (nil, a) = f (nil, a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A, run_using_prefix ([], a) = f ([], a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk52"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A, run_using_prefix ([], a) = f ([], a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk53"><span class="kn">Lemma</span> <span class="nf">run_using_prefix_cons</span> {<span class="nv">a</span> <span class="nv">l</span> <span class="nv">x</span>}:
    run_using_prefix (a :: l, x) =
      f (f ([], a) :: fold_with_history (f ‚¶ø [f ([], a)]) l, x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">run_using_prefix (a :: l, x) =
f
  (f ([], a) :: fold_with_history (f ‚¶ø [f ([], a)]) l,
   x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk54"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">run_using_prefix (a :: l, x) =
f
  (f ([], a) :: fold_with_history (f ‚¶ø [f ([], a)]) l,
   x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk55"><span class="kn">Lemma</span> <span class="nf">run_using_prefix_app</span> {<span class="nv">l1</span> <span class="nv">l2</span> <span class="nv">x</span>}:
    run_using_prefix (l1 ++ l2, x) =
      f (fold_with_history f l1 ++ fold_with_history (f ‚¶ø fold_with_history f l1) l2, x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">run_using_prefix (l1 ++ l2, x) =
f
  (fold_with_history f l1 ++
   fold_with_history (f ‚¶ø fold_with_history f l1) l2,
   x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk56"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">run_using_prefix (l1 ++ l2, x) =
f
  (fold_with_history f l1 ++
   fold_with_history (f ‚¶ø fold_with_history f l1) l2,
   x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk57"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (fold_with_history f (l1 ++ l2), x) =
f
  (fold_with_history f l1 ++
   fold_with_history (f ‚¶ø fold_with_history f l1) l2,
   x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk58"><span class="nb">rewrite</span> fold_with_history_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f
  (fold_with_history f l1 ++
   fold_with_history (f ‚¶ø fold_with_history f l1) l2,
   x) =
f
  (fold_with_history f l1 ++
   fold_with_history (f ‚¶ø fold_with_history f l1) l2,
   x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk59"><span class="kn">Lemma</span> <span class="nf">run_using_prefix_one</span> {<span class="nv">a</span> <span class="nv">x</span>}:
    run_using_prefix ([a], x) =
      f ([f ([], a)], x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>a, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">run_using_prefix ([a], x) = f ([f ([], a)], x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk5a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>a, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">run_using_prefix ([a], x) = f ([f ([], a)], x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk5b"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>a, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f ([f ([], a)], x) = f ([f ([], a)], x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">relate_history_prefix</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk5c"><span class="kn">Lemma</span> <span class="nf">run_using_prefix_spec</span> {<span class="nv">A</span> <span class="nv">B</span>: <span class="kt">Type</span>} (<span class="nv">f</span>: list B * A -&gt; B):
  mapd_list_prefix (run_using_prefix f) =
    fold_with_history f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapd_list_prefix (run_using_prefix f) =
fold_with_history f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk5d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapd_list_prefix (run_using_prefix f) =
fold_with_history f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk5e">ext l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapd_list_prefix (run_using_prefix f) l =
fold_with_history f l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk5f"><span class="nb">generalize dependent</span> f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
mapd_list_prefix (run_using_prefix f) l =
fold_with_history f l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk60"><span class="nb">induction</span> l; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapd_list_prefix (run_using_prefix f) [] =
fold_with_history f []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk61" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
mapd_list_prefix (run_using_prefix f) l = fold_with_history f l</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><label class="goal-separator" for="common-v-chk61"><hr></label><div class="goal-conclusion">mapd_list_prefix (run_using_prefix f) (a :: l) =
fold_with_history f (a :: l)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk62">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapd_list_prefix (run_using_prefix f) [] =
fold_with_history f []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk63"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">[] = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk64">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
mapd_list_prefix (run_using_prefix f) l = fold_with_history f l</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapd_list_prefix (run_using_prefix f) (a :: l) =
fold_with_history f (a :: l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk65"><span class="nb">rewrite</span> mapd_list_prefix_rw_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
mapd_list_prefix (run_using_prefix f) l = fold_with_history f l</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">run_using_prefix f ([], a)
:: mapd_list_prefix (run_using_prefix f ‚¶ø [a]) l =
fold_with_history f (a :: l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk66"><span class="nb">rewrite</span> fold_with_history_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
mapd_list_prefix (run_using_prefix f) l = fold_with_history f l</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">run_using_prefix f ([], a)
:: mapd_list_prefix (run_using_prefix f ‚¶ø [a]) l =
f ([], a) :: fold_with_history (f ‚¶ø [f ([], a)]) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk67"><span class="nb">rewrite</span> run_using_prefix_nil.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
mapd_list_prefix (run_using_prefix f) l = fold_with_history f l</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f ([], a)
:: mapd_list_prefix (run_using_prefix f ‚¶ø [a]) l =
f ([], a) :: fold_with_history (f ‚¶ø [f ([], a)]) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk68"><span class="nb">rewrite</span> &lt;- IHl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
mapd_list_prefix (run_using_prefix f) l = fold_with_history f l</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f ([], a)
:: mapd_list_prefix (run_using_prefix f ‚¶ø [a]) l =
f ([], a)
:: mapd_list_prefix
     (run_using_prefix (f ‚¶ø [f ([], a)])) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk69">fequal.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
mapd_list_prefix (run_using_prefix f) l = fold_with_history f l</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mapd_list_prefix (run_using_prefix f ‚¶ø [a]) l =
mapd_list_prefix (run_using_prefix (f ‚¶ø [f ([], a)]))
  l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk6a">fequal.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
mapd_list_prefix (run_using_prefix f) l = fold_with_history f l</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">run_using_prefix f ‚¶ø [a] =
run_using_prefix (f ‚¶ø [f ([], a)])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk6b">ext [w a&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
mapd_list_prefix (run_using_prefix f) l = fold_with_history f l</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(run_using_prefix f ‚¶ø [a]) (w, a&#39;) =
run_using_prefix (f ‚¶ø [f ([], a)]) (w, a&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk6c"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : list B * A -&gt; B,
mapd_list_prefix (run_using_prefix f) l = fold_with_history f l</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * A -&gt; B</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f
  (f ([], a) :: fold_with_history (f ‚¶ø [f ([], a)]) w,
   a&#39;) =
(f ‚¶ø [f ([], a)])
  (fold_with_history (f ‚¶ø [f ([], a)]) w, a&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

<span class="sd">(** * Folding with context AND history *)</span>
<span class="sd">(**********************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">fold_with_ctx_history_rec</span> {<span class="nv">A</span> <span class="nv">B</span>: <span class="kt">Type</span>}
  (<span class="nv">f</span>: list B * list A * A -&gt; B)
  (<span class="nv">hist</span>: list B) (<span class="nv">ctx</span>: list A)

  (<span class="nv">l</span>: list A): list B :=
  <span class="kr">match</span> l <span class="kr">with</span>
  | nil =&gt; nil
  | cons a rest =&gt;
      f (hist, ctx, a) :: fold_with_ctx_history_rec f (hist ++ [f (hist, ctx, a)]) (ctx ++ [a]) rest
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">fold_with_ctx_history</span> {<span class="nv">A</span> <span class="nv">B</span>: <span class="kt">Type</span>}
  (<span class="nv">f</span>: list B * list A * A -&gt; B)
  (<span class="nv">l</span>: list A): list B :=
  fold_with_ctx_history_rec f [] [] l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">rw</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span> <span class="nv">B</span>: <span class="kt">Type</span>}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">basic</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> (<span class="nv">f</span>: list B * list A * A -&gt; B).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk6d"><span class="kn">Lemma</span> <span class="nf">fold_with_ctx_history_nil_rec</span>: <span class="kr">forall</span> <span class="nv">hist</span> <span class="nv">ctx</span>,
      fold_with_ctx_history_rec f hist ctx nil = nil.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">hist</span> : list B) (<span class="nv">ctx</span> : list A),
fold_with_ctx_history_rec f hist ctx [] = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk6e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">hist</span> : list B) (<span class="nv">ctx</span> : list A),
fold_with_ctx_history_rec f hist ctx [] = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk6f"><span class="kn">Lemma</span> <span class="nf">fold_with_ctx_history_cons</span> {<span class="nv">a</span> <span class="nv">l</span>}:
      fold_with_ctx_history f (a :: l) =
        f ([], [], a) :: fold_with_ctx_history_rec f [f ([], [], a)] [a] l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history f (a :: l) =
f ([], [], a)
:: fold_with_ctx_history_rec f [f ([], [], a)] [a] l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk70"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history f (a :: l) =
f ([], [], a)
:: fold_with_ctx_history_rec f [f ([], [], a)] [a] l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk71"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f ([], [], a)
:: fold_with_ctx_history_rec f [f ([], [], a)] [a] l =
f ([], [], a)
:: fold_with_ctx_history_rec f [f ([], [], a)] [a] l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk72"><span class="kn">Lemma</span> <span class="nf">fold_with_ctx_history_one_rec</span> {<span class="nv">hist</span> <span class="nv">ctx</span> <span class="nv">a</span>}:
      fold_with_ctx_history_rec f hist ctx ([a]) =
        [f (hist, ctx, a)].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>hist</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history_rec f hist ctx [a] =
[f (hist, ctx, a)]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk73"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>hist</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history_rec f hist ctx [a] =
[f (hist, ctx, a)]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk74"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>hist</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">[f (hist, ctx, a)] = [f (hist, ctx, a)]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk75"><span class="kn">Lemma</span> <span class="nf">fold_with_ctx_history_nil</span>:
      fold_with_ctx_history f nil = nil.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history f [] = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk76"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history f [] = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk77"><span class="kn">Lemma</span> <span class="nf">fold_with_ctx_history_cons_rec</span> {<span class="nv">hist</span> <span class="nv">ctx</span> <span class="nv">a</span> <span class="nv">l</span>}:
      fold_with_ctx_history_rec f hist ctx (a :: l) =
        f (hist, ctx, a) :: fold_with_ctx_history_rec f (hist ++ [f (hist, ctx, a)]) (ctx ++ [a]) l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>hist</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history_rec f hist ctx (a :: l) =
f (hist, ctx, a)
:: fold_with_ctx_history_rec f
     (hist ++ [f (hist, ctx, a)]) (ctx ++ [a]) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk78"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>hist</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history_rec f hist ctx (a :: l) =
f (hist, ctx, a)
:: fold_with_ctx_history_rec f
     (hist ++ [f (hist, ctx, a)]) (ctx ++ [a]) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk79"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>hist</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (hist, ctx, a)
:: fold_with_ctx_history_rec f
     (hist ++ [f (hist, ctx, a)]) (ctx ++ [a]) l =
f (hist, ctx, a)
:: fold_with_ctx_history_rec f
     (hist ++ [f (hist, ctx, a)]) (ctx ++ [a]) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk7a"><span class="kn">Lemma</span> <span class="nf">fold_with_ctx_history_one</span> {<span class="nv">a</span>}:
      fold_with_ctx_history f ([a]) =
        [f ([], [], a)].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history f [a] = [f ([], [], a)]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk7b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history f [a] = [f ([], [], a)]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk7c"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">[f ([], [], a)] = [f ([], [], a)]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">basic</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk7d"><span class="kn">Lemma</span> <span class="nf">fold_with_ctx_history_app_rec</span> {<span class="nv">l1</span> <span class="nv">l2</span>: list A}:
    <span class="kr">forall</span> (<span class="nv">f</span>: list B * list A * A -&gt; B) <span class="nv">hist</span> <span class="nv">ctx</span>,
      fold_with_ctx_history_rec f hist ctx (l1 ++ l2) =
        fold_with_ctx_history_rec f hist ctx l1 ++
          fold_with_ctx_history_rec f (hist ++ fold_with_ctx_history_rec f hist ctx l1) (ctx ++ l1) l2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">f</span> : list B * list A * A -&gt; B) (<span class="nv">hist</span> : list B)
  (<span class="nv">ctx</span> : list A),
fold_with_ctx_history_rec f hist ctx (l1 ++ l2) =
fold_with_ctx_history_rec f hist ctx l1 ++
fold_with_ctx_history_rec f
  (hist ++ fold_with_ctx_history_rec f hist ctx l1)
  (ctx ++ l1) l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk7e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">f</span> : list B * list A * A -&gt; B) (<span class="nv">hist</span> : list B)
  (<span class="nv">ctx</span> : list A),
fold_with_ctx_history_rec f hist ctx (l1 ++ l2) =
fold_with_ctx_history_rec f hist ctx l1 ++
fold_with_ctx_history_rec f
  (hist ++ fold_with_ctx_history_rec f hist ctx l1)
  (ctx ++ l1) l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk7f"><span class="nb">induction</span> l1 <span class="kr">as</span> [|a l1 IHl1]; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>hist</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history_rec f hist ctx ([] ++ l2) =
fold_with_ctx_history_rec f hist ctx [] ++
fold_with_ctx_history_rec f
  (hist ++ fold_with_ctx_history_rec f hist ctx [])
  (ctx ++ []) l2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk80" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> : list B * list A * A -&gt; B)
  (<span class="nv">hist</span> : list B) (<span class="nv">ctx</span> : list A),
fold_with_ctx_history_rec f hist ctx (l1 ++ l2) =
fold_with_ctx_history_rec f hist ctx l1 ++
fold_with_ctx_history_rec f
  (hist ++
   fold_with_ctx_history_rec f hist ctx l1)
  (ctx ++ l1) l2</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>hist</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><label class="goal-separator" for="common-v-chk80"><hr></label><div class="goal-conclusion">fold_with_ctx_history_rec f hist ctx ((a :: l1) ++ l2) =
fold_with_ctx_history_rec f hist ctx (a :: l1) ++
fold_with_ctx_history_rec f
  (hist ++
   fold_with_ctx_history_rec f hist ctx (a :: l1))
  (ctx ++ a :: l1) l2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk81">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>hist</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history_rec f hist ctx ([] ++ l2) =
fold_with_ctx_history_rec f hist ctx [] ++
fold_with_ctx_history_rec f
  (hist ++ fold_with_ctx_history_rec f hist ctx [])
  (ctx ++ []) l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk82"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>hist</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history_rec f hist ctx l2 =
fold_with_ctx_history_rec f (hist ++ []) (ctx ++ [])
  l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk83"><span class="kp">do</span> <span class="mi">2</span> <span class="nb">rewrite</span> List.app_nil_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>hist</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history_rec f hist ctx l2 =
fold_with_ctx_history_rec f hist ctx l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk84">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> : list B * list A * A -&gt; B)
  (<span class="nv">hist</span> : list B) (<span class="nv">ctx</span> : list A),
fold_with_ctx_history_rec f hist ctx (l1 ++ l2) =
fold_with_ctx_history_rec f hist ctx l1 ++
fold_with_ctx_history_rec f
  (hist ++
   fold_with_ctx_history_rec f hist ctx l1)
  (ctx ++ l1) l2</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>hist</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history_rec f hist ctx ((a :: l1) ++ l2) =
fold_with_ctx_history_rec f hist ctx (a :: l1) ++
fold_with_ctx_history_rec f
  (hist ++
   fold_with_ctx_history_rec f hist ctx (a :: l1))
  (ctx ++ a :: l1) l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk85"><span class="nb">rewrite</span> &lt;- List.app_comm_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> : list B * list A * A -&gt; B)
  (<span class="nv">hist</span> : list B) (<span class="nv">ctx</span> : list A),
fold_with_ctx_history_rec f hist ctx (l1 ++ l2) =
fold_with_ctx_history_rec f hist ctx l1 ++
fold_with_ctx_history_rec f
  (hist ++
   fold_with_ctx_history_rec f hist ctx l1)
  (ctx ++ l1) l2</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>hist</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history_rec f hist ctx (a :: l1 ++ l2) =
fold_with_ctx_history_rec f hist ctx (a :: l1) ++
fold_with_ctx_history_rec f
  (hist ++
   fold_with_ctx_history_rec f hist ctx (a :: l1))
  (ctx ++ a :: l1) l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk86"><span class="nb">rewrite</span> fold_with_ctx_history_cons_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> : list B * list A * A -&gt; B)
  (<span class="nv">hist</span> : list B) (<span class="nv">ctx</span> : list A),
fold_with_ctx_history_rec f hist ctx (l1 ++ l2) =
fold_with_ctx_history_rec f hist ctx l1 ++
fold_with_ctx_history_rec f
  (hist ++
   fold_with_ctx_history_rec f hist ctx l1)
  (ctx ++ l1) l2</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>hist</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (hist, ctx, a)
:: fold_with_ctx_history_rec f
     (hist ++ [f (hist, ctx, a)]) (ctx ++ [a])
     (l1 ++ l2) =
fold_with_ctx_history_rec f hist ctx (a :: l1) ++
fold_with_ctx_history_rec f
  (hist ++
   fold_with_ctx_history_rec f hist ctx (a :: l1))
  (ctx ++ a :: l1) l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk87"><span class="nb">rewrite</span> fold_with_ctx_history_cons_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> : list B * list A * A -&gt; B)
  (<span class="nv">hist</span> : list B) (<span class="nv">ctx</span> : list A),
fold_with_ctx_history_rec f hist ctx (l1 ++ l2) =
fold_with_ctx_history_rec f hist ctx l1 ++
fold_with_ctx_history_rec f
  (hist ++
   fold_with_ctx_history_rec f hist ctx l1)
  (ctx ++ l1) l2</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>hist</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (hist, ctx, a)
:: fold_with_ctx_history_rec f
     (hist ++ [f (hist, ctx, a)]) (ctx ++ [a])
     (l1 ++ l2) =
(f (hist, ctx, a)
 :: fold_with_ctx_history_rec f
      (hist ++ [f (hist, ctx, a)]) (ctx ++ [a]) l1) ++
fold_with_ctx_history_rec f
  (hist ++
   f (hist, ctx, a)
   :: fold_with_ctx_history_rec f
        (hist ++ [f (hist, ctx, a)]) (ctx ++ [a]) l1)
  (ctx ++ a :: l1) l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk88"><span class="nb">rewrite</span> IHl1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> : list B * list A * A -&gt; B)
  (<span class="nv">hist</span> : list B) (<span class="nv">ctx</span> : list A),
fold_with_ctx_history_rec f hist ctx (l1 ++ l2) =
fold_with_ctx_history_rec f hist ctx l1 ++
fold_with_ctx_history_rec f
  (hist ++
   fold_with_ctx_history_rec f hist ctx l1)
  (ctx ++ l1) l2</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>hist</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (hist, ctx, a)
:: fold_with_ctx_history_rec f
     (hist ++ [f (hist, ctx, a)]) (ctx ++ [a]) l1 ++
   fold_with_ctx_history_rec f
     ((hist ++ [f (hist, ctx, a)]) ++
      fold_with_ctx_history_rec f
        (hist ++ [f (hist, ctx, a)]) (ctx ++ [a]) l1)
     ((ctx ++ [a]) ++ l1) l2 =
(f (hist, ctx, a)
 :: fold_with_ctx_history_rec f
      (hist ++ [f (hist, ctx, a)]) (ctx ++ [a]) l1) ++
fold_with_ctx_history_rec f
  (hist ++
   f (hist, ctx, a)
   :: fold_with_ctx_history_rec f
        (hist ++ [f (hist, ctx, a)]) (ctx ++ [a]) l1)
  (ctx ++ a :: l1) l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk89"><span class="nb">rewrite</span> &lt;- List.app_comm_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> : list B * list A * A -&gt; B)
  (<span class="nv">hist</span> : list B) (<span class="nv">ctx</span> : list A),
fold_with_ctx_history_rec f hist ctx (l1 ++ l2) =
fold_with_ctx_history_rec f hist ctx l1 ++
fold_with_ctx_history_rec f
  (hist ++
   fold_with_ctx_history_rec f hist ctx l1)
  (ctx ++ l1) l2</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>hist</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (hist, ctx, a)
:: fold_with_ctx_history_rec f
     (hist ++ [f (hist, ctx, a)]) (ctx ++ [a]) l1 ++
   fold_with_ctx_history_rec f
     ((hist ++ [f (hist, ctx, a)]) ++
      fold_with_ctx_history_rec f
        (hist ++ [f (hist, ctx, a)]) (ctx ++ [a]) l1)
     ((ctx ++ [a]) ++ l1) l2 =
f (hist, ctx, a)
:: fold_with_ctx_history_rec f
     (hist ++ [f (hist, ctx, a)]) (ctx ++ [a]) l1 ++
   fold_with_ctx_history_rec f
     (hist ++
      f (hist, ctx, a)
      :: fold_with_ctx_history_rec f
           (hist ++ [f (hist, ctx, a)]) (ctx ++ [a])
           l1) (ctx ++ a :: l1) l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk8a"><span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- List.app_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> : list B * list A * A -&gt; B)
  (<span class="nv">hist</span> : list B) (<span class="nv">ctx</span> : list A),
fold_with_ctx_history_rec f hist ctx (l1 ++ l2) =
fold_with_ctx_history_rec f hist ctx l1 ++
fold_with_ctx_history_rec f
  (hist ++
   fold_with_ctx_history_rec f hist ctx l1)
  (ctx ++ l1) l2</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br><span><var>hist</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (hist, ctx, a)
:: fold_with_ctx_history_rec f
     (hist ++ [f (hist, ctx, a)]) (ctx ++ [a]) l1 ++
   fold_with_ctx_history_rec f
     (hist ++
      [f (hist, ctx, a)] ++
      fold_with_ctx_history_rec f
        (hist ++ [f (hist, ctx, a)]) (ctx ++ [a]) l1)
     (ctx ++ [a] ++ l1) l2 =
f (hist, ctx, a)
:: fold_with_ctx_history_rec f
     (hist ++ [f (hist, ctx, a)]) (ctx ++ [a]) l1 ++
   fold_with_ctx_history_rec f
     (hist ++
      f (hist, ctx, a)
      :: fold_with_ctx_history_rec f
           (hist ++ [f (hist, ctx, a)]) (ctx ++ [a])
           l1) (ctx ++ a :: l1) l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk8b"><span class="kn">Lemma</span> <span class="nf">fold_with_ctx_history_app</span> {<span class="nv">l1</span> <span class="nv">l2</span>: list A}:
    <span class="kr">forall</span> (<span class="nv">f</span>: list B * list A * A -&gt; B),
      fold_with_ctx_history f (l1 ++ l2) =
        fold_with_ctx_history f l1 ++
          fold_with_ctx_history_rec f (fold_with_ctx_history_rec f [] [] l1) l1 l2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">f</span> : list B * list A * A -&gt; B,
fold_with_ctx_history f (l1 ++ l2) =
fold_with_ctx_history f l1 ++
fold_with_ctx_history_rec f
  (fold_with_ctx_history_rec f [] [] l1) l1 l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk8c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">f</span> : list B * list A * A -&gt; B,
fold_with_ctx_history f (l1 ++ l2) =
fold_with_ctx_history f l1 ++
fold_with_ctx_history_rec f
  (fold_with_ctx_history_rec f [] [] l1) l1 l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk8d"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history f (l1 ++ l2) =
fold_with_ctx_history f l1 ++
fold_with_ctx_history_rec f
  (fold_with_ctx_history_rec f [] [] l1) l1 l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk8e"><span class="nb">unfold</span> fold_with_ctx_history.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history_rec f [] [] (l1 ++ l2) =
fold_with_ctx_history_rec f [] [] l1 ++
fold_with_ctx_history_rec f
  (fold_with_ctx_history_rec f [] [] l1) l1 l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk8f"><span class="nb">rewrite</span> fold_with_ctx_history_app_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history_rec f [] [] l1 ++
fold_with_ctx_history_rec f
  ([] ++ fold_with_ctx_history_rec f [] [] l1)
  ([] ++ l1) l2 =
fold_with_ctx_history_rec f [] [] l1 ++
fold_with_ctx_history_rec f
  (fold_with_ctx_history_rec f [] [] l1) l1 l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk90"><span class="nb">rewrite</span> List.app_nil_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history_rec f [] [] l1 ++
fold_with_ctx_history_rec f
  (fold_with_ctx_history_rec f [] [] l1) ([] ++ l1) l2 =
fold_with_ctx_history_rec f [] [] l1 ++
fold_with_ctx_history_rec f
  (fold_with_ctx_history_rec f [] [] l1) l1 l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk91"><span class="nb">rewrite</span> List.app_nil_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list B * list A * A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fold_with_ctx_history_rec f [] [] l1 ++
fold_with_ctx_history_rec f
  (fold_with_ctx_history_rec f [] [] l1) l1 l2 =
fold_with_ctx_history_rec f [] [] l1 ++
fold_with_ctx_history_rec f
  (fold_with_ctx_history_rec f [] [] l1) l1 l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">rw</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">




<span class="sd">(** ** The logic of binding *)</span>
<span class="sd">(**********************************************************************)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">Binding</span>: <span class="kt">Type</span> :=
  Bound: list name -&gt; name -&gt; list name -&gt; Binding
| Unbound: list name -&gt; name -&gt; Binding.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">get_binding_rec_bound</span> (<span class="nv">looking_for</span>: name) (<span class="nv">prefix</span>: list name) (<span class="nv">postfix</span>: list name) (<span class="nv">l</span>: list name):
  Binding :=
  <span class="kr">match</span> l <span class="kr">with</span>
  | nil =&gt; Bound prefix looking_for postfix
  | cons y ys =&gt;
      <span class="kr">if</span> looking_for == y
      <span class="kr">then</span> get_binding_rec_bound looking_for (prefix ++ [looking_for] ++ postfix) [] ys
      <span class="kr">else</span> get_binding_rec_bound looking_for (prefix) (postfix ++ [y]) ys
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">get_binding_rec_unbound</span> (<span class="nv">looking_for</span>: name) (<span class="nv">prefix</span>: list name) (<span class="nv">l</span>: list name): Binding :=
  <span class="kr">match</span> l <span class="kr">with</span>
  | nil =&gt; Unbound prefix looking_for
  | cons y ys =&gt;
      <span class="kr">if</span> looking_for == y
      <span class="kr">then</span> get_binding_rec_bound looking_for prefix [] ys
      <span class="kr">else</span> get_binding_rec_unbound looking_for (prefix ++ [y]) ys
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">get_binding</span> (<span class="nv">ctx</span>: list name) (<span class="nv">v</span>: name) :=
  get_binding_rec_unbound v [] ctx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">rw</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">cons</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> (<span class="nv">looking_for</span>: name).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> (<span class="nv">pre</span> <span class="nv">post</span>: list name) (<span class="nv">a</span>: name).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk92"><span class="kn">Lemma</span> <span class="nf">get_binding_rec_unbound_cons_neq</span>: <span class="kr">forall</span> <span class="nv">l</span>,
        a &lt;&gt; looking_for -&gt;
        get_binding_rec_unbound looking_for pre (a :: l) =
          get_binding_rec_unbound looking_for (pre ++ [a]) l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l</span> : list atom,
a &lt;&gt; looking_for -&gt;
get_binding_rec_unbound looking_for pre (a :: l) =
get_binding_rec_unbound looking_for (pre ++ [a]) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk93"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l</span> : list atom,
a &lt;&gt; looking_for -&gt;
get_binding_rec_unbound looking_for pre (a :: l) =
get_binding_rec_unbound looking_for (pre ++ [a]) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk94"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding_rec_unbound looking_for pre (a :: l) =
get_binding_rec_unbound looking_for (pre ++ [a]) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk95"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span> looking_for == a
 <span class="kr">then</span> get_binding_rec_bound looking_for pre [] l
 <span class="kr">else</span>
  get_binding_rec_unbound looking_for (pre ++ [a]) l) =
get_binding_rec_unbound looking_for (pre ++ [a]) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">destruct_eq_args looking_for a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk96"><span class="kn">Lemma</span> <span class="nf">get_binding_rec_unbound_cons_eq</span>: <span class="kr">forall</span> <span class="nv">l</span>,
        a = looking_for -&gt;
        get_binding_rec_unbound looking_for pre (a :: l) =
          get_binding_rec_bound looking_for pre [] l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l</span> : list atom,
a = looking_for -&gt;
get_binding_rec_unbound looking_for pre (a :: l) =
get_binding_rec_bound looking_for pre [] l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk97"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l</span> : list atom,
a = looking_for -&gt;
get_binding_rec_unbound looking_for pre (a :: l) =
get_binding_rec_bound looking_for pre [] l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk98"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a = looking_for</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding_rec_unbound looking_for pre (a :: l) =
get_binding_rec_bound looking_for pre [] l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk99"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a = looking_for</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span> looking_for == a
 <span class="kr">then</span> get_binding_rec_bound looking_for pre [] l
 <span class="kr">else</span>
  get_binding_rec_unbound looking_for (pre ++ [a]) l) =
get_binding_rec_bound looking_for pre [] l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">destruct_eq_args looking_for a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk9a"><span class="kn">Lemma</span> <span class="nf">get_binding_rec_bound_cons_neq</span>: <span class="kr">forall</span> <span class="nv">l</span>,
        a &lt;&gt; looking_for -&gt;
        get_binding_rec_bound looking_for pre post (a :: l) =
          get_binding_rec_bound looking_for pre (post ++ [a]) l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l</span> : list atom,
a &lt;&gt; looking_for -&gt;
get_binding_rec_bound looking_for pre post (a :: l) =
get_binding_rec_bound looking_for pre (post ++ [a]) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk9b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l</span> : list atom,
a &lt;&gt; looking_for -&gt;
get_binding_rec_bound looking_for pre post (a :: l) =
get_binding_rec_bound looking_for pre (post ++ [a]) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk9c"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding_rec_bound looking_for pre post (a :: l) =
get_binding_rec_bound looking_for pre (post ++ [a]) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk9d"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span> looking_for == a
 <span class="kr">then</span>
  get_binding_rec_bound looking_for
    (pre ++ looking_for :: post) [] l
 <span class="kr">else</span>
  get_binding_rec_bound looking_for pre (post ++ [a])
    l) =
get_binding_rec_bound looking_for pre (post ++ [a]) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">destruct_eq_args looking_for a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk9e"><span class="kn">Lemma</span> <span class="nf">get_binding_rec_bound_cons_eq</span>: <span class="kr">forall</span> <span class="nv">l</span>,
        a = looking_for -&gt;
        get_binding_rec_bound looking_for pre post (a :: l) =
          get_binding_rec_bound looking_for (pre ++ [a] ++ post) [] l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l</span> : list atom,
a = looking_for -&gt;
get_binding_rec_bound looking_for pre post (a :: l) =
get_binding_rec_bound looking_for (pre ++ [a] ++ post)
  [] l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk9f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l</span> : list atom,
a = looking_for -&gt;
get_binding_rec_bound looking_for pre post (a :: l) =
get_binding_rec_bound looking_for (pre ++ [a] ++ post)
  [] l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chka0"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a = looking_for</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding_rec_bound looking_for pre post (a :: l) =
get_binding_rec_bound looking_for (pre ++ [a] ++ post)
  [] l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chka1"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a = looking_for</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span> looking_for == a
 <span class="kr">then</span>
  get_binding_rec_bound looking_for
    (pre ++ looking_for :: post) [] l
 <span class="kr">else</span>
  get_binding_rec_bound looking_for pre (post ++ [a])
    l) =
get_binding_rec_bound looking_for (pre ++ a :: post)
  [] l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">destruct_eq_args looking_for a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chka2"><span class="kn">Lemma</span> <span class="nf">get_binding_eq</span>: <span class="kr">forall</span> <span class="nv">l</span>,
        a = looking_for -&gt;
        get_binding (a :: l) looking_for =
          get_binding_rec_bound looking_for [] [] l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l</span> : list atom,
a = looking_for -&gt;
get_binding (a :: l) looking_for =
get_binding_rec_bound looking_for [] [] l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chka3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l</span> : list atom,
a = looking_for -&gt;
get_binding (a :: l) looking_for =
get_binding_rec_bound looking_for [] [] l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chka4"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a = looking_for</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding (a :: l) looking_for =
get_binding_rec_bound looking_for [] [] l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chka5"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a = looking_for</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span> looking_for == a
 <span class="kr">then</span> get_binding_rec_bound looking_for [] [] l
 <span class="kr">else</span> get_binding_rec_unbound looking_for [a] l) =
get_binding_rec_bound looking_for [] [] l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">destruct_eq_args looking_for a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chka6"><span class="kn">Lemma</span> <span class="nf">get_binding_neq</span>: <span class="kr">forall</span> <span class="nv">l</span>,
        a &lt;&gt; looking_for -&gt;
        get_binding (a :: l) looking_for =
          get_binding_rec_unbound looking_for [a] l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l</span> : list atom,
a &lt;&gt; looking_for -&gt;
get_binding (a :: l) looking_for =
get_binding_rec_unbound looking_for [a] l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chka7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">l</span> : list atom,
a &lt;&gt; looking_for -&gt;
get_binding (a :: l) looking_for =
get_binding_rec_unbound looking_for [a] l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chka8"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding (a :: l) looking_for =
get_binding_rec_unbound looking_for [a] l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chka9"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span> looking_for == a
 <span class="kr">then</span> get_binding_rec_bound looking_for [] [] l
 <span class="kr">else</span> get_binding_rec_unbound looking_for [a] l) =
get_binding_rec_unbound looking_for [a] l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">destruct_eq_args looking_for a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">cons</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkaa"><span class="kn">Lemma</span> <span class="nf">get_binding_rec_general</span>: <span class="kr">forall</span> (<span class="nv">looking_for</span>: name) <span class="nv">pre&#39;</span> <span class="nv">post&#39;</span> <span class="nv">l</span>,
      ~ looking_for ‚àà post&#39; -&gt;
      <span class="kr">exists</span> (<span class="nv">pre</span> <span class="nv">post</span>: list name),
        get_binding_rec_bound looking_for pre&#39; post&#39; l =
          Bound pre looking_for post
        /\ ~ looking_for ‚àà post.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">looking_for</span> : atom) (<span class="nv">pre&#39;</span> <span class="nv">post&#39;</span> <span class="nv">l</span> : list atom),
~ looking_for ‚àà post&#39; -&gt;
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\ ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkab"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">looking_for</span> : atom) (<span class="nv">pre&#39;</span> <span class="nv">post&#39;</span> <span class="nv">l</span> : list atom),
~ looking_for ‚àà post&#39; -&gt;
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\ ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkac">introv Hanin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre', post', l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\ ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkad"><span class="nb">generalize dependent</span> pre&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>post', l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\ ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkae"><span class="nb">generalize dependent</span> post&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">post&#39;</span> : list atom,
~ looking_for ‚àà post&#39; -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\ ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkaf"><span class="nb">induction</span> l; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; [] =
  Bound pre looking_for post /\ ~ looking_for ‚àà post</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chkb0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">post&#39;</span> : list atom,
~ looking_for ‚àà post&#39; -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><label class="goal-separator" for="common-v-chkb0"><hr></label><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39;
    (a :: l) = Bound pre looking_for post /\
  ~ looking_for ‚àà post</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkb1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; [] =
  Bound pre looking_for post /\ ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkb2"><span class="kr">exists</span> <span class="nv">pre&#39;</span> <span class="nv">post&#39;</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding_rec_bound looking_for pre&#39; post&#39; [] =
Bound pre&#39; looking_for post&#39; /\ ~ looking_for ‚àà post&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">cbn</span>; <span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkb3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">post&#39;</span> : list atom,
~ looking_for ‚àà post&#39; -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39;
    (a :: l) = Bound pre looking_for post /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkb4"><span class="nb">destruct</span> (looking_for == a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">post&#39;</span> : list atom,
~ looking_for ‚àà post&#39; -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>looking_for = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39;
    (a :: l) = Bound pre looking_for post /\
  ~ looking_for ‚àà post</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chkb5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">post&#39;</span> : list atom,
~ looking_for ‚àà post&#39; -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br></div><label class="goal-separator" for="common-v-chkb5"><hr></label><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39;
    (a :: l) = Bound pre looking_for post /\
  ~ looking_for ‚àà post</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkb6">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">post&#39;</span> : list atom,
~ looking_for ‚àà post&#39; -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>looking_for = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39;
    (a :: l) = Bound pre looking_for post /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> get_binding_rec_bound_cons_eq; <span class="nb">auto</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkb7">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">post&#39;</span> : list atom,
~ looking_for ‚àà post&#39; -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39;
    (a :: l) = Bound pre looking_for post /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkb8">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">post&#39;</span> : list atom,
~ looking_for ‚àà post&#39; -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39;
    (a :: l) = Bound pre looking_for post /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkb9"><span class="nb">rewrite</span> get_binding_rec_bound_cons_neq; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">post&#39;</span> : list atom,
~ looking_for ‚àà post&#39; -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l = Bound pre looking_for post /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkba"><span class="nb">specialize</span> (IHl (post&#39; ++ [a])).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a]) -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l =
  Bound pre looking_for post /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l = Bound pre looking_for post /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkbb"><span class="nb">assert</span> (Hnlf: ~ looking_for ‚àà (post&#39; ++ [a])).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a]) -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l =
  Bound pre looking_for post /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ looking_for ‚àà (post&#39; ++ [a])</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chkbc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a]) -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l =
  Bound pre looking_for post /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>Hnlf</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a])</span></span></span><br></div><label class="goal-separator" for="common-v-chkbc"><hr></label><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l = 
  Bound pre looking_for post /\ 
  ~ looking_for ‚àà post</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkbd">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a]) -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l =
  Bound pre looking_for post /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ looking_for ‚àà (post&#39; ++ [a])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkbe"><span class="nb">rewrite</span> element_of_list_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a]) -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l =
  Bound pre looking_for post /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ (looking_for ‚àà post&#39; \/ looking_for ‚àà [a])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkbf"><span class="nb">rewrite</span> element_of_list_one.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a]) -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l =
  Bound pre looking_for post /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ (looking_for ‚àà post&#39; \/ looking_for = a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">firstorder</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkc0">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a]) -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l =
  Bound pre looking_for post /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>Hnlf</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l = Bound pre looking_for post /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkc1"><span class="nb">specialize</span> (IHl Hnlf).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l =
  Bound pre looking_for post /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>Hnlf</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l = Bound pre looking_for post /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkc2"><span class="nb">specialize</span> (IHl pre&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l =
  Bound pre looking_for post /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>Hanin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>Hnlf</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l = Bound pre looking_for post /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkc3"><span class="kn">Lemma</span> <span class="nf">get_binding_bound_general</span>: <span class="kr">forall</span> (<span class="nv">looking_for</span>: name) <span class="nv">pre&#39;</span> <span class="nv">post&#39;</span> <span class="nv">l</span>,
      ~ looking_for ‚àà post&#39; -&gt;
      <span class="kr">exists</span> (<span class="nv">pre</span> <span class="nv">post</span>: list name),
        get_binding_rec_bound looking_for pre&#39; post&#39; l =
          Bound pre looking_for post
        /\ pre ++ [looking_for] ++ post = (pre&#39; ++ [looking_for] ++ post&#39; ++ l)
        /\ ~ looking_for ‚àà post.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">looking_for</span> : atom) (<span class="nv">pre&#39;</span> <span class="nv">post&#39;</span> <span class="nv">l</span> : list atom),
~ looking_for ‚àà post&#39; -&gt;
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ l /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkc4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">looking_for</span> : atom) (<span class="nv">pre&#39;</span> <span class="nv">post&#39;</span> <span class="nv">l</span> : list atom),
~ looking_for ‚àà post&#39; -&gt;
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ l /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkc5">introv Hnin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre', post', l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ l /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkc6"><span class="nb">generalize dependent</span> pre&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>post', l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ l /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkc7"><span class="nb">generalize dependent</span> post&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">post&#39;</span> : list atom,
~ looking_for ‚àà post&#39; -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ l /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkc8"><span class="nb">induction</span> l; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; [] =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ [] /\
  ~ looking_for ‚àà post</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chkc9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">post&#39;</span> : list atom,
~ looking_for ‚àà post&#39; -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ l /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><label class="goal-separator" for="common-v-chkc9"><hr></label><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39;
    (a :: l) = Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ a :: l /\
  ~ looking_for ‚àà post</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkca">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; [] =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ [] /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkcb"><span class="kr">exists</span> (<span class="nv">pre&#39;</span>: list name) (<span class="nv">post&#39;</span>:list name).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding_rec_bound looking_for pre&#39; post&#39; [] =
Bound pre&#39; looking_for post&#39; /\
pre&#39; ++ [looking_for] ++ post&#39; =
pre&#39; ++ [looking_for] ++ post&#39; ++ [] /\
~ looking_for ‚àà post&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkcc"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Bound pre&#39; looking_for post&#39; =
Bound pre&#39; looking_for post&#39; /\
pre&#39; ++ looking_for :: post&#39; =
pre&#39; ++ looking_for :: post&#39; ++ [] /\
~ looking_for ‚àà post&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkcd">splits.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Bound pre&#39; looking_for post&#39; =
Bound pre&#39; looking_for post&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chkce" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><label class="goal-separator" for="common-v-chkce"><hr></label><div class="goal-conclusion">pre&#39; ++ looking_for :: post&#39; =
pre&#39; ++ looking_for :: post&#39; ++ []</div></blockquote><input class="alectryon-extra-goal-toggle" id="common-v-chkcf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><label class="goal-separator" for="common-v-chkcf"><hr></label><div class="goal-conclusion">~ looking_for ‚àà post&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkd0">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Bound pre&#39; looking_for post&#39; =
Bound pre&#39; looking_for post&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkd1">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre&#39; ++ looking_for :: post&#39; =
pre&#39; ++ looking_for :: post&#39; ++ []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkd2"><span class="nb">rewrite</span> List.app_nil_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre&#39; ++ looking_for :: post&#39; =
pre&#39; ++ looking_for :: post&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkd3">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ looking_for ‚àà post&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkd4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">post&#39;</span> : list atom,
~ looking_for ‚àà post&#39; -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ l /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39;
    (a :: l) = Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ a :: l /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkd5">destruct_eq_args looking_for a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">post&#39;</span> : list atom,
~ a ‚àà post&#39; -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
get_binding_rec_bound a pre&#39; post&#39; l = Bound pre a post /\
pre ++ [a] ++ post = pre&#39; ++ [a] ++ post&#39; ++ l /\ ~ a ‚àà post</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound a pre&#39; post&#39; (a :: l) =
  Bound pre a post /\
  pre ++ [a] ++ post = pre&#39; ++ [a] ++ post&#39; ++ a :: l /\
  ~ a ‚àà post</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chkd6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">post&#39;</span> : list atom,
~ looking_for ‚àà post&#39; -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ l /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br></div><label class="goal-separator" for="common-v-chkd6"><hr></label><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39;
    (a :: l) = Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ a :: l /\
  ~ looking_for ‚àà post</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkd7">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">post&#39;</span> : list atom,
~ a ‚àà post&#39; -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
get_binding_rec_bound a pre&#39; post&#39; l = Bound pre a post /\
pre ++ [a] ++ post = pre&#39; ++ [a] ++ post&#39; ++ l /\ ~ a ‚àà post</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound a pre&#39; post&#39; (a :: l) =
  Bound pre a post /\
  pre ++ [a] ++ post = pre&#39; ++ [a] ++ post&#39; ++ a :: l /\
  ~ a ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkd8"><span class="nb">rewrite</span> (get_binding_rec_bound_cons_eq a); <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">post&#39;</span> : list atom,
~ a ‚àà post&#39; -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
get_binding_rec_bound a pre&#39; post&#39; l = Bound pre a post /\
pre ++ [a] ++ post = pre&#39; ++ [a] ++ post&#39; ++ l /\ ~ a ‚àà post</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound a (pre&#39; ++ [a] ++ post&#39;) [] l =
  Bound pre a post /\
  pre ++ [a] ++ post = pre&#39; ++ [a] ++ post&#39; ++ a :: l /\
  ~ a ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkd9"><span class="nb">specialize</span> (IHl [] <span class="kp">ltac</span>:(<span class="nb">firstorder</span>) (pre&#39; ++ [a] ++ post&#39;)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound a 
    (pre&#39; ++ [a] ++ post&#39;) [] l =
  Bound pre a post /\
  pre ++ [a] ++ post =
  (pre&#39; ++ [a] ++ post&#39;) ++ [a] ++ [] ++ l /\
  ~ a ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post&#39;</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound a (pre&#39; ++ [a] ++ post&#39;) [] l =
  Bound pre a post /\
  pre ++ [a] ++ post = pre&#39; ++ [a] ++ post&#39; ++ a :: l /\
  ~ a ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkda"><span class="nb">destruct</span> IHl <span class="kr">as</span> [pre [post [rest1 [rest2 rest3]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound a 
  (pre&#39; ++ [a] ++ post&#39;) [] l =
Bound pre a post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [a] ++ post =
(pre&#39; ++ [a] ++ post&#39;) ++ [a] ++ [] ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post&#39;</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound a (pre&#39; ++ [a] ++ post&#39;) [] l =
  Bound pre a post /\
  pre ++ [a] ++ post = pre&#39; ++ [a] ++ post&#39; ++ a :: l /\
  ~ a ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkdb"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound a 
  (pre&#39; ++ [a] ++ post&#39;) [] l =
Bound pre a post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [a] ++ post =
(pre&#39; ++ [a] ++ post&#39;) ++ [a] ++ [] ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post&#39;</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding_rec_bound a (pre&#39; ++ [a] ++ post&#39;) [] l =
Bound pre a post /\
pre ++ [a] ++ post = pre&#39; ++ [a] ++ post&#39; ++ a :: l /\
~ a ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkdc">splits.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound a 
  (pre&#39; ++ [a] ++ post&#39;) [] l =
Bound pre a post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [a] ++ post =
(pre&#39; ++ [a] ++ post&#39;) ++ [a] ++ [] ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post&#39;</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding_rec_bound a (pre&#39; ++ [a] ++ post&#39;) [] l =
Bound pre a post</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chkdd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound a 
  (pre&#39; ++ [a] ++ post&#39;) [] l =
Bound pre a post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [a] ++ post =
(pre&#39; ++ [a] ++ post&#39;) ++ [a] ++ [] ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post&#39;</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br></div><label class="goal-separator" for="common-v-chkdd"><hr></label><div class="goal-conclusion">pre ++ [a] ++ post = pre&#39; ++ [a] ++ post&#39; ++ a :: l</div></blockquote><input class="alectryon-extra-goal-toggle" id="common-v-chkde" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound a 
  (pre&#39; ++ [a] ++ post&#39;) [] l =
Bound pre a post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [a] ++ post =
(pre&#39; ++ [a] ++ post&#39;) ++ [a] ++ [] ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post&#39;</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br></div><label class="goal-separator" for="common-v-chkde"><hr></label><div class="goal-conclusion">~ a ‚àà post</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkdf">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound a 
  (pre&#39; ++ [a] ++ post&#39;) [] l =
Bound pre a post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [a] ++ post =
(pre&#39; ++ [a] ++ post&#39;) ++ [a] ++ [] ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post&#39;</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding_rec_bound a (pre&#39; ++ [a] ++ post&#39;) [] l =
Bound pre a post</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">tauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chke0">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound a 
  (pre&#39; ++ [a] ++ post&#39;) [] l =
Bound pre a post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [a] ++ post =
(pre&#39; ++ [a] ++ post&#39;) ++ [a] ++ [] ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post&#39;</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre ++ [a] ++ post = pre&#39; ++ [a] ++ post&#39; ++ a :: l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chke1"><span class="nb">rewrite</span> rest2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound a 
  (pre&#39; ++ [a] ++ post&#39;) [] l =
Bound pre a post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [a] ++ post =
(pre&#39; ++ [a] ++ post&#39;) ++ [a] ++ [] ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post&#39;</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(pre&#39; ++ [a] ++ post&#39;) ++ [a] ++ [] ++ l =
pre&#39; ++ [a] ++ post&#39; ++ a :: l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chke2"><span class="nb">rewrite</span> List.app_nil_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound a 
  (pre&#39; ++ [a] ++ post&#39;) [] l =
Bound pre a post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [a] ++ post =
(pre&#39; ++ [a] ++ post&#39;) ++ [a] ++ [] ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post&#39;</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(pre&#39; ++ [a] ++ post&#39;) ++ [a] ++ l =
pre&#39; ++ [a] ++ post&#39; ++ a :: l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chke3"><span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- List.app_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound a 
  (pre&#39; ++ [a] ++ post&#39;) [] l =
Bound pre a post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [a] ++ post =
(pre&#39; ++ [a] ++ post&#39;) ++ [a] ++ [] ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post&#39;</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre&#39; ++ [a] ++ post&#39; ++ [a] ++ l =
pre&#39; ++ [a] ++ post&#39; ++ a :: l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chke4">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound a 
  (pre&#39; ++ [a] ++ post&#39;) [] l =
Bound pre a post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [a] ++ post =
(pre&#39; ++ [a] ++ post&#39;) ++ [a] ++ [] ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post&#39;</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ a ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chke5">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">post&#39;</span> : list atom,
~ looking_for ‚àà post&#39; -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ l /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39;
    (a :: l) = Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ a :: l /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chke6"><span class="nb">rewrite</span> (get_binding_rec_bound_cons_neq); <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">post&#39;</span> : list atom,
~ looking_for ‚àà post&#39; -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39; post&#39; l =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ l /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l = Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ a :: l /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chke7"><span class="nb">specialize</span> (IHl (post&#39; ++ [a])).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a]) -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ (post&#39; ++ [a]) ++ l /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l = Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ a :: l /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chke8"><span class="nb">assert</span> (Hnlf: ~ looking_for ‚àà (post&#39; ++ [a])).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a]) -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ (post&#39; ++ [a]) ++ l /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ looking_for ‚àà (post&#39; ++ [a])</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chke9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a]) -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ (post&#39; ++ [a]) ++ l /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br><span><var>Hnlf</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a])</span></span></span><br></div><label class="goal-separator" for="common-v-chke9"><hr></label><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l = 
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ a :: l /\
  ~ looking_for ‚àà post</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkea">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a]) -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ (post&#39; ++ [a]) ++ l /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ looking_for ‚àà (post&#39; ++ [a])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkeb"><span class="nb">rewrite</span> element_of_list_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a]) -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ (post&#39; ++ [a]) ++ l /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ (looking_for ‚àà post&#39; \/ looking_for ‚àà [a])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkec"><span class="nb">rewrite</span> element_of_list_one.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a]) -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ (post&#39; ++ [a]) ++ l /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ (looking_for ‚àà post&#39; \/ looking_for = a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">firstorder</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chked">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a]) -&gt;
<span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ (post&#39; ++ [a]) ++ l /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br><span><var>Hnlf</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l = Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ a :: l /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkee"><span class="nb">specialize</span> (IHl Hnlf).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ (post&#39; ++ [a]) ++ l /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br><span><var>Hnlf</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l = Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ a :: l /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkef"><span class="nb">specialize</span> (IHl pre&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l =
  Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ (post&#39; ++ [a]) ++ l /\
  ~ looking_for ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br><span><var>Hnlf</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l = Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ a :: l /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkf0"><span class="nb">destruct</span> IHl <span class="kr">as</span> [pre [post [rest1 [rest2 rest3]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound looking_for pre&#39;
  (post&#39; ++ [a]) l =
Bound pre looking_for post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [looking_for] ++ post =
pre&#39; ++ [looking_for] ++ (post&#39; ++ [a]) ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br><span><var>Hnlf</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound looking_for pre&#39;
    (post&#39; ++ [a]) l = Bound pre looking_for post /\
  pre ++ [looking_for] ++ post =
  pre&#39; ++ [looking_for] ++ post&#39; ++ a :: l /\
  ~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkf1"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound looking_for pre&#39;
  (post&#39; ++ [a]) l =
Bound pre looking_for post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [looking_for] ++ post =
pre&#39; ++ [looking_for] ++ (post&#39; ++ [a]) ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br><span><var>Hnlf</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding_rec_bound looking_for pre&#39; (post&#39; ++ [a])
  l = Bound pre looking_for post /\
pre ++ [looking_for] ++ post =
pre&#39; ++ [looking_for] ++ post&#39; ++ a :: l /\
~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkf2">splits.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound looking_for pre&#39;
  (post&#39; ++ [a]) l =
Bound pre looking_for post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [looking_for] ++ post =
pre&#39; ++ [looking_for] ++ (post&#39; ++ [a]) ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br><span><var>Hnlf</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding_rec_bound looking_for pre&#39; (post&#39; ++ [a])
  l = Bound pre looking_for post</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chkf3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound looking_for pre&#39;
  (post&#39; ++ [a]) l =
Bound pre looking_for post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [looking_for] ++ post =
pre&#39; ++ [looking_for] ++ (post&#39; ++ [a]) ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br><span><var>Hnlf</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a])</span></span></span><br></div><label class="goal-separator" for="common-v-chkf3"><hr></label><div class="goal-conclusion">pre ++ [looking_for] ++ post =
pre&#39; ++ [looking_for] ++ post&#39; ++ a :: l</div></blockquote><input class="alectryon-extra-goal-toggle" id="common-v-chkf4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound looking_for pre&#39;
  (post&#39; ++ [a]) l =
Bound pre looking_for post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [looking_for] ++ post =
pre&#39; ++ [looking_for] ++ (post&#39; ++ [a]) ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br><span><var>Hnlf</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a])</span></span></span><br></div><label class="goal-separator" for="common-v-chkf4"><hr></label><div class="goal-conclusion">~ looking_for ‚àà post</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkf5">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound looking_for pre&#39;
  (post&#39; ++ [a]) l =
Bound pre looking_for post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [looking_for] ++ post =
pre&#39; ++ [looking_for] ++ (post&#39; ++ [a]) ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br><span><var>Hnlf</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding_rec_bound looking_for pre&#39; (post&#39; ++ [a])
  l = Bound pre looking_for post</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkf6">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound looking_for pre&#39;
  (post&#39; ++ [a]) l =
Bound pre looking_for post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [looking_for] ++ post =
pre&#39; ++ [looking_for] ++ (post&#39; ++ [a]) ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br><span><var>Hnlf</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre ++ [looking_for] ++ post =
pre&#39; ++ [looking_for] ++ post&#39; ++ a :: l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkf7"><span class="nb">rewrite</span> rest2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound looking_for pre&#39;
  (post&#39; ++ [a]) l =
Bound pre looking_for post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [looking_for] ++ post =
pre&#39; ++ [looking_for] ++ (post&#39; ++ [a]) ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br><span><var>Hnlf</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre&#39; ++ [looking_for] ++ (post&#39; ++ [a]) ++ l =
pre&#39; ++ [looking_for] ++ post&#39; ++ a :: l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkf8"><span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- List.app_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound looking_for pre&#39;
  (post&#39; ++ [a]) l =
Bound pre looking_for post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [looking_for] ++ post =
pre&#39; ++ [looking_for] ++ (post&#39; ++ [a]) ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br><span><var>Hnlf</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre&#39; ++ [looking_for] ++ post&#39; ++ [a] ++ l =
pre&#39; ++ [looking_for] ++ post&#39; ++ a :: l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkf9">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>looking_for, a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l, post', pre', pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound looking_for pre&#39;
  (post&#39; ++ [a]) l =
Bound pre looking_for post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [looking_for] ++ post =
pre&#39; ++ [looking_for] ++ (post&#39; ++ [a]) ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà post&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>looking_for &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; looking_for</span></span></span><br><span><var>Hnlf</var><span class="hyp-type"><b>: </b><span>~ looking_for ‚àà (post&#39; ++ [a])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ looking_for ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkfa"><span class="kn">Lemma</span> <span class="nf">get_binding_spec_gen</span>: <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">v</span> <span class="nv">pre&#39;</span>,
      ~ v ‚àà pre&#39; -&gt;
      {get_binding_rec_unbound v pre&#39; l = Unbound (pre&#39; ++ l) v /\ ~ v ‚àà (pre&#39; ++ l)} +
        {<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span>: list name, get_binding_rec_unbound v pre&#39; l =
                                  Bound pre v post /\ (pre&#39; ++ l = pre ++ [v] ++ post) /\ ~ v ‚àà post}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">l</span> : list atom) (<span class="nv">v</span> : atom) (<span class="nv">pre&#39;</span> : list atom),
~ v ‚àà pre&#39; -&gt;
{get_binding_rec_unbound v pre&#39; l =
 Unbound (pre&#39; ++ l) v /\ ~ v ‚àà (pre&#39; ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v pre&#39; l = Bound pre v post /\
   pre&#39; ++ l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkfb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">l</span> : list atom) (<span class="nv">v</span> : atom) (<span class="nv">pre&#39;</span> : list atom),
~ v ‚àà pre&#39; -&gt;
{get_binding_rec_unbound v pre&#39; l =
 Unbound (pre&#39; ++ l) v /\ ~ v ‚àà (pre&#39; ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v pre&#39; l = Bound pre v post /\
   pre&#39; ++ l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkfc"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{get_binding_rec_unbound v pre&#39; l =
 Unbound (pre&#39; ++ l) v /\ ~ v ‚àà (pre&#39; ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v pre&#39; l = Bound pre v post /\
   pre&#39; ++ l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkfd"><span class="nb">unfold</span> get_binding.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{get_binding_rec_unbound v pre&#39; l =
 Unbound (pre&#39; ++ l) v /\ ~ v ‚àà (pre&#39; ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v pre&#39; l = Bound pre v post /\
   pre&#39; ++ l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkfe"><span class="nb">generalize dependent</span> pre&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
~ v ‚àà pre&#39; -&gt;
{get_binding_rec_unbound v pre&#39; l =
 Unbound (pre&#39; ++ l) v /\ ~ v ‚àà (pre&#39; ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v pre&#39; l = Bound pre v post /\
   pre&#39; ++ l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chkff"><span class="nb">induction</span> l; <span class="nb">intros</span> pre&#39; prenin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{get_binding_rec_unbound v pre&#39; [] =
 Unbound (pre&#39; ++ []) v /\ ~ v ‚àà (pre&#39; ++ [])} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v pre&#39; [] =
   Bound pre v post /\
   pre&#39; ++ [] = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk100" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
~ v ‚àà pre&#39; -&gt;
{get_binding_rec_unbound v pre&#39; l =
 Unbound (pre&#39; ++ l) v /\ 
 ~ v ‚àà (pre&#39; ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v pre&#39; l =
   Bound pre v post /\
   pre&#39; ++ l = pre ++ [v] ++ post /\ ~ v ‚àà post}</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br></div><label class="goal-separator" for="common-v-chk100"><hr></label><div class="goal-conclusion">{get_binding_rec_unbound v pre&#39; (a :: l) =
 Unbound (pre&#39; ++ a :: l) v /\ 
 ~ v ‚àà (pre&#39; ++ a :: l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v pre&#39; (a :: l) =
   Bound pre v post /\
   pre&#39; ++ a :: l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk101">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{get_binding_rec_unbound v pre&#39; [] =
 Unbound (pre&#39; ++ []) v /\ ~ v ‚àà (pre&#39; ++ [])} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v pre&#39; [] =
   Bound pre v post /\
   pre&#39; ++ [] = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk102"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{Unbound pre&#39; v = Unbound (pre&#39; ++ []) v /\
 ~ v ‚àà (pre&#39; ++ [])} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   Unbound pre&#39; v = Bound pre v post /\
   pre&#39; ++ [] = pre ++ v :: post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk103"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Unbound pre&#39; v = Unbound (pre&#39; ++ []) v /\
~ v ‚àà (pre&#39; ++ [])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk104"><span class="nb">rewrite</span> List.app_nil_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Unbound pre&#39; v = Unbound pre&#39; v /\ ~ v ‚àà pre&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk105">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
~ v ‚àà pre&#39; -&gt;
{get_binding_rec_unbound v pre&#39; l = Unbound (pre&#39; ++ l) v /\
~ v ‚àà (pre&#39; ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
get_binding_rec_unbound v pre&#39; l = Bound pre v post /\
pre&#39; ++ l = pre ++ [v] ++ post /\ ~ v ‚àà post}</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{get_binding_rec_unbound v pre&#39; (a :: l) =
 Unbound (pre&#39; ++ a :: l) v /\ ~ v ‚àà (pre&#39; ++ a :: l)}
+
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v pre&#39; (a :: l) =
   Bound pre v post /\
   pre&#39; ++ a :: l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk106">destruct_eq_args v a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
~ a ‚àà pre&#39; -&gt;
{get_binding_rec_unbound a pre&#39; l = Unbound (pre&#39; ++ l) a /\
~ a ‚àà (pre&#39; ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
get_binding_rec_unbound a pre&#39; l = Bound pre a post /\
pre&#39; ++ l = pre ++ [a] ++ post /\ ~ a ‚àà post}</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà pre&#39;</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{get_binding_rec_unbound a pre&#39; (a :: l) =
 Unbound (pre&#39; ++ a :: l) a /\ ~ a ‚àà (pre&#39; ++ a :: l)}
+
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound a pre&#39; (a :: l) =
   Bound pre a post /\
   pre&#39; ++ a :: l = pre ++ [a] ++ post /\ ~ a ‚àà post}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk107" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
~ v ‚àà pre&#39; -&gt;
{get_binding_rec_unbound v pre&#39; l =
 Unbound (pre&#39; ++ l) v /\ 
 ~ v ‚àà (pre&#39; ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v pre&#39; l =
   Bound pre v post /\
   pre&#39; ++ l = pre ++ [v] ++ post /\ ~ v ‚àà post}</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; v</span></span></span><br></div><label class="goal-separator" for="common-v-chk107"><hr></label><div class="goal-conclusion">{get_binding_rec_unbound v pre&#39; (a :: l) =
 Unbound (pre&#39; ++ a :: l) v /\ 
 ~ v ‚àà (pre&#39; ++ a :: l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v pre&#39; (a :: l) =
   Bound pre v post /\
   pre&#39; ++ a :: l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk108" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk108">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
~ a ‚àà pre&#39; -&gt;
{get_binding_rec_unbound a pre&#39; l = Unbound (pre&#39; ++ l) a /\
~ a ‚àà (pre&#39; ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
get_binding_rec_unbound a pre&#39; l = Bound pre a post /\
pre&#39; ++ l = pre ++ [a] ++ post /\ ~ a ‚àà post}</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà pre&#39;</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{get_binding_rec_unbound a pre&#39; (a :: l) =
 Unbound (pre&#39; ++ a :: l) a /\ ~ a ‚àà (pre&#39; ++ a :: l)}
+
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound a pre&#39; (a :: l) =
   Bound pre a post /\
   pre&#39; ++ a :: l = pre ++ [a] ++ post /\ ~ a ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk109"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
~ a ‚àà pre&#39; -&gt;
{get_binding_rec_unbound a pre&#39; l = Unbound (pre&#39; ++ l) a /\
~ a ‚àà (pre&#39; ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
get_binding_rec_unbound a pre&#39; l = Bound pre a post /\
pre&#39; ++ l = pre ++ [a] ++ post /\ ~ a ‚àà post}</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà pre&#39;</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_unbound a pre&#39; (a :: l) =
  Bound pre a post /\
  pre&#39; ++ a :: l = pre ++ [a] ++ post /\ ~ a ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk10a"><span class="nb">rewrite</span> get_binding_rec_unbound_cons_eq; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
~ a ‚àà pre&#39; -&gt;
{get_binding_rec_unbound a pre&#39; l = Unbound (pre&#39; ++ l) a /\
~ a ‚àà (pre&#39; ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
get_binding_rec_unbound a pre&#39; l = Bound pre a post /\
pre&#39; ++ l = pre ++ [a] ++ post /\ ~ a ‚àà post}</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà pre&#39;</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound a pre&#39; [] l = Bound pre a post /\
  pre&#39; ++ a :: l = pre ++ [a] ++ post /\ ~ a ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk10b" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk10b"><span class="nb">specialize</span> (get_binding_bound_general a pre&#39; [] l <span class="kp">ltac</span>:(<span class="nb">firstorder</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
~ a ‚àà pre&#39; -&gt;
{get_binding_rec_unbound a pre&#39; l = Unbound (pre&#39; ++ l) a /\
~ a ‚àà (pre&#39; ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
get_binding_rec_unbound a pre&#39; l = Bound pre a post /\
pre&#39; ++ l = pre ++ [a] ++ post /\ ~ a ‚àà post}</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà pre&#39;</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_bound a pre&#39; [] l =
   Bound pre a post /\
   pre ++ [a] ++ post = pre&#39; ++ [a] ++ [] ++ l /\
   ~ a ‚àà post) -&gt;
<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound a pre&#39; [] l = Bound pre a post /\
  pre&#39; ++ a :: l = pre ++ [a] ++ post /\ ~ a ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk10c"><span class="nb">intros</span> [pre [post [rest1 [rest2 rest3]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
~ a ‚àà pre&#39; -&gt;
{get_binding_rec_unbound a pre&#39; l = Unbound (pre&#39; ++ l) a /\
~ a ‚àà (pre&#39; ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
get_binding_rec_unbound a pre&#39; l = Bound pre a post /\
pre&#39; ++ l = pre ++ [a] ++ post /\ ~ a ‚àà post}</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà pre&#39;</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound a pre&#39; [] l =
Bound pre a post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [a] ++ post = pre&#39; ++ [a] ++ [] ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_bound a pre&#39; [] l = Bound pre a post /\
  pre&#39; ++ a :: l = pre ++ [a] ++ post /\ ~ a ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk10d"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
~ a ‚àà pre&#39; -&gt;
{get_binding_rec_unbound a pre&#39; l = Unbound (pre&#39; ++ l) a /\
~ a ‚àà (pre&#39; ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
get_binding_rec_unbound a pre&#39; l = Bound pre a post /\
pre&#39; ++ l = pre ++ [a] ++ post /\ ~ a ‚àà post}</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà pre&#39;</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound a pre&#39; [] l =
Bound pre a post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [a] ++ post = pre&#39; ++ [a] ++ [] ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding_rec_bound a pre&#39; [] l = Bound pre a post /\
pre&#39; ++ a :: l = pre ++ [a] ++ post /\ ~ a ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk10e"><span class="kp">repeat</span> <span class="nb">rewrite</span> List.app_nil_l <span class="kr">in</span> rest2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
~ a ‚àà pre&#39; -&gt;
{get_binding_rec_unbound a pre&#39; l = Unbound (pre&#39; ++ l) a /\
~ a ‚àà (pre&#39; ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
get_binding_rec_unbound a pre&#39; l = Bound pre a post /\
pre&#39; ++ l = pre ++ [a] ++ post /\ ~ a ‚àà post}</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ a ‚àà pre&#39;</span></span></span><br><span><var>DESTR_EQs</var><span class="hyp-type"><b>: </b><span>a = a</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_bound a pre&#39; [] l =
Bound pre a post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre ++ [a] ++ post = pre&#39; ++ [a] ++ l</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ a ‚àà post</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding_rec_bound a pre&#39; [] l = Bound pre a post /\
pre&#39; ++ a :: l = pre ++ [a] ++ post /\ ~ a ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk10f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
~ v ‚àà pre&#39; -&gt;
{get_binding_rec_unbound v pre&#39; l = Unbound (pre&#39; ++ l) v /\
~ v ‚àà (pre&#39; ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
get_binding_rec_unbound v pre&#39; l = Bound pre v post /\
pre&#39; ++ l = pre ++ [v] ++ post /\ ~ v ‚àà post}</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{get_binding_rec_unbound v pre&#39; (a :: l) =
 Unbound (pre&#39; ++ a :: l) v /\ ~ v ‚àà (pre&#39; ++ a :: l)}
+
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v pre&#39; (a :: l) =
   Bound pre v post /\
   pre&#39; ++ a :: l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk110"><span class="nb">rewrite</span> get_binding_rec_unbound_cons_neq; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">pre&#39;</span> : list atom,
~ v ‚àà pre&#39; -&gt;
{get_binding_rec_unbound v pre&#39; l = Unbound (pre&#39; ++ l) v /\
~ v ‚àà (pre&#39; ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
get_binding_rec_unbound v pre&#39; l = Bound pre v post /\
pre&#39; ++ l = pre ++ [v] ++ post /\ ~ v ‚àà post}</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{get_binding_rec_unbound v (pre&#39; ++ [a]) l =
 Unbound (pre&#39; ++ a :: l) v /\ ~ v ‚àà (pre&#39; ++ a :: l)}
+
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v (pre&#39; ++ [a]) l =
   Bound pre v post /\
   pre&#39; ++ a :: l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk111"><span class="nb">specialize</span> (IHl (pre&#39; ++ [a])).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (pre&#39; ++ [a]) -&gt;
{get_binding_rec_unbound v (pre&#39; ++ [a]) l =
 Unbound ((pre&#39; ++ [a]) ++ l) v /\
 ~ v ‚àà ((pre&#39; ++ [a]) ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v (pre&#39; ++ [a]) l =
   Bound pre v post /\
   (pre&#39; ++ [a]) ++ l = pre ++ [v] ++ post /\
   ~ v ‚àà post}</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{get_binding_rec_unbound v (pre&#39; ++ [a]) l =
 Unbound (pre&#39; ++ a :: l) v /\ ~ v ‚àà (pre&#39; ++ a :: l)}
+
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v (pre&#39; ++ [a]) l =
   Bound pre v post /\
   pre&#39; ++ a :: l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk112"><span class="nb">rewrite</span> &lt;- List.app_assoc <span class="kr">in</span> IHl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (pre&#39; ++ [a]) -&gt;
{get_binding_rec_unbound v (pre&#39; ++ [a]) l =
 Unbound (pre&#39; ++ [a] ++ l) v /\
 ~ v ‚àà (pre&#39; ++ [a] ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v (pre&#39; ++ [a]) l =
   Bound pre v post /\
   pre&#39; ++ [a] ++ l = pre ++ [v] ++ post /\
   ~ v ‚àà post}</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{get_binding_rec_unbound v (pre&#39; ++ [a]) l =
 Unbound (pre&#39; ++ a :: l) v /\ ~ v ‚àà (pre&#39; ++ a :: l)}
+
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v (pre&#39; ++ [a]) l =
   Bound pre v post /\
   pre&#39; ++ a :: l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk113"><span class="nb">destruct</span> IHl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ v ‚àà (pre&#39; ++ [a])</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk114" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; v</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>get_binding_rec_unbound v (pre&#39; ++ [a]) l =
Unbound (pre&#39; ++ [a] ++ l) v /\
~ v ‚àà (pre&#39; ++ [a] ++ l)</span></span></span><br></div><label class="goal-separator" for="common-v-chk114"><hr></label><div class="goal-conclusion">{get_binding_rec_unbound v (pre&#39; ++ [a]) l =
 Unbound (pre&#39; ++ a :: l) v /\ 
 ~ v ‚àà (pre&#39; ++ a :: l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v (pre&#39; ++ [a]) l =
   Bound pre v post /\
   pre&#39; ++ a :: l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote><input class="alectryon-extra-goal-toggle" id="common-v-chk115" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; v</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_unbound v (pre&#39; ++ [a]) l =
  Bound pre v post /\
  pre&#39; ++ [a] ++ l = pre ++ [v] ++ post /\
  ~ v ‚àà post</span></span></span><br></div><label class="goal-separator" for="common-v-chk115"><hr></label><div class="goal-conclusion">{get_binding_rec_unbound v (pre&#39; ++ [a]) l =
 Unbound (pre&#39; ++ a :: l) v /\ 
 ~ v ‚àà (pre&#39; ++ a :: l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v (pre&#39; ++ [a]) l =
   Bound pre v post /\
   pre&#39; ++ a :: l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk116">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ v ‚àà (pre&#39; ++ [a])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk117"><span class="nb">rewrite</span> element_of_list_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ (v ‚àà pre&#39; \/ v ‚àà [a])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">firstorder</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk118">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; v</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>get_binding_rec_unbound v (pre&#39; ++ [a]) l =
Unbound (pre&#39; ++ [a] ++ l) v /\
~ v ‚àà (pre&#39; ++ [a] ++ l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{get_binding_rec_unbound v (pre&#39; ++ [a]) l =
 Unbound (pre&#39; ++ a :: l) v /\ ~ v ‚àà (pre&#39; ++ a :: l)}
+
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v (pre&#39; ++ [a]) l =
   Bound pre v post /\
   pre&#39; ++ a :: l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk119" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk119"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; v</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>get_binding_rec_unbound v (pre&#39; ++ [a]) l =
Unbound (pre&#39; ++ [a] ++ l) v /\
~ v ‚àà (pre&#39; ++ [a] ++ l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding_rec_unbound v (pre&#39; ++ [a]) l =
Unbound (pre&#39; ++ a :: l) v /\ ~ v ‚àà (pre&#39; ++ a :: l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk11a">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; v</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_unbound v (pre&#39; ++ [a]) l =
  Bound pre v post /\
  pre&#39; ++ [a] ++ l = pre ++ [v] ++ post /\
  ~ v ‚àà post</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{get_binding_rec_unbound v (pre&#39; ++ [a]) l =
 Unbound (pre&#39; ++ a :: l) v /\ ~ v ‚àà (pre&#39; ++ a :: l)}
+
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v (pre&#39; ++ [a]) l =
   Bound pre v post /\
   pre&#39; ++ a :: l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk11b"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; v</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_unbound v (pre&#39; ++ [a]) l =
  Bound pre v post /\
  pre&#39; ++ [a] ++ l = pre ++ [v] ++ post /\
  ~ v ‚àà post</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_unbound v (pre&#39; ++ [a]) l =
  Bound pre v post /\
  pre&#39; ++ a :: l = pre ++ [v] ++ post /\ ~ v ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk11c"><span class="nb">destruct</span> e <span class="kr">as</span> [pre [post [rest1 [rest2 rest3]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; v</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_unbound v (pre&#39; ++ [a]) l =
Bound pre v post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre&#39; ++ [a] ++ l = pre ++ [v] ++ post</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ v ‚àà post</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding_rec_unbound v (pre&#39; ++ [a]) l =
  Bound pre v post /\
  pre&#39; ++ a :: l = pre ++ [v] ++ post /\ ~ v ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk11d"><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>pre'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>prenin</var><span class="hyp-type"><b>: </b><span>~ v ‚àà pre&#39;</span></span></span><br><span><var>DESTR_NEQ</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>DESTR_NEQs</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; v</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding_rec_unbound v (pre&#39; ++ [a]) l =
Bound pre v post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>pre&#39; ++ [a] ++ l = pre ++ [v] ++ post</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ v ‚àà post</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding_rec_unbound v (pre&#39; ++ [a]) l =
Bound pre v post /\
pre&#39; ++ a :: l = pre ++ [v] ++ post /\ ~ v ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">splits; <span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk11e"><span class="kn">Lemma</span> <span class="nf">get_binding_spec</span>: <span class="kr">forall</span> (<span class="nv">l</span>: list name) (<span class="nv">v</span>: name),
      {get_binding l v = Unbound l v /\ ~ v ‚àà l} +
        {<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span>, get_binding l v = Bound pre v post  /\ l = pre ++ [v] ++ post /\ ~ v ‚àà post}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">l</span> : list atom) (<span class="nv">v</span> : atom),
{get_binding l v = Unbound l v /\ ~ v ‚àà l} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding l v = Bound pre v post /\
   l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk11f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">l</span> : list atom) (<span class="nv">v</span> : atom),
{get_binding l v = Unbound l v /\ ~ v ‚àà l} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding l v = Bound pre v post /\
   l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk120"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{get_binding l v = Unbound l v /\ ~ v ‚àà l} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding l v = Bound pre v post /\
   l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk121"><span class="nb">unfold</span> get_binding.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{get_binding_rec_unbound v [] l = Unbound l v /\
 ~ v ‚àà l} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v [] l = Bound pre v post /\
   l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk122"><span class="nb">specialize</span> (get_binding_spec_gen l v []); <span class="nb">intro</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ v ‚àà [] -&gt;
{get_binding_rec_unbound v [] l =
 Unbound ([] ++ l) v /\ ~ v ‚àà ([] ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v [] l =
   Bound pre v post /\
   [] ++ l = pre ++ [v] ++ post /\ ~ v ‚àà post}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{get_binding_rec_unbound v [] l = Unbound l v /\
 ~ v ‚àà l} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v [] l = Bound pre v post /\
   l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk123"><span class="nb">specialize</span> (H <span class="kp">ltac</span>:(<span class="nb">firstorder</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>{get_binding_rec_unbound v [] l =
 Unbound ([] ++ l) v /\ ~ v ‚àà ([] ++ l)} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v [] l =
   Bound pre v post /\
   [] ++ l = pre ++ [v] ++ post /\ ~ v ‚àà post}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{get_binding_rec_unbound v [] l = Unbound l v /\
 ~ v ‚àà l} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v [] l = Bound pre v post /\
   l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk124" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk124"><span class="nb">rewrite</span> List.app_nil_l <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>l</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>{get_binding_rec_unbound v [] l = Unbound l v /\
 ~ v ‚àà l} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v [] l =
   Bound pre v post /\
   l = pre ++ [v] ++ post /\ ~ v ‚àà post}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{get_binding_rec_unbound v [] l = Unbound l v /\
 ~ v ‚àà l} +
{<span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
   get_binding_rec_unbound v [] l = Bound pre v post /\
   l = pre ++ [v] ++ post /\ ~ v ‚àà post}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk125"><span class="kn">Lemma</span> <span class="nf">get_binding1</span>: <span class="kr">forall</span> <span class="nv">ctx</span> <span class="nv">v</span>,
      ~ (v ‚àà ctx) -&gt; get_binding ctx v = Unbound ctx v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">ctx</span> : list atom) (<span class="nv">v</span> : atom),
~ v ‚àà ctx -&gt; get_binding ctx v = Unbound ctx v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk126"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">ctx</span> : list atom) (<span class="nv">v</span> : atom),
~ v ‚àà ctx -&gt; get_binding ctx v = Unbound ctx v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk127" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk127"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ v ‚àà ctx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding ctx v = Unbound ctx v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk128"><span class="nb">destruct</span> (get_binding_spec ctx v).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ v ‚àà ctx</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>get_binding ctx v = Unbound ctx v /\ ~ v ‚àà ctx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding ctx v = Unbound ctx v</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk129" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ v ‚àà ctx</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding ctx v = Bound pre v post /\
  ctx = pre ++ [v] ++ post /\ ~ v ‚àà post</span></span></span><br></div><label class="goal-separator" for="common-v-chk129"><hr></label><div class="goal-conclusion">get_binding ctx v = Unbound ctx v</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk12a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ v ‚àà ctx</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>get_binding ctx v = Unbound ctx v /\ ~ v ‚àà ctx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding ctx v = Unbound ctx v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">tauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk12b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ v ‚àà ctx</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding ctx v = Bound pre v post /\
  ctx = pre ++ [v] ++ post /\ ~ v ‚àà post</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding ctx v = Unbound ctx v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk12c"><span class="nb">enough</span> (v ‚àà ctx).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ v ‚àà ctx</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding ctx v = Bound pre v post /\
  ctx = pre ++ [v] ++ post /\ ~ v ‚àà post</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>v ‚àà ctx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding ctx v = Unbound ctx v</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk12d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ v ‚àà ctx</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding ctx v = Bound pre v post /\
  ctx = pre ++ [v] ++ post /\ ~ v ‚àà post</span></span></span><br></div><label class="goal-separator" for="common-v-chk12d"><hr></label><div class="goal-conclusion">v ‚àà ctx</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk12e"><span class="bp">contradiction</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ v ‚àà ctx</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">pre</span> <span class="nv">post</span> : list atom,
  get_binding ctx v = Bound pre v post /\
  ctx = pre ++ [v] ++ post /\ ~ v ‚àà post</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà ctx</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk12f"><span class="nb">destruct</span> e <span class="kr">as</span> [pre [post [rest1 [rest2 rest3]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ v ‚àà ctx</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding ctx v = Bound pre v post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>ctx = pre ++ [v] ++ post</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ v ‚àà post</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà ctx</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk130"><span class="nb">rewrite</span> rest2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ v ‚àà ctx</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding ctx v = Bound pre v post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>ctx = pre ++ [v] ++ post</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ v ‚àà post</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà (pre ++ [v] ++ post)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk131"><span class="nb">autorewrite with</span> tea_list.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ v ‚àà ctx</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>rest1</var><span class="hyp-type"><b>: </b><span>get_binding ctx v = Bound pre v post</span></span></span><br><span><var>rest2</var><span class="hyp-type"><b>: </b><span>ctx = pre ++ [v] ++ post</span></span></span><br><span><var>rest3</var><span class="hyp-type"><b>: </b><span>~ v ‚àà post</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà pre \/ v = v \/ v ‚àà post</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">tauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk132"><span class="kn">Lemma</span> <span class="nf">list_app_one_inv</span> {<span class="nv">A</span>}:
    <span class="kr">forall</span> (<span class="nv">prefix</span> <span class="nv">prefix&#39;</span>: list A) (<span class="nv">a</span> <span class="nv">a&#39;</span>: A),
      prefix ++ [a] = prefix&#39; ++ [a&#39;] -&gt;
      prefix = prefix&#39; /\ a = a&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">prefix</span> <span class="nv">prefix&#39;</span> : list A) (<span class="nv">a</span> <span class="nv">a&#39;</span> : A),
prefix ++ [a] = prefix&#39; ++ [a&#39;] -&gt;
prefix = prefix&#39; /\ a = a&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk133"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">prefix</span> <span class="nv">prefix&#39;</span> : list A) (<span class="nv">a</span> <span class="nv">a&#39;</span> : A),
prefix ++ [a] = prefix&#39; ++ [a&#39;] -&gt;
prefix = prefix&#39; /\ a = a&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk134"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ a = a&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk135"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk136" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;]</span></span></span><br></div><label class="goal-separator" for="common-v-chk136"><hr></label><div class="goal-conclusion">a = a&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk137"><span class="nb">eapply</span> inv_app_eq_rl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ShapelyFunctor.shape <span class="nl">?r1</span> = ShapelyFunctor.shape <span class="nl">?r2</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk138" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;]</span></span></span><br></div><label class="goal-separator" for="common-v-chk138"><hr></label><div class="goal-conclusion">prefix ++ <span class="nl">?r1</span> = prefix&#39; ++ <span class="nl">?r2</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="common-v-chk139" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;]</span></span></span><br></div><label class="goal-separator" for="common-v-chk139"><hr></label><div class="goal-conclusion">a = a&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk13a"><span class="mi">2</span>: <span class="bp">eassumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ShapelyFunctor.shape [a] = ShapelyFunctor.shape [a&#39;]</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk13b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;]</span></span></span><br></div><label class="goal-separator" for="common-v-chk13b"><hr></label><div class="goal-conclusion">a = a&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk13c"><span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = a&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk13d"><span class="nb">enough</span> (ListEq: [a] = [a&#39;]) <span class="bp">by</span> <span class="bp">now</span> <span class="nb">inversion</span> ListEq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">[a] = [a&#39;]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eapply</span> inv_app_eq_rr; <span class="nb">eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk13e"><span class="kn">Lemma</span> <span class="nf">list_occ_spec</span> {<span class="nv">A</span>}:
    <span class="kr">forall</span> (<span class="nv">prefix</span> <span class="nv">prefix&#39;</span> <span class="nv">postfix</span>: list A) (<span class="nv">a</span> <span class="nv">a&#39;</span>: A),
      prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix -&gt;
      (prefix = prefix&#39; /\ a = a&#39; /\ postfix = []) \/
        (<span class="kr">exists</span> (<span class="nv">postfix&#39;</span>: list A), postfix = postfix&#39; ++ [a]).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">prefix</span> <span class="nv">prefix&#39;</span> <span class="nv">postfix</span> : list A) (<span class="nv">a</span> <span class="nv">a&#39;</span> : A),
prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix -&gt;
prefix = prefix&#39; /\ a = a&#39; /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, postfix = postfix&#39; ++ [a])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk13f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">prefix</span> <span class="nv">prefix&#39;</span> <span class="nv">postfix</span> : list A) (<span class="nv">a</span> <span class="nv">a&#39;</span> : A),
prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix -&gt;
prefix = prefix&#39; /\ a = a&#39; /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, postfix = postfix&#39; ++ [a])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk140"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix', postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ a = a&#39; /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, postfix = postfix&#39; ++ [a])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk141">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix', postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ a = a&#39; /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, postfix = postfix&#39; ++ [a])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk142"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix', postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ a = a&#39; /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, postfix = postfix&#39; ++ [a])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk143" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk143"><span class="nb">generalize dependent</span> prefix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix', postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">prefix</span> : list A,
prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix -&gt;
prefix = prefix&#39; /\ a = a&#39; /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, postfix = postfix&#39; ++ [a])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk144"><span class="nb">generalize dependent</span> prefix&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">prefix&#39;</span> <span class="nv">prefix</span> : list A,
prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix -&gt;
prefix = prefix&#39; /\ a = a&#39; /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, postfix = postfix&#39; ++ [a])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk145"><span class="nb">generalize dependent</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">prefix&#39;</span> <span class="nv">prefix</span> : list A),
prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix -&gt;
prefix = prefix&#39; /\ a = a&#39; /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, postfix = postfix&#39; ++ [a])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk146"><span class="nb">induction</span> postfix <span class="nb">using</span> List.rev_ind; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a', a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix', prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ a = a&#39; /\ [] = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, [] = postfix&#39; ++ [a])</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk147" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">prefix&#39;</span> <span class="nv">prefix</span> : list A),
prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix -&gt;
prefix = prefix&#39; /\ a = a&#39; /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
   postfix = postfix&#39; ++ [a])</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix', prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix ++ [x]</span></span></span><br></div><label class="goal-separator" for="common-v-chk147"><hr></label><div class="goal-conclusion">prefix = prefix&#39; /\ a = a&#39; /\ postfix ++ [x] = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
   postfix ++ [x] = postfix&#39; ++ [a])</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk148">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a', a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix', prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ a = a&#39; /\ [] = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, [] = postfix&#39; ++ [a])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk149"><span class="nb">rewrite</span> List.app_nil_r <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a', a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix', prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ a = a&#39; /\ [] = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, [] = postfix&#39; ++ [a])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk14a"><span class="nb">apply</span> list_app_one_inv <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a', a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix', prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix = prefix&#39; /\ a = a&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ a = a&#39; /\ [] = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, [] = postfix&#39; ++ [a])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk14b"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a', a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix', prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix = prefix&#39; /\ a = a&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ a = a&#39; /\ [] = []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">tauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk14c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">prefix&#39;</span> <span class="nv">prefix</span> : list A),
prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix -&gt;
prefix = prefix&#39; /\ a = a&#39; /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
   postfix = postfix&#39; ++ [a])</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix', prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix ++ [x]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ a = a&#39; /\ postfix ++ [x] = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
   postfix ++ [x] = postfix&#39; ++ [a])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk14d"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">prefix&#39;</span> <span class="nv">prefix</span> : list A),
prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix -&gt;
prefix = prefix&#39; /\ a = a&#39; /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
   postfix = postfix&#39; ++ [a])</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix', prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix ++ [x]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
  postfix ++ [x] = postfix&#39; ++ [a]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk14e"><span class="nb">assert</span> (a = x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">prefix&#39;</span> <span class="nv">prefix</span> : list A),
prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix -&gt;
prefix = prefix&#39; /\ a = a&#39; /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
   postfix = postfix&#39; ++ [a])</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix', prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix ++ [x]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk14f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">prefix&#39;</span> <span class="nv">prefix</span> : list A),
prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix -&gt;
prefix = prefix&#39; /\ a = a&#39; /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
   postfix = postfix&#39; ++ [a])</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix', prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix ++ [x]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>a = x</span></span></span><br></div><label class="goal-separator" for="common-v-chk14f"><hr></label><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
  postfix ++ [x] = postfix&#39; ++ [a]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk150">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">prefix&#39;</span> <span class="nv">prefix</span> : list A),
prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix -&gt;
prefix = prefix&#39; /\ a = a&#39; /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
   postfix = postfix&#39; ++ [a])</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix', prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix ++ [x]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk151"><span class="kp">do</span> <span class="mi">2</span> <span class="nb">rewrite</span> List.app_assoc <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">prefix&#39;</span> <span class="nv">prefix</span> : list A),
prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix -&gt;
prefix = prefix&#39; /\ a = a&#39; /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
   postfix = postfix&#39; ++ [a])</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix', prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] =
((prefix&#39; ++ [a&#39;]) ++ postfix) ++ [x]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk152"><span class="nb">apply</span> list_app_one_inv <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">prefix&#39;</span> <span class="nv">prefix</span> : list A),
prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix -&gt;
prefix = prefix&#39; /\ a = a&#39; /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
   postfix = postfix&#39; ++ [a])</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix', prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix = (prefix&#39; ++ [a&#39;]) ++ postfix /\ a = x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">tauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk153">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">prefix&#39;</span> <span class="nv">prefix</span> : list A),
prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix -&gt;
prefix = prefix&#39; /\ a = a&#39; /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
   postfix = postfix&#39; ++ [a])</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix', prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix ++ [x]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>a = x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
  postfix ++ [x] = postfix&#39; ++ [a]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk154"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">prefix&#39;</span> <span class="nv">prefix</span> : list A),
prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix -&gt;
prefix = prefix&#39; /\ a = a&#39; /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
   postfix = postfix&#39; ++ [a])</span></span></span><br><span><var>prefix', prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [x] = prefix&#39; ++ [a&#39;] ++ postfix ++ [x]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
  postfix ++ [x] = postfix&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk155"><span class="kr">exists</span> <span class="nv">postfix</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">prefix&#39;</span> <span class="nv">prefix</span> : list A),
prefix ++ [a] = prefix&#39; ++ [a&#39;] ++ postfix -&gt;
prefix = prefix&#39; /\ a = a&#39; /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
   postfix = postfix&#39; ++ [a])</span></span></span><br><span><var>prefix', prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [x] = prefix&#39; ++ [a&#39;] ++ postfix ++ [x]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">postfix ++ [x] = postfix ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk156" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk156"><span class="kn">Lemma</span> <span class="nf">list_occ_lemma</span> {<span class="nv">A</span>}:
    <span class="kr">forall</span> (<span class="nv">prefix</span> <span class="nv">prefix&#39;</span> <span class="nv">postfix</span>: list A) (<span class="nv">a</span>: A),
      prefix ++ [a] = prefix&#39; ++ [a] ++ postfix -&gt;
      (prefix = prefix&#39; /\ postfix = []) \/ a ‚àà postfix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">prefix</span> <span class="nv">prefix&#39;</span> <span class="nv">postfix</span> : list A) (<span class="nv">a</span> : A),
prefix ++ [a] = prefix&#39; ++ [a] ++ postfix -&gt;
prefix = prefix&#39; /\ postfix = [] \/ a ‚àà postfix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk157" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk157"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">prefix</span> <span class="nv">prefix&#39;</span> <span class="nv">postfix</span> : list A) (<span class="nv">a</span> : A),
prefix ++ [a] = prefix&#39; ++ [a] ++ postfix -&gt;
prefix = prefix&#39; /\ postfix = [] \/ a ‚àà postfix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk158"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix', postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix ++ [a] = prefix&#39; ++ [a] ++ postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ postfix = [] \/ a ‚àà postfix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk159" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk159"><span class="nb">apply</span> list_occ_spec <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix', postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix = prefix&#39; /\ a = a /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
   postfix = postfix&#39; ++ [a])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ postfix = [] \/ a ‚àà postfix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk15a"><span class="nb">destruct</span> H <span class="kr">as</span> [Case1 | Case2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix', postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Case1</var><span class="hyp-type"><b>: </b><span>prefix = prefix&#39; /\ a = a /\ postfix = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ postfix = [] \/ a ‚àà postfix</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk15b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix', postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Case2</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
  postfix = postfix&#39; ++ [a]</span></span></span><br></div><label class="goal-separator" for="common-v-chk15b"><hr></label><div class="goal-conclusion">prefix = prefix&#39; /\ postfix = [] \/ a ‚àà postfix</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk15c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix', postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Case1</var><span class="hyp-type"><b>: </b><span>prefix = prefix&#39; /\ a = a /\ postfix = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ postfix = [] \/ a ‚àà postfix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">left</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk15d" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk15d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix', postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Case2</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
  postfix = postfix&#39; ++ [a]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ postfix = [] \/ a ‚àà postfix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk15e"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix', postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Case2</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
  postfix = postfix&#39; ++ [a]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà postfix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk15f"><span class="nb">destruct</span> Case2; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà (x ++ [a])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk160" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk160"><span class="nb">rewrite</span> element_of_list_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà x \/ a ‚àà [a]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk161" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk161"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà [a]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk162" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk162"><span class="nb">rewrite</span> element_of_list_one.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk163" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk163"><span class="kn">Lemma</span> <span class="nf">list_occ_lemma4</span> {<span class="nv">A</span>} `{EqDec_eq A}:
    <span class="kr">forall</span> (<span class="nv">l</span> <span class="nv">l&#39;</span> <span class="nv">postfix</span>: list A) <span class="nv">v</span> <span class="nv">x</span>,
      v &lt;&gt; x -&gt;
      l ++ [x] = (l&#39; ++ [v]) ++ postfix -&gt;
      <span class="kr">exists</span> <span class="nv">postfix&#39;</span>, postfix = postfix&#39; ++ [x].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">l</span> <span class="nv">l&#39;</span> <span class="nv">postfix</span> : list A) (<span class="nv">v</span> <span class="nv">x</span> : A),
v &lt;&gt; x -&gt;
l ++ [x] = (l&#39; ++ [v]) ++ postfix -&gt;
<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, postfix = postfix&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk164"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">l</span> <span class="nv">l&#39;</span> <span class="nv">postfix</span> : list A) (<span class="nv">v</span> <span class="nv">x</span> : A),
v &lt;&gt; x -&gt;
l ++ [x] = (l&#39; ++ [v]) ++ postfix -&gt;
<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, postfix = postfix&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk165">introv Hneq Hyp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>l, l', postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; x</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>l ++ [x] = (l&#39; ++ [v]) ++ postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, postfix = postfix&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk166" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk166"><span class="nb">rewrite</span> &lt;- List.app_assoc <span class="kr">in</span> Hyp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>l, l', postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; x</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>l ++ [x] = l&#39; ++ [v] ++ postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, postfix = postfix&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk167" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk167"><span class="nb">apply</span> (list_occ_spec) <span class="kr">in</span> Hyp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>l, l', postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; x</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>l = l&#39; /\ x = v /\ postfix = [] \/
(<span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
   postfix = postfix&#39; ++ [x])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, postfix = postfix&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk168"><span class="nb">destruct</span> Hyp <span class="kr">as</span> [Case1 | Case2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>l, l', postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; x</span></span></span><br><span><var>Case1</var><span class="hyp-type"><b>: </b><span>l = l&#39; /\ x = v /\ postfix = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, postfix = postfix&#39; ++ [x]</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk169" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>l, l', postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; x</span></span></span><br><span><var>Case2</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
  postfix = postfix&#39; ++ [x]</span></span></span><br></div><label class="goal-separator" for="common-v-chk169"><hr></label><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, postfix = postfix&#39; ++ [x]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk16a" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk16a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>l, l', postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; x</span></span></span><br><span><var>Case1</var><span class="hyp-type"><b>: </b><span>l = l&#39; /\ x = v /\ postfix = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, postfix = postfix&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk16b" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk16b"><span class="nb">destruct</span> Case1 <span class="kr">as</span> [? [Heq ?]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>l, l', postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; x</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l = l&#39;</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>x = v</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>postfix = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, postfix = postfix&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk16c"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, [] = postfix&#39; ++ [v]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">contradiction</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk16d" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk16d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>l, l', postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; x</span></span></span><br><span><var>Case2</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A,
  postfix = postfix&#39; ++ [x]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;</span> : list A, postfix = postfix&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk16e"><span class="kn">Lemma</span> <span class="nf">list_occ_lemma2</span> {<span class="nv">A</span>}:
    <span class="kr">forall</span> (<span class="nv">prefix</span> <span class="nv">prefix&#39;</span> <span class="nv">postfix</span> <span class="nv">postfix&#39;</span> : list A) (<span class="nv">v</span> <span class="nv">a</span>: A),
      v &lt;&gt; a -&gt;
      prefix ++ [v] ++ a :: postfix = prefix&#39; ++ [v] ++ postfix&#39; -&gt;
      <span class="kr">exists</span> <span class="nv">postfix&#39;&#39;</span>, postfix&#39; = a :: postfix&#39;&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">prefix</span> <span class="nv">prefix&#39;</span> <span class="nv">postfix</span> <span class="nv">postfix&#39;</span> : list A)
  (<span class="nv">v</span> <span class="nv">a</span> : A),
v &lt;&gt; a -&gt;
prefix ++ [v] ++ a :: postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
<span class="kr">exists</span> <span class="nv">postfix&#39;&#39;</span> : list A, postfix&#39; = a :: postfix&#39;&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk16f" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk16f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">prefix</span> <span class="nv">prefix&#39;</span> <span class="nv">postfix</span> <span class="nv">postfix&#39;</span> : list A)
  (<span class="nv">v</span> <span class="nv">a</span> : A),
v &lt;&gt; a -&gt;
prefix ++ [v] ++ a :: postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
<span class="kr">exists</span> <span class="nv">postfix&#39;&#39;</span> : list A, postfix&#39; = a :: postfix&#39;&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk170"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix', postfix, postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v, a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ a :: postfix =
prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;&#39;</span> : list A, postfix&#39; = a :: postfix&#39;&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk171"><span class="nb">induction</span> postfix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix', postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v, a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ [a] = prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;&#39;</span> : list A, postfix&#39; = a :: postfix&#39;&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk172" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v, a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ a :: a0 :: postfix =
prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ a :: postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
<span class="kr">exists</span> <span class="nv">postfix&#39;&#39;</span> : list A,
  postfix&#39; = a :: postfix&#39;&#39;</span></span></span><br></div><label class="goal-separator" for="common-v-chk172"><hr></label><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;&#39;</span> : list A, postfix&#39; = a :: postfix&#39;&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk173" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk173">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix', postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v, a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ [a] = prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;&#39;</span> : list A, postfix&#39; = a :: postfix&#39;&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk174" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk174"><span class="kr">exists</span> (@nil A).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix', postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v, a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ [a] = prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">postfix&#39; = [a]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk175" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk175"><span class="nb">induction</span> postfix&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v, a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ [a] = prefix&#39; ++ [v] ++ []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">[] = [a]</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk176" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v, a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ [a] =
prefix&#39; ++ [v] ++ a0 :: postfix&#39;</span></span></span><br><span><var>IHpostfix'</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ [a] =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
postfix&#39; = [a]</span></span></span><br></div><label class="goal-separator" for="common-v-chk176"><hr></label><div class="goal-conclusion">a0 :: postfix&#39; = [a]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk177" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk177">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v, a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ [a] = prefix&#39; ++ [v] ++ []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">[] = [a]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk178"><span class="nb">specialize</span> (list_occ_lemma prefix prefix&#39; (@nil A) v).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v, a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ [a] = prefix&#39; ++ [v] ++ []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(prefix ++ [v] = prefix&#39; ++ [v] ++ [] -&gt;
 prefix = prefix&#39; /\ [] = [] \/ v ‚àà []) -&gt; [] = [a]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk179" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk179"><span class="nb">intro</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v, a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>v &lt;&gt; a</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ [a] = prefix&#39; ++ [v] ++ []</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] = prefix&#39; ++ [v] ++ [] -&gt;
prefix = prefix&#39; /\ [] = [] \/ v ‚àà []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">[] = [a]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Abort</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk17a" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk17a"><span class="kn">Lemma</span> <span class="nf">list_occ_lemma3</span> {<span class="nv">A</span>}:
    <span class="kr">forall</span> (<span class="nv">l</span>: list A) (<span class="nv">a</span>: A),
      a ‚àà l &lt;-&gt; <span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span>,
        l = prefix ++ [a] ++ postfix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">l</span> : list A) (<span class="nv">a</span> : A),
a ‚àà l &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
   l = prefix ++ [a] ++ postfix)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk17b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">l</span> : list A) (<span class="nv">a</span> : A),
a ‚àà l &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
   l = prefix ++ [a] ++ postfix)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk17c" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk17c"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
   l = prefix ++ [a] ++ postfix)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk17d" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk17d"><span class="nb">induction</span> l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà [] &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
   [] = prefix ++ [a] ++ postfix)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk17e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a] ++ postfix)</span></span></span><br></div><label class="goal-separator" for="common-v-chk17e"><hr></label><div class="goal-conclusion">a ‚àà (a0 :: l) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
   a0 :: l = prefix ++ [a] ++ postfix)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk17f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà [] &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
   [] = prefix ++ [a] ++ postfix)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk180" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk180"><span class="nb">split</span>; <span class="nb">intros</span> [].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">postfix</span> : list A, [] = x ++ [a] ++ postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk181" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk181"><span class="nb">destruct</span> H <span class="kr">as</span> [postfix Heq].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x, postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>[] = x ++ [a] ++ postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk182" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk182"><span class="nb">destruct</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>[] = [] ++ [a] ++ postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk183" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a, a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x, postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>[] = (a0 :: x) ++ [a] ++ postfix</span></span></span><br></div><label class="goal-separator" for="common-v-chk183"><hr></label><div class="goal-conclusion">a ‚àà []</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk184">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>[] = [] ++ [a] ++ postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk185"><span class="nb">cbn</span> <span class="kr">in</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>[] = a :: postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">inversion</span> Heq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk186">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a, a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x, postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>[] = (a0 :: x) ++ [a] ++ postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk187" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk187"><span class="nb">cbn</span> <span class="kr">in</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a, a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x, postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>[] = a0 :: x ++ a :: postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">inversion</span> Heq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk188" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk188">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a] ++ postfix)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà (a0 :: l) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
   a0 :: l = prefix ++ [a] ++ postfix)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk189"><span class="nb">rewrite</span> element_of_list_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a] ++ postfix)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = a0 \/ a ‚àà l &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
   a0 :: l = prefix ++ [a] ++ postfix)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk18a"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a] ++ postfix)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = a0 \/ a ‚àà l -&gt;
<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
  a0 :: l = prefix ++ [a] ++ postfix</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk18b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a] ++ postfix)</span></span></span><br></div><label class="goal-separator" for="common-v-chk18b"><hr></label><div class="goal-conclusion">(<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
   a0 :: l = prefix ++ [a] ++ postfix) -&gt;
a = a0 \/ a ‚àà l</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk18c" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk18c">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a] ++ postfix)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = a0 \/ a ‚àà l -&gt;
<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
  a0 :: l = prefix ++ [a] ++ postfix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk18d"><span class="nb">intros</span> [Case1 | Case2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a] ++ postfix)</span></span></span><br><span><var>Case1</var><span class="hyp-type"><b>: </b><span>a = a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
  a0 :: l = prefix ++ [a] ++ postfix</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk18e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
   l = prefix ++ [a] ++ postfix)</span></span></span><br><span><var>Case2</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br></div><label class="goal-separator" for="common-v-chk18e"><hr></label><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
  a0 :: l = prefix ++ [a] ++ postfix</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk18f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a] ++ postfix)</span></span></span><br><span><var>Case1</var><span class="hyp-type"><b>: </b><span>a = a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
  a0 :: l = prefix ++ [a] ++ postfix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk190"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a0 ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a0] ++ postfix)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
  a0 :: l = prefix ++ [a0] ++ postfix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk191" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk191"><span class="kr">exists</span> (@nil A).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a0 ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a0] ++ postfix)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix</span> : list A,
  a0 :: l = [] ++ [a0] ++ postfix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk192" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk192"><span class="kr">exists</span> <span class="nv">l</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a0 ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a0] ++ postfix)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a0 :: l = [] ++ [a0] ++ l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk193"><span class="nb">rewrite</span> List.app_nil_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a0 ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a0] ++ postfix)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a0 :: l = [a0] ++ l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk194">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a] ++ postfix)</span></span></span><br><span><var>Case2</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
  a0 :: l = prefix ++ [a] ++ postfix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk195" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk195"><span class="nb">apply</span> IHl <span class="kr">in</span> Case2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a] ++ postfix)</span></span></span><br><span><var>Case2</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
  l = prefix ++ [a] ++ postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
  a0 :: l = prefix ++ [a] ++ postfix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk196" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk196"><span class="nb">destruct</span> Case2 <span class="kr">as</span> [pre [post Heq]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a] ++ postfix)</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>l = pre ++ [a] ++ post</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
  a0 :: l = prefix ++ [a] ++ postfix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk197"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0, a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà (pre ++ [a] ++ post) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
   pre ++ [a] ++ post = prefix ++ [a] ++ postfix)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
  a0 :: pre ++ [a] ++ post = prefix ++ [a] ++ postfix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk198"><span class="kr">exists</span> (<span class="nv">a0</span> :: pre).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0, a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà (pre ++ [a] ++ post) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
   pre ++ [a] ++ post = prefix ++ [a] ++ postfix)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix</span> : list A,
  a0 :: pre ++ [a] ++ post =
  (a0 :: pre) ++ [a] ++ postfix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk199" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk199"><span class="kr">exists</span> <span class="nv">post</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0, a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pre, post</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà (pre ++ [a] ++ post) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
   pre ++ [a] ++ post = prefix ++ [a] ++ postfix)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a0 :: pre ++ [a] ++ post = (a0 :: pre) ++ [a] ++ post</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk19a" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk19a">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a] ++ postfix)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
   a0 :: l = prefix ++ [a] ++ postfix) -&gt;
a = a0 \/ a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk19b" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk19b"><span class="nb">intros</span> [prefix [postfix Heq]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a] ++ postfix)</span></span></span><br><span><var>prefix, postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: l = prefix ++ [a] ++ postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = a0 \/ a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk19c" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk19c"><span class="nb">destruct</span> prefix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a] ++ postfix)</span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: l = [] ++ [a] ++ postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = a0 \/ a ‚àà l</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk19d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A,
   l = prefix ++ [a] ++ postfix)</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix, postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: l = (a1 :: prefix) ++ [a] ++ postfix</span></span></span><br></div><label class="goal-separator" for="common-v-chk19d"><hr></label><div class="goal-conclusion">a = a0 \/ a ‚àà l</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk19e" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk19e">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a] ++ postfix)</span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: l = [] ++ [a] ++ postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = a0 \/ a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk19f" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk19f"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a] ++ postfix)</span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: l = [] ++ [a] ++ postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = a0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">inversion</span> Heq.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1a0" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1a0">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a] ++ postfix)</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix, postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: l = (a1 :: prefix) ++ [a] ++ postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = a0 \/ a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1a1">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a] ++ postfix)</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix, postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: l = (a1 :: prefix) ++ [a] ++ postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = a0 \/ a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1a2" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1a2"><span class="nb">cbn</span> <span class="kr">in</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà l &lt;-&gt; (<span class="kr">exists</span> <span class="nv">prefix</span> <span class="nv">postfix</span> : list A, l = prefix ++ [a] ++ postfix)</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix, postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: l = a1 :: prefix ++ a :: postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = a0 \/ a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1a3" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1a3"><span class="nb">inversion</span> Heq; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix, postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a1 :: prefix ++ a :: postfix =
a1 :: prefix ++ a :: postfix</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà (prefix ++ a :: postfix) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">prefix0</span> <span class="nv">postfix0</span> : list A,
   prefix ++ a :: postfix =
   prefix0 ++ [a] ++ postfix0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = a1 \/ a ‚àà (prefix ++ a :: postfix)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1a4" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1a4"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix, postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a1 :: prefix ++ a :: postfix =
a1 :: prefix ++ a :: postfix</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà (prefix ++ a :: postfix) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">prefix0</span> <span class="nv">postfix0</span> : list A,
   prefix ++ a :: postfix =
   prefix0 ++ [a] ++ postfix0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà (prefix ++ a :: postfix)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1a5" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1a5"><span class="nb">rewrite</span> element_of_list_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix, postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a1 :: prefix ++ a :: postfix =
a1 :: prefix ++ a :: postfix</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà (prefix ++ a :: postfix) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">prefix0</span> <span class="nv">postfix0</span> : list A,
   prefix ++ a :: postfix =
   prefix0 ++ [a] ++ postfix0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà prefix \/ a ‚àà (a :: postfix)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1a6" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1a6"><span class="nb">rewrite</span> element_of_list_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix, postfix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a1 :: prefix ++ a :: postfix =
a1 :: prefix ++ a :: postfix</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>a ‚àà (prefix ++ a :: postfix) &lt;-&gt;
(<span class="kr">exists</span> <span class="nv">prefix0</span> <span class="nv">postfix0</span> : list A,
   prefix ++ a :: postfix =
   prefix0 ++ [a] ++ postfix0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà prefix \/ a = a \/ a ‚àà postfix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">tauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1a7" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1a7"><span class="kn">Lemma</span> <span class="nf">list_binding_inversion_prefix</span> {<span class="nv">A</span>} `{EqDec_eq A}:
    <span class="kr">forall</span> (<span class="nv">prefix</span> <span class="nv">postfix</span> <span class="nv">prefix&#39;</span> <span class="nv">postfix&#39;</span>: list A) (<span class="nv">v</span>: A)
      (<span class="nv">Hnin</span> : ~ v ‚àà postfix)
      (<span class="nv">Hnin&#39;</span>: ~ v ‚àà postfix&#39;),
      prefix ++ [v] ++ postfix = prefix&#39; ++ [v] ++ postfix&#39; -&gt;
      prefix = prefix&#39; /\ postfix = postfix&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">prefix</span> <span class="nv">postfix</span> <span class="nv">prefix&#39;</span> <span class="nv">postfix&#39;</span> : list A)
  (<span class="nv">v</span> : A),
~ v ‚àà postfix -&gt;
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix = prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1a8" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1a8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">prefix</span> <span class="nv">postfix</span> <span class="nv">prefix&#39;</span> <span class="nv">postfix&#39;</span> : list A)
  (<span class="nv">v</span> : A),
~ v ‚àà postfix -&gt;
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix = prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1a9" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1a9">introv Hyp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix, postfix, prefix', postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix = prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1aa" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1aa"><span class="nb">generalize dependent</span> postfix&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix, postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix = prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1ab" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1ab"><span class="nb">induction</span> postfix <span class="nb">using</span> List.rev_ind; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà []</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ [] = prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ [] = postfix&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk1ac" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ postfix ++ [x] =
prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br></div><label class="goal-separator" for="common-v-chk1ac"><hr></label><div class="goal-conclusion">prefix = prefix&#39; /\ postfix ++ [x] = postfix&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1ad" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1ad">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà []</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ [] = prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ [] = postfix&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1ae" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1ae"><span class="nb">rewrite</span> List.app_nil_r <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà []</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] = prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ [] = postfix&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1af" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1af"><span class="nb">specialize</span> (list_occ_lemma _ _ _ v H0).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà []</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] = prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ postfix&#39; = [] \/ v ‚àà postfix&#39; -&gt;
prefix = prefix&#39; /\ [] = postfix&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1b0" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1b0"><span class="nb">destruct</span> <span class="mi">1</span> <span class="kr">as</span> [[Hyp1 Hyp2] | Hyp3].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà []</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] = prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br><span><var>Hyp1</var><span class="hyp-type"><b>: </b><span>prefix = prefix&#39;</span></span></span><br><span><var>Hyp2</var><span class="hyp-type"><b>: </b><span>postfix&#39; = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ [] = postfix&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk1b1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà []</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] = prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br><span><var>Hyp3</var><span class="hyp-type"><b>: </b><span>v ‚àà postfix&#39;</span></span></span><br></div><label class="goal-separator" for="common-v-chk1b1"><hr></label><div class="goal-conclusion">prefix = prefix&#39; /\ [] = postfix&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1b2" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1b2">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà []</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] = prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br><span><var>Hyp1</var><span class="hyp-type"><b>: </b><span>prefix = prefix&#39;</span></span></span><br><span><var>Hyp2</var><span class="hyp-type"><b>: </b><span>postfix&#39; = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ [] = postfix&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1b3" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1b3"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà []</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix&#39; ++ [v] = prefix&#39; ++ [v] ++ []</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix&#39; = prefix&#39; /\ [] = []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; <span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1b4" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1b4">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà []</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] = prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br><span><var>Hyp3</var><span class="hyp-type"><b>: </b><span>v ‚àà postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ [] = postfix&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">contradiction</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1b5" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1b5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ postfix ++ [x] =
prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ postfix ++ [x] = postfix&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1b6" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1b6"><span class="nb">enough</span> (<span class="nb">cut</span>: <span class="kr">exists</span> <span class="nv">postfix&#39;&#39;</span>, postfix&#39; = postfix&#39;&#39; ++ [x]).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ postfix ++ [x] =
prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br><span><var>cut</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">postfix&#39;&#39;</span> : list A,
  postfix&#39; = postfix&#39;&#39; ++ [x]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ postfix ++ [x] = postfix&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk1b7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ postfix ++ [x] =
prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br></div><label class="goal-separator" for="common-v-chk1b7"><hr></label><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;&#39;</span> : list A, postfix&#39; = postfix&#39;&#39; ++ [x]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1b8" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1b8">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ postfix ++ [x] =
prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br><span><var>cut</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">postfix&#39;&#39;</span> : list A,
  postfix&#39; = postfix&#39;&#39; ++ [x]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ postfix ++ [x] = postfix&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1b9" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1b9"><span class="nb">destruct</span> <span class="nb">cut</span> <span class="kr">as</span> [postfix&#39;&#39; Heq].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ postfix ++ [x] =
prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>postfix&#39; = postfix&#39;&#39; ++ [x]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ postfix ++ [x] = postfix&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1ba" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1ba"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ postfix ++ [x] =
prefix&#39; ++ [v] ++ postfix&#39;&#39; ++ [x]</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ postfix ++ [x] = postfix&#39;&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1bb" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1bb"><span class="kp">repeat</span> <span class="nb">rewrite</span> List.app_assoc <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>((prefix ++ [v]) ++ postfix) ++ [x] =
((prefix&#39; ++ [v]) ++ postfix&#39;&#39;) ++ [x]</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ postfix ++ [x] = postfix&#39;&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1bc" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1bc"><span class="nb">apply</span> list_app_one_inv <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(prefix ++ [v]) ++ postfix =
(prefix&#39; ++ [v]) ++ postfix&#39;&#39; /\ 
x = x</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ postfix ++ [x] = postfix&#39;&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1bd" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1bd"><span class="nb">destruct</span> H0 <span class="kr">as</span> [H0 _].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(prefix ++ [v]) ++ postfix =
(prefix&#39; ++ [v]) ++ postfix&#39;&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ postfix ++ [x] = postfix&#39;&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1be" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1be"><span class="nb">assert</span> (~ v ‚àà postfix).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(prefix ++ [v]) ++ postfix =
(prefix&#39; ++ [v]) ++ postfix&#39;&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ v ‚àà postfix</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk1bf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(prefix ++ [v]) ++ postfix =
(prefix&#39; ++ [v]) ++ postfix&#39;&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix</span></span></span><br></div><label class="goal-separator" for="common-v-chk1bf"><hr></label><div class="goal-conclusion">prefix = prefix&#39; /\ postfix ++ [x] = postfix&#39;&#39; ++ [x]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1c0" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1c0">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(prefix ++ [v]) ++ postfix =
(prefix&#39; ++ [v]) ++ postfix&#39;&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ v ‚àà postfix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1c1" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1c1"><span class="nb">intro</span> contra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(prefix ++ [v]) ++ postfix =
(prefix&#39; ++ [v]) ++ postfix&#39;&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>v ‚àà postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1c2" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1c2"><span class="nb">apply</span> Hyp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(prefix ++ [v]) ++ postfix =
(prefix&#39; ++ [v]) ++ postfix&#39;&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>v ‚àà postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà (postfix ++ [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1c3" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1c3"><span class="nb">rewrite</span> element_of_list_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(prefix ++ [v]) ++ postfix =
(prefix&#39; ++ [v]) ++ postfix&#39;&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>v ‚àà postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà postfix \/ v ‚àà [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">left</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1c4" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1c4">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(prefix ++ [v]) ++ postfix =
(prefix&#39; ++ [v]) ++ postfix&#39;&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ postfix ++ [x] = postfix&#39;&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1c5" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1c5"><span class="nb">assert</span> (~ v ‚àà postfix&#39;&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(prefix ++ [v]) ++ postfix =
(prefix&#39; ++ [v]) ++ postfix&#39;&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ v ‚àà postfix&#39;&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk1c6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(prefix ++ [v]) ++ postfix =
(prefix&#39; ++ [v]) ++ postfix&#39;&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;&#39;</span></span></span><br></div><label class="goal-separator" for="common-v-chk1c6"><hr></label><div class="goal-conclusion">prefix = prefix&#39; /\ postfix ++ [x] = postfix&#39;&#39; ++ [x]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1c7" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1c7">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(prefix ++ [v]) ++ postfix =
(prefix&#39; ++ [v]) ++ postfix&#39;&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ v ‚àà postfix&#39;&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1c8" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1c8"><span class="nb">intro</span> contra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(prefix ++ [v]) ++ postfix =
(prefix&#39; ++ [v]) ++ postfix&#39;&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>v ‚àà postfix&#39;&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1c9" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1c9"><span class="nb">apply</span> Hnin&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(prefix ++ [v]) ++ postfix =
(prefix&#39; ++ [v]) ++ postfix&#39;&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>v ‚àà postfix&#39;&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà (postfix&#39;&#39; ++ [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1ca" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1ca"><span class="nb">rewrite</span> element_of_list_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(prefix ++ [v]) ++ postfix =
(prefix&#39; ++ [v]) ++ postfix&#39;&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>v ‚àà postfix&#39;&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà postfix&#39;&#39; \/ v ‚àà [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">left</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1cb" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1cb">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(prefix ++ [v]) ++ postfix =
(prefix&#39; ++ [v]) ++ postfix&#39;&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ postfix ++ [x] = postfix&#39;&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1cc" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1cc"><span class="nb">specialize</span> (IHpostfix H1).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(prefix ++ [v]) ++ postfix =
(prefix&#39; ++ [v]) ++ postfix&#39;&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ postfix ++ [x] = postfix&#39;&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1cd" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1cd"><span class="nb">specialize</span> (IHpostfix postfix&#39;&#39; H2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39;&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(prefix ++ [v]) ++ postfix =
(prefix&#39; ++ [v]) ++ postfix&#39;&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ postfix ++ [x] = postfix&#39;&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1ce" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1ce"><span class="kp">do</span> <span class="mi">2</span> <span class="nb">rewrite</span> &lt;- List.app_assoc <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39;&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39;&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ postfix ++ [x] = postfix&#39;&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1cf" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1cf"><span class="nb">apply</span> IHpostfix <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39;&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix = prefix&#39; /\ postfix = postfix&#39;&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix = prefix&#39; /\ postfix ++ [x] = postfix&#39;&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1d0" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1d0"><span class="nb">inversion</span> H0; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix''</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>prefix&#39; ++ [v] ++ postfix&#39;&#39; =
prefix&#39; ++ [v] ++ postfix&#39;&#39; -&gt;
prefix&#39; = prefix&#39; /\ postfix&#39;&#39; = postfix&#39;&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix&#39; = prefix&#39; /\ postfix&#39;&#39; = postfix&#39;&#39;</span></span></span><br><span><var>Hyp, Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix&#39;&#39; ++ [x])</span></span></span><br><span><var>H1, H2</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix&#39; = prefix&#39; /\
postfix&#39;&#39; ++ [x] = postfix&#39;&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1d1" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1d1">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ postfix ++ [x] =
prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;&#39;</span> : list A, postfix&#39; = postfix&#39;&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1d2" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1d2"><span class="nb">clear</span> Hnin&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>IHpostfix</var><span class="hyp-type"><b>: </b><span>~ v ‚àà postfix -&gt;
<span class="kr">forall</span> <span class="nv">postfix&#39;</span> : list A,
~ v ‚àà postfix&#39; -&gt;
prefix ++ [v] ++ postfix =
prefix&#39; ++ [v] ++ postfix&#39; -&gt;
prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ postfix ++ [x] =
prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;&#39;</span> : list A, postfix&#39; = postfix&#39;&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1d3" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1d3"><span class="nb">clear</span> IHpostfix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>prefix ++ [v] ++ postfix ++ [x] =
prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;&#39;</span> : list A, postfix&#39; = postfix&#39;&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1d4" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1d4"><span class="nb">rewrite</span> List.app_assoc <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(prefix ++ [v]) ++ postfix ++ [x] =
prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;&#39;</span> : list A, postfix&#39; = postfix&#39;&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1d5" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1d5"><span class="nb">rewrite</span> List.app_assoc <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>((prefix ++ [v]) ++ postfix) ++ [x] =
prefix&#39; ++ [v] ++ postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;&#39;</span> : list A, postfix&#39; = postfix&#39;&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1d6" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1d6"><span class="nb">rewrite</span> List.app_assoc <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>((prefix ++ [v]) ++ postfix) ++ [x] =
(prefix&#39; ++ [v]) ++ postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">exists</span> <span class="nv">postfix&#39;&#39;</span> : list A, postfix&#39; = postfix&#39;&#39; ++ [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1d7" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1d7"><span class="nb">apply</span> list_occ_lemma4 <span class="kr">in</span> H0; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ v ‚àà (postfix ++ [x])</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>((prefix ++ [v]) ++ postfix) ++ [x] =
(prefix&#39; ++ [v]) ++ postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v &lt;&gt; x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1d8" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1d8"><span class="nb">intro</span> contra; <span class="nb">subst</span>; <span class="nb">apply</span> Hyp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ x ‚àà (postfix ++ [x])</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>((prefix ++ [x]) ++ postfix) ++ [x] =
(prefix&#39; ++ [x]) ++ postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà (postfix ++ [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1d9" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1d9"><span class="nb">rewrite</span> element_of_list_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ x ‚àà (postfix ++ [x])</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>((prefix ++ [x]) ++ postfix) ++ [x] =
(prefix&#39; ++ [x]) ++ postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà postfix \/ x ‚àà [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1da" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1da"><span class="nb">rewrite</span> element_of_list_one.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>EqDec_eq A</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>postfix, prefix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hyp</var><span class="hyp-type"><b>: </b><span>~ x ‚àà (postfix ++ [x])</span></span></span><br><span><var>postfix'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>((prefix ++ [x]) ++ postfix) ++ [x] =
(prefix&#39; ++ [x]) ++ postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà postfix \/ x = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">right</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1db" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1db"><span class="kn">Lemma</span> <span class="nf">get_binding2</span>: <span class="kr">forall</span> <span class="nv">prefix</span> <span class="nv">v1</span> <span class="nv">v2</span> <span class="nv">postfix</span> <span class="nv">ctx</span>,
      v1 = v2 -&gt;
      ctx = prefix ++ [v1] ++ postfix -&gt;
      ~ (v1 ‚àà postfix) -&gt;
      get_binding ctx v1 = Bound prefix v2 postfix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">prefix</span> : list atom) (<span class="nv">v1</span> <span class="nv">v2</span> : atom)
  (<span class="nv">postfix</span> <span class="nv">ctx</span> : list atom),
v1 = v2 -&gt;
ctx = prefix ++ [v1] ++ postfix -&gt;
~ v1 ‚àà postfix -&gt;
get_binding ctx v1 = Bound prefix v2 postfix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1dc" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1dc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">prefix</span> : list atom) (<span class="nv">v1</span> <span class="nv">v2</span> : atom)
  (<span class="nv">postfix</span> <span class="nv">ctx</span> : list atom),
v1 = v2 -&gt;
ctx = prefix ++ [v1] ++ postfix -&gt;
~ v1 ‚àà postfix -&gt;
get_binding ctx v1 = Bound prefix v2 postfix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1dd" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1dd">introv HVeq Heq Hnin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v1, v2</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>postfix, ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>HVeq</var><span class="hyp-type"><b>: </b><span>v1 = v2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>ctx = prefix ++ [v1] ++ postfix</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ v1 ‚àà postfix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding ctx v1 = Bound prefix v2 postfix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1de" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1de"><span class="nb">destruct</span> (get_binding_spec (prefix ++ [v2] ++ postfix) v2)
      <span class="kr">as</span> [[Case1 rest] | [prefix&#39; [postfix&#39; [Case2 [ctxspec Hnin&#39;]]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v1, v2</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>postfix, ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>HVeq</var><span class="hyp-type"><b>: </b><span>v1 = v2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>ctx = prefix ++ [v1] ++ postfix</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ v1 ‚àà postfix</span></span></span><br><span><var>Case1</var><span class="hyp-type"><b>: </b><span>get_binding (prefix ++ [v2] ++ postfix) v2 =
Unbound (prefix ++ [v2] ++ postfix) v2</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>~ v2 ‚àà (prefix ++ [v2] ++ postfix)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding ctx v1 = Bound prefix v2 postfix</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="common-v-chk1df" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v1, v2</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>postfix, ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>HVeq</var><span class="hyp-type"><b>: </b><span>v1 = v2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>ctx = prefix ++ [v1] ++ postfix</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ v1 ‚àà postfix</span></span></span><br><span><var>prefix', postfix'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Case2</var><span class="hyp-type"><b>: </b><span>get_binding (prefix ++ [v2] ++ postfix) v2 =
Bound prefix&#39; v2 postfix&#39;</span></span></span><br><span><var>ctxspec</var><span class="hyp-type"><b>: </b><span>prefix ++ [v2] ++ postfix =
prefix&#39; ++ [v2] ++ postfix&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v2 ‚àà postfix&#39;</span></span></span><br></div><label class="goal-separator" for="common-v-chk1df"><hr></label><div class="goal-conclusion">get_binding ctx v1 = Bound prefix v2 postfix</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1e0" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1e0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v1, v2</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>postfix, ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>HVeq</var><span class="hyp-type"><b>: </b><span>v1 = v2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>ctx = prefix ++ [v1] ++ postfix</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ v1 ‚àà postfix</span></span></span><br><span><var>Case1</var><span class="hyp-type"><b>: </b><span>get_binding (prefix ++ [v2] ++ postfix) v2 =
Unbound (prefix ++ [v2] ++ postfix) v2</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>~ v2 ‚àà (prefix ++ [v2] ++ postfix)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding ctx v1 = Bound prefix v2 postfix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1e1" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1e1">false.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v1, v2</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>postfix, ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>HVeq</var><span class="hyp-type"><b>: </b><span>v1 = v2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>ctx = prefix ++ [v1] ++ postfix</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ v1 ‚àà postfix</span></span></span><br><span><var>Case1</var><span class="hyp-type"><b>: </b><span>get_binding (prefix ++ [v2] ++ postfix) v2 =
Unbound (prefix ++ [v2] ++ postfix) v2</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>~ v2 ‚àà (prefix ++ [v2] ++ postfix)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1e2" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1e2"><span class="nb">apply</span> rest.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v1, v2</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>postfix, ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>HVeq</var><span class="hyp-type"><b>: </b><span>v1 = v2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>ctx = prefix ++ [v1] ++ postfix</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ v1 ‚àà postfix</span></span></span><br><span><var>Case1</var><span class="hyp-type"><b>: </b><span>get_binding (prefix ++ [v2] ++ postfix) v2 =
Unbound (prefix ++ [v2] ++ postfix) v2</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>~ v2 ‚àà (prefix ++ [v2] ++ postfix)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v2 ‚àà (prefix ++ [v2] ++ postfix)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1e3" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1e3"><span class="nb">rewrite</span> element_of_list_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v1, v2</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>postfix, ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>HVeq</var><span class="hyp-type"><b>: </b><span>v1 = v2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>ctx = prefix ++ [v1] ++ postfix</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ v1 ‚àà postfix</span></span></span><br><span><var>Case1</var><span class="hyp-type"><b>: </b><span>get_binding (prefix ++ [v2] ++ postfix) v2 =
Unbound (prefix ++ [v2] ++ postfix) v2</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>~ v2 ‚àà (prefix ++ [v2] ++ postfix)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v2 ‚àà prefix \/ v2 ‚àà ([v2] ++ postfix)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1e4" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1e4"><span class="nb">rewrite</span> element_of_list_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v1, v2</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>postfix, ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>HVeq</var><span class="hyp-type"><b>: </b><span>v1 = v2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>ctx = prefix ++ [v1] ++ postfix</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ v1 ‚àà postfix</span></span></span><br><span><var>Case1</var><span class="hyp-type"><b>: </b><span>get_binding (prefix ++ [v2] ++ postfix) v2 =
Unbound (prefix ++ [v2] ++ postfix) v2</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>~ v2 ‚àà (prefix ++ [v2] ++ postfix)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v2 ‚àà prefix \/ v2 ‚àà [v2] \/ v2 ‚àà postfix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1e5" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1e5"><span class="nb">rewrite</span> element_of_list_one.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v1, v2</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>postfix, ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>HVeq</var><span class="hyp-type"><b>: </b><span>v1 = v2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>ctx = prefix ++ [v1] ++ postfix</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ v1 ‚àà postfix</span></span></span><br><span><var>Case1</var><span class="hyp-type"><b>: </b><span>get_binding (prefix ++ [v2] ++ postfix) v2 =
Unbound (prefix ++ [v2] ++ postfix) v2</span></span></span><br><span><var>rest</var><span class="hyp-type"><b>: </b><span>~ v2 ‚àà (prefix ++ [v2] ++ postfix)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v2 ‚àà prefix \/ v2 = v2 \/ v2 ‚àà postfix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">tauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1e6" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1e6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v1, v2</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>postfix, ctx</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>HVeq</var><span class="hyp-type"><b>: </b><span>v1 = v2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>ctx = prefix ++ [v1] ++ postfix</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ v1 ‚àà postfix</span></span></span><br><span><var>prefix', postfix'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Case2</var><span class="hyp-type"><b>: </b><span>get_binding (prefix ++ [v2] ++ postfix) v2 =
Bound prefix&#39; v2 postfix&#39;</span></span></span><br><span><var>ctxspec</var><span class="hyp-type"><b>: </b><span>prefix ++ [v2] ++ postfix =
prefix&#39; ++ [v2] ++ postfix&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v2 ‚àà postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding ctx v1 = Bound prefix v2 postfix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1e7" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1e7"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ v2 ‚àà postfix</span></span></span><br><span><var>prefix', postfix'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Case2</var><span class="hyp-type"><b>: </b><span>get_binding (prefix ++ [v2] ++ postfix) v2 =
Bound prefix&#39; v2 postfix&#39;</span></span></span><br><span><var>ctxspec</var><span class="hyp-type"><b>: </b><span>prefix ++ [v2] ++ postfix =
prefix&#39; ++ [v2] ++ postfix&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v2 ‚àà postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding (prefix ++ [v2] ++ postfix) v2 =
Bound prefix v2 postfix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1e8" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1e8"><span class="nb">apply</span> list_binding_inversion_prefix <span class="kr">in</span> ctxspec; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>postfix</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>~ v2 ‚àà postfix</span></span></span><br><span><var>prefix', postfix'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Case2</var><span class="hyp-type"><b>: </b><span>get_binding (prefix ++ [v2] ++ postfix) v2 =
Bound prefix&#39; v2 postfix&#39;</span></span></span><br><span><var>ctxspec</var><span class="hyp-type"><b>: </b><span>prefix = prefix&#39; /\ postfix = postfix&#39;</span></span></span><br><span><var>Hnin'</var><span class="hyp-type"><b>: </b><span>~ v2 ‚àà postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding (prefix ++ [v2] ++ postfix) v2 =
Bound prefix v2 postfix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1e9" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1e9"><span class="nb">destruct</span> ctxspec; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v2</var><span class="hyp-type"><b>: </b><span>atom</span></span></span><br><span><var>postfix', prefix'</var><span class="hyp-type"><b>: </b><span>list atom</span></span></span><br><span><var>Case2</var><span class="hyp-type"><b>: </b><span>get_binding (prefix&#39; ++ [v2] ++ postfix&#39;) v2 =
Bound prefix&#39; v2 postfix&#39;</span></span></span><br><span><var>Hnin, Hnin'</var><span class="hyp-type"><b>: </b><span>~ v2 ‚àà postfix&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">get_binding (prefix&#39; ++ [v2] ++ postfix&#39;) v2 =
Bound prefix&#39; v2 postfix&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">rw</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">rw</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[local] <span class="kn">Notation</span> <span class="s2">&quot;&#39;l&#39;&quot;</span> := [ <span class="mi">1</span> ; <span class="mi">3</span>; <span class="mi">4</span>; <span class="mi">3</span>; <span class="mi">2</span> ].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1ea" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1ea"><span class="kn">Compute</span> get_binding l <span class="mi">1</span>. <span class="c">(* [] 1 [3; 4; 3; 2] *)</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= Bound [] <span class="mi">1</span> [<span class="mi">3</span>; <span class="mi">4</span>; <span class="mi">3</span>; <span class="mi">2</span>]
: Binding</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1eb" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1eb"><span class="kn">Compute</span> get_binding l <span class="mi">2</span>. <span class="c">(* Bound [1; 3; 4; 3] 2 [] *)</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= Bound [<span class="mi">1</span>; <span class="mi">3</span>; <span class="mi">4</span>; <span class="mi">3</span>] <span class="mi">2</span> []
: Binding</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1ec" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1ec"><span class="kn">Compute</span> get_binding l <span class="mi">3</span>. <span class="c">(* Bound [1; 3; 4] 3 [2] *)</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= Bound [<span class="mi">1</span>; <span class="mi">3</span>; <span class="mi">4</span>] <span class="mi">3</span> [<span class="mi">2</span>]
: Binding</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">rw</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">examples</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1ed" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1ed"><span class="kn">Compute</span> get_binding nil <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= Unbound [] <span class="mi">1</span>
: Binding</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1ee" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1ee"><span class="kn">Compute</span> get_binding nil <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= Unbound [] <span class="mi">2</span>
: Binding</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1ef" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1ef"><span class="kn">Compute</span> get_binding [<span class="mi">1</span>] <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= Bound [] <span class="mi">1</span> []
: Binding</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1f0" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1f0"><span class="kn">Compute</span> get_binding [<span class="mi">2</span>] <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= Unbound [<span class="mi">2</span>] <span class="mi">1</span>
: Binding</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1f1" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1f1"><span class="kn">Compute</span> get_binding [<span class="mi">1</span>] <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= Unbound [<span class="mi">1</span>] <span class="mi">2</span>
: Binding</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1f2" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1f2"><span class="kn">Compute</span> get_binding [<span class="mi">2</span>] <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= Bound [] <span class="mi">2</span> []
: Binding</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1f3" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1f3"><span class="kn">Compute</span> get_binding [<span class="mi">1</span>; <span class="mi">2</span>] <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= Bound [] <span class="mi">1</span> [<span class="mi">2</span>]
: Binding</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1f4" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1f4"><span class="kn">Compute</span> get_binding [<span class="mi">1</span>; <span class="mi">2</span>] <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= Bound [<span class="mi">1</span>] <span class="mi">2</span> []
: Binding</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1f5" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1f5"><span class="kn">Compute</span> get_binding [<span class="mi">1</span>; <span class="mi">2</span>] <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= Bound [] <span class="mi">1</span> [<span class="mi">2</span>]
: Binding</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1f6" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1f6"><span class="kn">Compute</span> get_binding [<span class="mi">1</span>; <span class="mi">2</span>] <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= Bound [<span class="mi">1</span>] <span class="mi">2</span> []
: Binding</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1f7" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1f7"><span class="kn">Compute</span> get_binding [<span class="mi">1</span>; <span class="mi">2</span>] <span class="mi">3</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= Unbound [<span class="mi">1</span>; <span class="mi">2</span>] <span class="mi">3</span>
: Binding</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1f8" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1f8"><span class="kn">Compute</span> get_binding [<span class="mi">1</span>; <span class="mi">2</span>; <span class="mi">3</span>] <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= Bound [] <span class="mi">1</span> [<span class="mi">2</span>; <span class="mi">3</span>]
: Binding</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1f9" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1f9"><span class="kn">Compute</span> get_binding [<span class="mi">1</span>; <span class="mi">2</span>; <span class="mi">3</span>] <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= Bound [<span class="mi">1</span>] <span class="mi">2</span> [<span class="mi">3</span>]
: Binding</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="common-v-chk1fa" style="display: none" type="checkbox"><label class="alectryon-input" for="common-v-chk1fa"><span class="kn">Compute</span> get_binding [<span class="mi">1</span>; <span class="mi">2</span>; <span class="mi">3</span>] <span class="mi">3</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= Bound [<span class="mi">1</span>; <span class="mi">2</span>] <span class="mi">3</span> []
: Binding</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">examples</span>.</span></span></pre>
</div>
</div></body>
</html>

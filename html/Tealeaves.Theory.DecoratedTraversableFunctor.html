<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span> <img class="logo" src="./logo_96.png"> </span>
      <span class="projectname"> Tealeaves </span>
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
      <a href="../html-alectryon/toc.html"> Switch to Alectryon Docs </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Tealeaves.Theory.DecoratedTraversableFunctor</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Adapters.KleisliToCategorical.TraversableFunctor.html#"><span class="id" title="library">Adapters.KleisliToCategorical.TraversableFunctor</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.TraversableFunctor.html#"><span class="id" title="library">Adapters.KleisliToCoalgebraic.TraversableFunctor</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Adapters.KleisliToCategorical.DecoratedTraversableFunctor.html#"><span class="id" title="library">Adapters.KleisliToCategorical.DecoratedTraversableFunctor</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#"><span class="id" title="library">Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Coalgebraic.TraversableFunctor.html#"><span class="id" title="library">Classes.Coalgebraic.TraversableFunctor</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#"><span class="id" title="library">Classes.Coalgebraic.DecoratedTraversableFunctor</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#"><span class="id" title="library">Functors.Batch</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Environment.html#"><span class="id" title="library">Functors.Environment</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#"><span class="id" title="library">Theory.TraversableFunctor</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#"><span class="id" title="library">Kleisli.Theory.DecoratedTraversableFunctor</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Misc.Product.html#Notations"><span class="id" title="module">Product.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#Notations"><span class="id" title="module">Monoid.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Notations"><span class="id" title="module">Batch.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ListNotations"><span class="id" title="module">List.ListNotations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Functors.Early.Subset.html#Notations"><span class="id" title="module">Subset.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#Notations"><span class="id" title="module">ContainerFunctor.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#Notations"><span class="id" title="module">DecoratedContainerFunctor.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Notations"><span class="id" title="module">VectorRefinement.Notations</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Generalizable</span> <span class="id" title="keyword">Variables</span> <span class="id" title="var">F</span> <span class="id" title="var">M</span> <span class="id" title="var">E</span> <span class="id" title="var">T</span> <span class="id" title="var">G</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">ϕ</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1108"></a><h1 class="section">Properties of <code>toBatch3</code></h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="theory" class="idref" href="#theory"><span class="id" title="section">theory</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Mapdt_inst:3" class="idref" href="#Mapdt_inst:3"><span class="id" title="binder">Mapdt_inst</span></a>: <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#Mapdt"><span class="id" title="class">Mapdt</span></a> <a id="E:1" class="idref" href="#E:1"><span class="id" title="binder">E</span></a> <a id="T:2" class="idref" href="#T:2"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Traverse_inst:4" class="idref" href="#Traverse_inst:4"><span class="id" title="binder">Traverse_inst</span></a>: <a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#Traverse"><span class="id" title="class">Traverse</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#T:2"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Mapd_inst:5" class="idref" href="#Mapd_inst:5"><span class="id" title="binder">Mapd_inst</span></a>: <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#Mapd"><span class="id" title="class">Mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#E:1"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#T:2"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Map_inst:6" class="idref" href="#Map_inst:6"><span class="id" title="binder">Map_inst</span></a>: <a class="idref" href="Tealeaves.Classes.Functor.html#Map"><span class="id" title="class">Map</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#T:2"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="ToBatch_inst:7" class="idref" href="#ToBatch_inst:7"><span class="id" title="binder">ToBatch_inst</span></a>: <a class="idref" href="Tealeaves.Classes.Coalgebraic.TraversableFunctor.html#ToBatch"><span class="id" title="class">ToBatch</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#T:2"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="ToBatch3_inst:8" class="idref" href="#ToBatch3_inst:8"><span class="id" title="binder">ToBatch3_inst</span></a>: <a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#ToBatch3"><span class="id" title="class">ToBatch3</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#E:1"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#T:2"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="ToCtxset_inst:9" class="idref" href="#ToCtxset_inst:9"><span class="id" title="binder">ToCtxset_inst</span></a>: <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#ToCtxset"><span class="id" title="class">ToCtxset</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#E:1"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#T:2"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="ToCtxlist_inst:10" class="idref" href="#ToCtxlist_inst:10"><span class="id" title="binder">ToCtxlist_inst</span></a>: <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#ToCtxlist"><span class="id" title="class">ToCtxlist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#E:1"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#T:2"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Compat_Traverse_Mapdt0:11" class="idref" href="#Compat_Traverse_Mapdt0:11"><span class="id" title="binder">!</span></a> <a id="Compat_Traverse_Mapdt0:11" class="idref" href="#Compat_Traverse_Mapdt0:11"><span class="id" title="binder">Compat_Traverse_Mapdt</span></a> <a id="Compat_Traverse_Mapdt0:11" class="idref" href="#Compat_Traverse_Mapdt0:11"><span class="id" title="binder">E</span></a> <a id="Compat_Traverse_Mapdt0:11" class="idref" href="#Compat_Traverse_Mapdt0:11"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Compat_Mapd_Mapdt0:12" class="idref" href="#Compat_Mapd_Mapdt0:12"><span class="id" title="binder">!</span></a> <a id="Compat_Mapd_Mapdt0:12" class="idref" href="#Compat_Mapd_Mapdt0:12"><span class="id" title="binder">Compat_Mapd_Mapdt</span></a> <a id="Compat_Mapd_Mapdt0:12" class="idref" href="#Compat_Mapd_Mapdt0:12"><span class="id" title="binder">E</span></a> <a id="Compat_Mapd_Mapdt0:12" class="idref" href="#Compat_Mapd_Mapdt0:12"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Compat_Map_Mapdt0:13" class="idref" href="#Compat_Map_Mapdt0:13"><span class="id" title="binder">!</span></a> <a id="Compat_Map_Mapdt0:13" class="idref" href="#Compat_Map_Mapdt0:13"><span class="id" title="binder">Compat_Map_Mapdt</span></a> <a id="Compat_Map_Mapdt0:13" class="idref" href="#Compat_Map_Mapdt0:13"><span class="id" title="binder">E</span></a> <a id="Compat_Map_Mapdt0:13" class="idref" href="#Compat_Map_Mapdt0:13"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Compat_ToBatch_Traverse0:14" class="idref" href="#Compat_ToBatch_Traverse0:14"><span class="id" title="binder">!</span></a> <a id="Compat_ToBatch_Traverse0:14" class="idref" href="#Compat_ToBatch_Traverse0:14"><span class="id" title="binder">Compat_ToBatch_Traverse</span></a> <a id="Compat_ToBatch_Traverse0:14" class="idref" href="#Compat_ToBatch_Traverse0:14"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Compat_ToBatch3_Mapdt0:15" class="idref" href="#Compat_ToBatch3_Mapdt0:15"><span class="id" title="binder">!</span></a> <a id="Compat_ToBatch3_Mapdt0:15" class="idref" href="#Compat_ToBatch3_Mapdt0:15"><span class="id" title="binder">Compat_ToBatch3_Mapdt</span></a> <a id="Compat_ToBatch3_Mapdt0:15" class="idref" href="#Compat_ToBatch3_Mapdt0:15"><span class="id" title="binder">E</span></a> <a id="Compat_ToBatch3_Mapdt0:15" class="idref" href="#Compat_ToBatch3_Mapdt0:15"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Compat_ToCtxset_Mapdt0:16" class="idref" href="#Compat_ToCtxset_Mapdt0:16"><span class="id" title="binder">!</span></a> <a id="Compat_ToCtxset_Mapdt0:16" class="idref" href="#Compat_ToCtxset_Mapdt0:16"><span class="id" title="binder">Compat_ToCtxset_Mapdt</span></a> <a id="Compat_ToCtxset_Mapdt0:16" class="idref" href="#Compat_ToCtxset_Mapdt0:16"><span class="id" title="binder">E</span></a> <a id="Compat_ToCtxset_Mapdt0:16" class="idref" href="#Compat_ToCtxset_Mapdt0:16"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Compat_ToCtxlist_Mapdt0:17" class="idref" href="#Compat_ToCtxlist_Mapdt0:17"><span class="id" title="binder">!</span></a> <a id="Compat_ToCtxlist_Mapdt0:17" class="idref" href="#Compat_ToCtxlist_Mapdt0:17"><span class="id" title="binder">Compat_ToCtxlist_Mapdt</span></a> <a id="Compat_ToCtxlist_Mapdt0:17" class="idref" href="#Compat_ToCtxlist_Mapdt0:17"><span class="id" title="binder">E</span></a> <a id="Compat_ToCtxlist_Mapdt0:17" class="idref" href="#Compat_ToCtxlist_Mapdt0:17"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:18" class="idref" href="#H:18"><span class="id" title="binder">!</span></a> <a id="H:18" class="idref" href="#H:18"><span class="id" title="binder">Kleisli.DecoratedTraversableFunctor.DecoratedTraversableFunctor</span></a> <a id="H:18" class="idref" href="#H:18"><span class="id" title="binder">E</span></a> <a id="H:18" class="idref" href="#H:18"><span class="id" title="binder">T</span></a>}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1109"></a><h2 class="section">Relating <code>toBatch3</code> with <code>toBatch</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="toBatch_to_toBatch3" class="idref" href="#toBatch_to_toBatch3"><span class="id" title="lemma">toBatch_to_toBatch3</span></a> {<a id="A:19" class="idref" href="#A:19"><span class="id" title="binder">A</span></a> <a id="B:20" class="idref" href="#B:20"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Coalgebraic.TraversableFunctor.html#toBatch"><span class="id" title="definition">toBatch</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:19"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">A'</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:20"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Comonad.html#extract"><span class="id" title="definition">extract</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.TraversableFunctor.html#toBatch_to_traverse"><span class="id" title="lemma">toBatch_to_traverse</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#traverse_to_mapdt"><span class="id" title="definition">traverse_to_mapdt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#toBatch3_to_mapdt"><span class="id" title="lemma">toBatch3_to_mapdt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#kdtf_morph"><span class="id" title="method">kdtf_morph</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">G1</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">A</span>) <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">G2</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ϕ</span> := <span class="id" title="keyword">fun</span> <a id="C:23" class="idref" href="#C:23"><span class="id" title="binder">C</span></a> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Comonad.html#extract"><span class="id" title="definition">extract</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#ret_natural"><span class="id" title="lemma">ret_natural</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1110"></a><h2 class="section">Factoring <code>mapdt</code> via <code>toBatch3</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapdt_through_toBatch3" class="idref" href="#mapdt_through_toBatch3"><span class="id" title="lemma">mapdt_through_toBatch3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:28" class="idref" href="#H0:28"><span class="id" title="binder">Applicative</span></a> <a id="H0:28" class="idref" href="#H0:28"><span class="id" title="binder">G</span></a>} `(<a id="f:31" class="idref" href="#f:31"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a id="A:29" class="idref" href="#A:29"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#G:24"><span class="id" title="variable">G</span></a> <a id="B:30" class="idref" href="#B:30"><span class="id" title="binder">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#mapdt"><span class="id" title="definition">mapdt</span></a> (<span class="id" title="var">E</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a>) (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:31"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:31"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#toBatch3_to_mapdt"><span class="id" title="lemma">toBatch3_to_mapdt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#kdtf_morph"><span class="id" title="method">kdtf_morph</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_batch"><span class="id" title="lemma">runBatch_batch</span></a> <span class="id" title="var">G</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1111"></a><h2 class="section">Naturality of <code>toBatch3</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="toBatch3_mapdt" class="idref" href="#toBatch3_mapdt"><span class="id" title="lemma">toBatch3_mapdt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:36" class="idref" href="#H0:36"><span class="id" title="binder">Applicative</span></a> <a id="H0:36" class="idref" href="#H0:36"><span class="id" title="binder">G</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="A:37" class="idref" href="#A:37"><span class="id" title="binder">A</span></a> <a id="A':38" class="idref" href="#A':38"><span class="id" title="binder">A'</span></a> <a id="B:39" class="idref" href="#B:39"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>} (<a id="f:40" class="idref" href="#f:40"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:37"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#G:32"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A':38"><span class="id" title="variable">A'</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#G:32"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A':38"><span class="id" title="variable">A'</span></a>) (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:39"><span class="id" title="variable">B</span></a>)) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#mapdt"><span class="id" title="definition">mapdt</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:40"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:39"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:39"><span class="id" title="variable">B</span></a><a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">)</span></a>) (<a class="idref" href="Tealeaves.Misc.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Comonad.html#cobind"><span class="id" title="definition">cobind</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:40"><span class="id" title="variable">f</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#toBatch3_to_mapdt"><span class="id" title="lemma">toBatch3_to_mapdt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#kdtf_mapdt2"><span class="id" title="method">kdtf_mapdt2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#traverse_via_runBatch"><span class="id" title="lemma">traverse_via_runBatch</span></a> <span class="id" title="var">G</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_through_toBatch3"><span class="id" title="lemma">mapdt_through_toBatch3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">A</span> := <span class="id" title="var">A</span>) (<span class="id" title="var">B</span> := <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">G</span> := <span class="id" title="var">G</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">A'</span>) <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="toBatch3_mapd" class="idref" href="#toBatch3_mapd"><span class="id" title="lemma">toBatch3_mapd</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="A:41" class="idref" href="#A:41"><span class="id" title="binder">A</span></a> <a id="A':42" class="idref" href="#A':42"><span class="id" title="binder">A'</span></a> <a id="B:43" class="idref" href="#B:43"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>} (<a id="f:44" class="idref" href="#f:44"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:41"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A':42"><span class="id" title="variable">A'</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:44"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Comonad.html#cobind"><span class="id" title="definition">cobind</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:44"><span class="id" title="variable">f</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:41"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:43"><span class="id" title="variable">B</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#toBatch3_to_mapdt"><span class="id" title="lemma">toBatch3_to_mapdt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#mapdt_mapd"><span class="id" title="lemma">mapdt_mapd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#toBatch3_to_mapdt"><span class="id" title="lemma">toBatch3_to_mapdt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#kdtf_morph"><span class="id" title="method">kdtf_morph</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">G1</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">A</span>) <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">G2</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">A'</span>) <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ϕ</span> := <span class="id" title="keyword">fun</span> <a id="C:47" class="idref" href="#C:47"><span class="id" title="binder">C</span></a> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Comonad.html#cobind"><span class="id" title="definition">cobind</span></a> <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="toBatch3_map" class="idref" href="#toBatch3_map"><span class="id" title="lemma">toBatch3_map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="A:48" class="idref" href="#A:48"><span class="id" title="binder">A</span></a> <a id="A':49" class="idref" href="#A':49"><span class="id" title="binder">A'</span></a> <a id="B:50" class="idref" href="#B:50"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>} (<a id="f:51" class="idref" href="#f:51"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:48"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A':49"><span class="id" title="variable">A'</span></a>) {<a id="C:52" class="idref" href="#C:52"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:51"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:51"><span class="id" title="variable">f</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:48"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:50"><span class="id" title="variable">B</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#toBatch3_to_mapdt"><span class="id" title="lemma">toBatch3_to_mapdt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#mapdt_map"><span class="id" title="lemma">mapdt_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#toBatch3_to_mapdt"><span class="id" title="lemma">toBatch3_to_mapdt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#kdtf_morph"><span class="id" title="method">kdtf_morph</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">morphism</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#ApplicativeMorphism_mapfst_Batch"><span class="id" title="instance">ApplicativeMorphism_mapfst_Batch</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">f</span>))<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ϕ</span> := <span class="id" title="keyword">fun</span> <a id="C:55" class="idref" href="#C:55"><span class="id" title="binder">C</span></a> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#ret_natural"><span class="id" title="lemma">ret_natural</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="toBatch_mapd" class="idref" href="#toBatch_mapd"><span class="id" title="lemma">toBatch_mapd</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="A:56" class="idref" href="#A:56"><span class="id" title="binder">A</span></a> <a id="A':57" class="idref" href="#A':57"><span class="id" title="binder">A'</span></a> <a id="B:58" class="idref" href="#B:58"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>} (<a id="f:59" class="idref" href="#f:59"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:56"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A':57"><span class="id" title="variable">A'</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Coalgebraic.TraversableFunctor.html#toBatch"><span class="id" title="definition">toBatch</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A':57"><span class="id" title="variable">A'</span></a>) (<span class="id" title="var">A'</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:58"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:59"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:59"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a>) (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:56"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:58"><span class="id" title="variable">B</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#toBatch_to_toBatch3"><span class="id" title="lemma">toBatch_to_toBatch3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#toBatch3_mapd"><span class="id" title="lemma">toBatch3_mapd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_mapfst_Batch"><span class="id" title="lemma">mapfst_mapfst_Batch</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.Comonad.html#kcom_cobind0"><span class="id" title="method">kcom_cobind0</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1112"></a><h1 class="section">Factoring Operations Through <code>toBatch3</code></h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="theory.runBatch" class="idref" href="#theory.runBatch"><span class="id" title="section">runBatch</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1113"></a><h2 class="section">Core Operations</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="mapdt_through_runBatch" class="idref" href="#mapdt_through_runBatch"><span class="id" title="lemma">mapdt_through_runBatch</span></a> `{<a id="H0:64" class="idref" href="#H0:64"><span class="id" title="binder">Applicative</span></a> <a id="H0:64" class="idref" href="#H0:64"><span class="id" title="binder">G</span></a>} `(<a id="f:67" class="idref" href="#f:67"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a id="A:65" class="idref" href="#A:65"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#G:60"><span class="id" title="variable">G</span></a> <a id="B:66" class="idref" href="#B:66"><span class="id" title="binder">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#mapdt"><span class="id" title="definition">mapdt</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:67"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:67"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#toBatch3_to_mapdt"><span class="id" title="lemma">toBatch3_to_mapdt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#kdtf_morph"><span class="id" title="method">kdtf_morph</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_batch"><span class="id" title="lemma">runBatch_batch</span></a> <span class="id" title="var">G</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="traverse_through_runBatch" class="idref" href="#traverse_through_runBatch"><span class="id" title="lemma">traverse_through_runBatch</span></a> `{<a id="H0:72" class="idref" href="#H0:72"><span class="id" title="binder">Applicative</span></a> <a id="H0:72" class="idref" href="#H0:72"><span class="id" title="binder">G</span></a>} `(<a id="f:75" class="idref" href="#f:75"><span class="id" title="binder">f</span></a>: <a id="A:73" class="idref" href="#A:73"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#G:68"><span class="id" title="variable">G</span></a> <a id="B:74" class="idref" href="#B:74"><span class="id" title="binder">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:75"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:75"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<span class="id" title="var">W</span> := <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Misc.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a>)) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#traverse_to_mapdt"><span class="id" title="definition">traverse_to_mapdt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_through_runBatch"><span class="id" title="lemma">mapdt_through_runBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="mapd_through_runBatch" class="idref" href="#mapd_through_runBatch"><span class="id" title="lemma">mapd_through_runBatch</span></a> `(<a id="f:78" class="idref" href="#f:78"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a id="A:76" class="idref" href="#A:76"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a id="B:77" class="idref" href="#B:77"><span class="id" title="binder">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:78"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (<span class="id" title="var">G</span> := <span class="id" title="keyword">fun</span> <a id="A:79" class="idref" href="#A:79"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:79"><span class="id" title="variable">A</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:78"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#mapd_to_mapdt"><span class="id" title="definition">mapd_to_mapdt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_through_runBatch"><span class="id" title="lemma">mapdt_through_runBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="map_through_runBatch" class="idref" href="#map_through_runBatch"><span class="id" title="lemma">map_through_runBatch</span></a> `(<a id="f:82" class="idref" href="#f:82"><span class="id" title="binder">f</span></a>: <a id="A:80" class="idref" href="#A:80"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a id="B:81" class="idref" href="#B:81"><span class="id" title="binder">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:82"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (<span class="id" title="var">G</span> := <span class="id" title="keyword">fun</span> <a id="A:83" class="idref" href="#A:83"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:83"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:82"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Comonad.html#extract"><span class="id" title="definition">extract</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#map_to_mapdt"><span class="id" title="definition">map_to_mapdt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_through_runBatch"><span class="id" title="lemma">mapdt_through_runBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1114"></a><h2 class="section"><code>foldMapd</code> Through <code>toBatch3</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldMapd_through_runBatch1" class="idref" href="#foldMapd_through_runBatch1"><span class="id" title="lemma">foldMapd_through_runBatch1</span></a> {<a id="A:84" class="idref" href="#A:84"><span class="id" title="binder">A</span></a>} `{<a id="H0:88" class="idref" href="#H0:88"><span class="id" title="binder">Monoid</span></a> <a id="H0:88" class="idref" href="#H0:88"><span class="id" title="binder">M</span></a>}: <span class="id" title="keyword">∀</span> `(<a id="f:89" class="idref" href="#f:89"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:84"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#M:85"><span class="id" title="variable">M</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#foldMapd"><span class="id" title="definition">foldMapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:89"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#M:85"><span class="id" title="variable">M</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:89"><span class="id" title="variable">f</span></a> (<span class="id" title="var">C</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#foldMapd_to_mapdt1"><span class="id" title="lemma">foldMapd_to_mapdt1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_through_runBatch"><span class="id" title="lemma">mapdt_through_runBatch</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <span class="id" title="var">M</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="foldMapd_through_runBatch2" class="idref" href="#foldMapd_through_runBatch2"><span class="id" title="lemma">foldMapd_through_runBatch2</span></a> `{<a id="H0:93" class="idref" href="#H0:93"><span class="id" title="binder">Monoid</span></a> <a id="H0:93" class="idref" href="#H0:93"><span class="id" title="binder">M</span></a>}: <span class="id" title="keyword">∀</span> (<a id="A:94" class="idref" href="#A:94"><span class="id" title="binder">A</span></a> <a id="fake:95" class="idref" href="#fake:95"><span class="id" title="binder">fake</span></a>: <span class="id" title="keyword">Type</span>) `(<a id="f:96" class="idref" href="#f:96"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:94"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#M:90"><span class="id" title="variable">M</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#foldMapd"><span class="id" title="definition">foldMapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:96"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#M:90"><span class="id" title="variable">M</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:96"><span class="id" title="variable">f</span></a> (<span class="id" title="var">C</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#fake:95"><span class="id" title="variable">fake</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#fake:95"><span class="id" title="variable">fake</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#foldMapd_to_mapdt1"><span class="id" title="lemma">foldMapd_to_mapdt1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#mapdt_constant_applicative2"><span class="id" title="lemma">mapdt_constant_applicative2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <span class="id" title="var">fake</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_through_runBatch"><span class="id" title="lemma">mapdt_through_runBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1115"></a><h2 class="section"><code>toctxlist</code> Through <code>toBatch3</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="toctxlist_through_runBatch3" class="idref" href="#toctxlist_through_runBatch3"><span class="id" title="lemma">toctxlist_through_runBatch3</span></a> {<a id="A:97" class="idref" href="#A:97"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span>} (<a id="tag:98" class="idref" href="#tag:98"><span class="id" title="binder">tag</span></a>: <span class="id" title="keyword">Type</span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#tag:98"><span class="id" title="variable">tag</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:97"><span class="id" title="variable">A</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#ret"><span class="id" title="definition">ret</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#toctxlist_to_mapdt2"><span class="id" title="lemma">toctxlist_to_mapdt2</span></a> <span class="id" title="var">A</span> <span class="id" title="var">tag</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_through_runBatch"><span class="id" title="lemma">mapdt_through_runBatch</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="toctxset_through_runBatch1" class="idref" href="#toctxset_through_runBatch1"><span class="id" title="lemma">toctxset_through_runBatch1</span></a> {<a id="A:99" class="idref" href="#A:99"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#toctxset"><span class="id" title="definition">toctxset</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Subset.html#Notations.::tealeaves_scope:'subset'"><span class="id" title="notation">subset</span></a> <a class="idref" href="Tealeaves.Functors.Early.Subset.html#Notations.::tealeaves_scope:'subset'"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Early.Subset.html#Notations.::tealeaves_scope:'subset'"><span class="id" title="notation">E</span></a> <a class="idref" href="Tealeaves.Functors.Early.Subset.html#Notations.::tealeaves_scope:'subset'"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Functors.Early.Subset.html#Notations.::tealeaves_scope:'subset'"><span class="id" title="notation">A</span></a><a class="idref" href="Tealeaves.Functors.Early.Subset.html#Notations.::tealeaves_scope:'subset'"><span class="id" title="notation">)</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#ret"><span class="id" title="definition">ret</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Functors.Early.Subset.html#Notations.::tealeaves_scope:'subset'"><span class="id" title="notation">subset</span></a>)) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#toctxset_to_mapdt1"><span class="id" title="lemma">toctxset_to_mapdt1</span></a> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_through_runBatch"><span class="id" title="lemma">mapdt_through_runBatch</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="toctxset_through_runBatch2" class="idref" href="#toctxset_through_runBatch2"><span class="id" title="lemma">toctxset_through_runBatch2</span></a> {<a id="A:100" class="idref" href="#A:100"><span class="id" title="binder">A</span></a> <a id="tag:101" class="idref" href="#tag:101"><span class="id" title="binder">tag</span></a>: <span class="id" title="keyword">Type</span>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#toctxset"><span class="id" title="definition">toctxset</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#tag:101"><span class="id" title="variable">tag</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Subset.html#Notations.::tealeaves_scope:'subset'"><span class="id" title="notation">subset</span></a> <a class="idref" href="Tealeaves.Functors.Early.Subset.html#Notations.::tealeaves_scope:'subset'"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Early.Subset.html#Notations.::tealeaves_scope:'subset'"><span class="id" title="notation">E</span></a> <a class="idref" href="Tealeaves.Functors.Early.Subset.html#Notations.::tealeaves_scope:'subset'"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Functors.Early.Subset.html#Notations.::tealeaves_scope:'subset'"><span class="id" title="notation">A</span></a><a class="idref" href="Tealeaves.Functors.Early.Subset.html#Notations.::tealeaves_scope:'subset'"><span class="id" title="notation">)</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#ret"><span class="id" title="definition">ret</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Functors.Early.Subset.html#Notations.::tealeaves_scope:'subset'"><span class="id" title="notation">subset</span></a>)) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#toctxset_to_mapdt2"><span class="id" title="lemma">toctxset_to_mapdt2</span></a> <span class="id" title="var">A</span> <span class="id" title="var">tag</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_through_runBatch"><span class="id" title="lemma">mapdt_through_runBatch</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="element_ctx_of_through_runBatch1" class="idref" href="#element_ctx_of_through_runBatch1"><span class="id" title="lemma">element_ctx_of_through_runBatch1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:102" class="idref" href="#H0:102"><span class="id" title="binder">ToSubset</span></a> <a id="H0:102" class="idref" href="#H0:102"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Compat_ToSubset_Traverse0:103" class="idref" href="#Compat_ToSubset_Traverse0:103"><span class="id" title="binder">!</span></a> <a id="Compat_ToSubset_Traverse0:103" class="idref" href="#Compat_ToSubset_Traverse0:103"><span class="id" title="binder">Compat_ToSubset_Traverse</span></a> <a id="Compat_ToSubset_Traverse0:103" class="idref" href="#Compat_ToSubset_Traverse0:103"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="A:104" class="idref" href="#A:104"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span>} {<a id="p:105" class="idref" href="#p:105"><span class="id" title="binder">p</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:104"><span class="id" title="variable">A</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#element_ctx_of"><span class="id" title="definition">element_ctx_of</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#p:105"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>) (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H0</span> := @<a class="idref" href="Tealeaves.Functors.Constant.html#Mult_const"><span class="id" title="instance">Mult_const</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Misc.Prop.html#Monoid_op_or"><span class="id" title="instance">Monoid_op_or</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H1</span> := @<a class="idref" href="Tealeaves.Functors.Constant.html#Pure_const"><span class="id" title="instance">Pure_const</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Misc.Prop.html#Monoid_unit_false"><span class="id" title="instance">Monoid_unit_false</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Subset.html#f47b92762d79346bcd8a6569478ba954"><span class="id" title="notation">{{</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#p:105"><span class="id" title="variable">p</span></a><a class="idref" href="Tealeaves.Functors.Early.Subset.html#f47b92762d79346bcd8a6569478ba954"><span class="id" title="notation">}}</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#element_ctx_of_to_foldMapd"><span class="id" title="lemma">element_ctx_of_to_foldMapd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#foldMapd_through_runBatch1"><span class="id" title="lemma">foldMapd_through_runBatch1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1116"></a><h1 class="section">Respectfulness Properties</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="theory.runBatch.decorated_traversable_functor_theory" class="idref" href="#theory.runBatch.decorated_traversable_functor_theory"><span class="id" title="section">decorated_traversable_functor_theory</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1117"></a><h2 class="section">Purity</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="mapdt_purity1" class="idref" href="#mapdt_purity1"><span class="id" title="lemma">mapdt_purity1</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> `{<a id="H0:110" class="idref" href="#H0:110"><span class="id" title="binder">Applicative</span></a> <a id="H0:110" class="idref" href="#H0:110"><span class="id" title="binder">G</span></a>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`(<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#mapdt"><span class="id" title="definition">mapdt</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#G:106"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Comonad.html#extract"><span class="id" title="definition">extract</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#G:106"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">A</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#kdtf_morph"><span class="id" title="method">kdtf_morph</span></a> (<span class="id" title="var">G1</span> := <span class="id" title="keyword">fun</span> <a id="A:114" class="idref" href="#A:114"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:112"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">G2</span> := <span class="id" title="var">G</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#kdtf_mapdt1"><span class="id" title="method">kdtf_mapdt1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1118"></a><h2 class="section">Characterizing <code>∈d</code> and <code>mapd</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapdt_respectful" class="idref" href="#mapdt_respectful"><span class="id" title="lemma">mapdt_respectful</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:115" class="idref" href="#A:115"><span class="id" title="binder">A</span></a> <a id="B:116" class="idref" href="#B:116"><span class="id" title="binder">B</span></a> `{<a id="H0:121" class="idref" href="#H0:121"><span class="id" title="binder">Applicative</span></a> <a id="H0:121" class="idref" href="#H0:121"><span class="id" title="binder">G</span></a>} (<a id="t:122" class="idref" href="#t:122"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:115"><span class="id" title="variable">A</span></a>) (<a id="f:123" class="idref" href="#f:123"><span class="id" title="binder">f</span></a> <a id="g:124" class="idref" href="#g:124"><span class="id" title="binder">g</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:115"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#G:117"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:116"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="e:125" class="idref" href="#e:125"><span class="id" title="binder">e</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a>) (<a id="a:126" class="idref" href="#a:126"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:115"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:125"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:126"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:122"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:123"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:125"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:126"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#g:124"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:125"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:126"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#mapdt"><span class="id" title="definition">mapdt</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:123"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:122"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#mapdt"><span class="id" title="definition">mapdt</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#g:124"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:122"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Happl</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_through_runBatch"><span class="id" title="lemma">mapdt_through_runBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#element_ctx_of"><span class="id" title="definition">element_ctx_of</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#toctxset_through_runBatch2"><span class="id" title="lemma">toctxset_through_runBatch2</span></a> (<span class="id" title="var">tag</span> := <span class="id" title="var">B</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> (<span class="id" title="var">B</span> := <span class="id" title="var">B</span>) <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span> <span class="id" title="var">a</span>]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">introv</span> <span class="id" title="var">hyp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="mapdt_respectful_pure" class="idref" href="#mapdt_respectful_pure"><span class="id" title="lemma">mapdt_respectful_pure</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:127" class="idref" href="#A:127"><span class="id" title="binder">A</span></a> `{<a id="H0:132" class="idref" href="#H0:132"><span class="id" title="binder">Applicative</span></a> <a id="H0:132" class="idref" href="#H0:132"><span class="id" title="binder">G</span></a>} (<a id="t:133" class="idref" href="#t:133"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:127"><span class="id" title="variable">A</span></a>) (<a id="f:134" class="idref" href="#f:134"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:127"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#G:128"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:127"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="e:135" class="idref" href="#e:135"><span class="id" title="binder">e</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a>) (<a id="a:136" class="idref" href="#a:136"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:127"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:135"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:136"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:133"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:134"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:135"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:136"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#G:128"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:136"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#mapdt"><span class="id" title="definition">mapdt</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:134"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:133"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:133"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_purity1"><span class="id" title="lemma">mapdt_purity1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_respectful"><span class="id" title="lemma">mapdt_respectful</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="mapdt_respectful_id" class="idref" href="#mapdt_respectful_id"><span class="id" title="lemma">mapdt_respectful_id</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:137" class="idref" href="#A:137"><span class="id" title="binder">A</span></a> (<a id="t:138" class="idref" href="#t:138"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:137"><span class="id" title="variable">A</span></a>) (<a id="f:139" class="idref" href="#f:139"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:137"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:137"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="e:140" class="idref" href="#e:140"><span class="id" title="binder">e</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a>) (<a id="a:141" class="idref" href="#a:141"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:137"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:140"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:141"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:138"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:139"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:140"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:141"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:141"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#mapdt"><span class="id" title="definition">mapdt</span></a> (<span class="id" title="var">G</span> := <span class="id" title="keyword">fun</span> <a id="A:142" class="idref" href="#A:142"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:142"><span class="id" title="variable">A</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:139"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:138"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:138"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="var">t</span>) <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#kdtf_mapdt1"><span class="id" title="method">kdtf_mapdt1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_respectful"><span class="id" title="lemma">mapdt_respectful</span></a> <span class="id" title="var">A</span> <span class="id" title="var">A</span> (<span class="id" title="var">G</span> := <span class="id" title="keyword">fun</span> <a id="A:144" class="idref" href="#A:144"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:143"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapd_respectful" class="idref" href="#mapd_respectful"><span class="id" title="lemma">mapd_respectful</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:145" class="idref" href="#A:145"><span class="id" title="binder">A</span></a> <a id="B:146" class="idref" href="#B:146"><span class="id" title="binder">B</span></a> (<a id="t:147" class="idref" href="#t:147"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:145"><span class="id" title="variable">A</span></a>) (<a id="f:148" class="idref" href="#f:148"><span class="id" title="binder">f</span></a> <a id="g:149" class="idref" href="#g:149"><span class="id" title="binder">g</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:145"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:146"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="e:150" class="idref" href="#e:150"><span class="id" title="binder">e</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a>) (<a id="a:151" class="idref" href="#a:151"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:145"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:150"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:151"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:147"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:148"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:150"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:151"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#g:149"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:150"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a:151"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:148"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:147"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#g:149"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:147"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapd_through_runBatch"><span class="id" title="lemma">mapd_through_runBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapd_through_runBatch"><span class="id" title="lemma">mapd_through_runBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#element_ctx_of"><span class="id" title="definition">element_ctx_of</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#toctxset_through_runBatch2"><span class="id" title="lemma">toctxset_through_runBatch2</span></a> (<span class="id" title="var">tag</span> := <span class="id" title="var">B</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> (<span class="id" title="var">B</span> := <span class="id" title="var">B</span>) <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span> <span class="id" title="var">a</span>]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">introv</span> <span class="id" title="var">hyp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#DerivedInstances"><span class="id" title="module">Kleisli.DecoratedTraversableFunctor.DerivedInstances</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="DecoratedContainerFunctor_DecoratedTraversableFunctor" class="idref" href="#DecoratedContainerFunctor_DecoratedTraversableFunctor"><span class="id" title="instance">DecoratedContainerFunctor_DecoratedTraversableFunctor</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#DecoratedContainerFunctor"><span class="id" title="class">DecoratedContainerFunctor</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#toctxset_mapd"><span class="id" title="lemma">toctxset_mapd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapd_respectful"><span class="id" title="lemma">mapd_respectful</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.runBatch.decorated_traversable_functor_theory"><span class="id" title="section">decorated_traversable_functor_theory</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1119"></a><h1 class="section">Shapeliness</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="theory.runBatch.shapeliness" class="idref" href="#theory.runBatch.shapeliness"><span class="id" title="section">shapeliness</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#DerivedInstances"><span class="id" title="module">Kleisli.DecoratedTraversableFunctor.DerivedInstances</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapd_shape" class="idref" href="#mapd_shape"><span class="id" title="lemma">mapd_shape</span></a> {<a id="A:152" class="idref" href="#A:152"><span class="id" title="binder">A</span></a> <a id="B:153" class="idref" href="#B:153"><span class="id" title="binder">B</span></a>}: <span class="id" title="keyword">∀</span> (<a id="f:154" class="idref" href="#f:154"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:152"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:153"><span class="id" title="variable">B</span></a>) <a id="t:155" class="idref" href="#t:155"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#shape"><span class="id" title="definition">shape</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:154"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:155"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#shape"><span class="id" title="definition">shape</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:155"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#shape"><span class="id" title="definition">shape</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#map_mapd"><span class="id" title="lemma">map_mapd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#map_to_mapd"><span class="id" title="lemma">map_to_mapd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapd_ctxlist_injective" class="idref" href="#mapd_ctxlist_injective"><span class="id" title="lemma">mapd_ctxlist_injective</span></a> {<a id="A:156" class="idref" href="#A:156"><span class="id" title="binder">A</span></a> <a id="B:157" class="idref" href="#B:157"><span class="id" title="binder">B</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="f:158" class="idref" href="#f:158"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:156"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:157"><span class="id" title="variable">B</span></a>) (<a id="t1:159" class="idref" href="#t1:159"><span class="id" title="binder">t1</span></a> <a id="t2:160" class="idref" href="#t2:160"><span class="id" title="binder">t2</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:156"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="p:161" class="idref" href="#p:161"><span class="id" title="binder">p</span></a> <a id="q:162" class="idref" href="#q:162"><span class="id" title="binder">q</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:156"><span class="id" title="variable">A</span></a>, <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:158"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#p:161"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:158"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#q:162"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#p:161"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#q:162"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:158"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:159"><span class="id" title="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:158"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:160"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#tolist"><span class="id" title="definition">tolist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:159"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#tolist"><span class="id" title="definition">tolist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:160"><span class="id" title="variable">t2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hinj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#tolist_to_toctxlist"><span class="id" title="lemma">tolist_to_toctxlist</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <span class="id" title="var">t2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <span class="id" title="var">t1</span>) <span class="id" title="keyword">as</span> [| [<span class="id" title="var">e</span> <span class="id" title="var">a</span>] <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">toctxlist_t2</span> <span class="id" title="var">premise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">toctxlist_t2</span>) <span class="id" title="keyword">as</span> [| [<span class="id" title="var">e'</span> <span class="id" title="var">a'</span>] <span class="id" title="var">rest'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">premise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">toctxlist_t2</span>) <span class="id" title="keyword">as</span> [| [<span class="id" title="var">e'</span> <span class="id" title="var">a'</span>] <span class="id" title="var">rest'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">premise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span>: <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">premise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hinj</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">Heq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hinj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">IHrest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">premise</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapd_ctxlist_injective_restricted1" class="idref" href="#mapd_ctxlist_injective_restricted1"><span class="id" title="lemma">mapd_ctxlist_injective_restricted1</span></a> {<a id="A:163" class="idref" href="#A:163"><span class="id" title="binder">A</span></a> <a id="B:164" class="idref" href="#B:164"><span class="id" title="binder">B</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="f:165" class="idref" href="#f:165"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:163"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:164"><span class="id" title="variable">B</span></a>) (<a id="t1:166" class="idref" href="#t1:166"><span class="id" title="binder">t1</span></a> <a id="t2:167" class="idref" href="#t2:167"><span class="id" title="binder">t2</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:163"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="p:168" class="idref" href="#p:168"><span class="id" title="binder">p</span></a> <a id="q:169" class="idref" href="#q:169"><span class="id" title="binder">q</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:163"><span class="id" title="variable">A</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#p:168"><span class="id" title="variable">p</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:166"><span class="id" title="variable">t1</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#q:169"><span class="id" title="variable">q</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:167"><span class="id" title="variable">t2</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:165"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#p:168"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:165"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#q:169"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#p:168"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#q:169"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:165"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:166"><span class="id" title="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:165"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:167"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#tolist"><span class="id" title="definition">tolist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:166"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#tolist"><span class="id" title="definition">tolist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:167"><span class="id" title="variable">t2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hinj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#tolist_to_toctxlist"><span class="id" title="lemma">tolist_to_toctxlist</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <span class="id" title="var">t2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <span class="id" title="var">t1</span>) <span class="id" title="keyword">as</span> [| [<span class="id" title="var">e</span> <span class="id" title="var">a</span>] <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">toctxlist_t2</span> <span class="id" title="var">Hinj</span> <span class="id" title="var">premise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">toctxlist_t2</span>) <span class="id" title="keyword">as</span> [| [<span class="id" title="var">e'</span> <span class="id" title="var">a'</span>] <span class="id" title="var">rest'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">premise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">toctxlist_t2</span>) <span class="id" title="keyword">as</span> [| [<span class="id" title="var">e'</span> <span class="id" title="var">a'</span>] <span class="id" title="var">rest'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">premise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span>: <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">premise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="var">X</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hinj</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">IHrest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">Hinp</span> <span class="id" title="var">Hinq</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hinj</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">premise</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapd_ctxlist_injective_restricted2" class="idref" href="#mapd_ctxlist_injective_restricted2"><span class="id" title="lemma">mapd_ctxlist_injective_restricted2</span></a> {<a id="A:170" class="idref" href="#A:170"><span class="id" title="binder">A</span></a> <a id="B:171" class="idref" href="#B:171"><span class="id" title="binder">B</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="f:172" class="idref" href="#f:172"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:170"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:171"><span class="id" title="variable">B</span></a>) (<a id="t1:173" class="idref" href="#t1:173"><span class="id" title="binder">t1</span></a> <a id="t2:174" class="idref" href="#t2:174"><span class="id" title="binder">t2</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:170"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<a id="e:175" class="idref" href="#e:175"><span class="id" title="binder">e</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a>) (<a id="a1:176" class="idref" href="#a1:176"><span class="id" title="binder">a1</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:170"><span class="id" title="variable">A</span></a>) (<a id="a2:177" class="idref" href="#a2:177"><span class="id" title="binder">a2</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:170"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:175"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a1:176"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:173"><span class="id" title="variable">t1</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:175"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a2:177"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:174"><span class="id" title="variable">t2</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:172"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:175"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a1:176"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:172"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:175"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a2:177"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a1:176"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a2:177"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:172"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:173"><span class="id" title="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:172"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:174"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#tolist"><span class="id" title="definition">tolist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:173"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#tolist"><span class="id" title="definition">tolist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:174"><span class="id" title="variable">t2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hinj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#tolist_to_toctxlist"><span class="id" title="lemma">tolist_to_toctxlist</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <span class="id" title="var">t2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <span class="id" title="var">t1</span>) <span class="id" title="keyword">as</span> [| [<span class="id" title="var">e</span> <span class="id" title="var">a</span>] <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">toctxlist_t2</span> <span class="id" title="var">Hinj</span> <span class="id" title="var">premise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">toctxlist_t2</span>) <span class="id" title="keyword">as</span> [| [<span class="id" title="var">e'</span> <span class="id" title="var">a'</span>] <span class="id" title="var">rest'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">premise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">toctxlist_t2</span>) <span class="id" title="keyword">as</span> [| [<span class="id" title="var">e'</span> <span class="id" title="var">a'</span>] <span class="id" title="var">rest'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">premise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">e'</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">premise</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span>: <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">premise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hinj</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">IHrest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">e''</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">Hinp</span> <span class="id" title="var">Hinq</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hinj</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">premise</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="mapd_injective1" class="idref" href="#mapd_injective1"><span class="id" title="lemma">mapd_injective1</span></a> {<a id="A:178" class="idref" href="#A:178"><span class="id" title="binder">A</span></a> <a id="B:179" class="idref" href="#B:179"><span class="id" title="binder">B</span></a>}: <span class="id" title="keyword">∀</span> (<a id="f:180" class="idref" href="#f:180"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:178"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:179"><span class="id" title="variable">B</span></a>) (<a id="t1:181" class="idref" href="#t1:181"><span class="id" title="binder">t1</span></a> <a id="t2:182" class="idref" href="#t2:182"><span class="id" title="binder">t2</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:178"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="p:183" class="idref" href="#p:183"><span class="id" title="binder">p</span></a> <a id="q:184" class="idref" href="#q:184"><span class="id" title="binder">q</span></a>, <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:180"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#p:183"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:180"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#q:184"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#p:183"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#q:184"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:180"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:181"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:180"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:182"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:181"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:182"><span class="id" title="variable">t2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hinj</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="tactic">cut</span>: <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <span class="id" title="var">f</span><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <span class="id" title="var">f</span><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">t2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">fequal</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#mapd_toctxlist"><span class="id" title="lemma">mapd_toctxlist</span></a> <span class="id" title="tactic">in</span> <span class="id" title="tactic">cut</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">in</span> <span class="id" title="tactic">cut</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#Traversable_shapeliness"><span class="id" title="lemma">Traversable_shapeliness</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Same&nbsp;shape&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="var">cut2</span>: <a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#shape"><span class="id" title="definition">shape</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <span class="id" title="var">f</span> <span class="id" title="var">t1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#shape"><span class="id" title="definition">shape</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <span class="id" title="var">f</span> <span class="id" title="var">t2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapd_shape"><span class="id" title="lemma">mapd_shape</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cut2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Same&nbsp;contents&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapd_ctxlist_injective"><span class="id" title="lemma">mapd_ctxlist_injective</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="mapd_injective2" class="idref" href="#mapd_injective2"><span class="id" title="lemma">mapd_injective2</span></a> {<a id="A:185" class="idref" href="#A:185"><span class="id" title="binder">A</span></a> <a id="B:186" class="idref" href="#B:186"><span class="id" title="binder">B</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="f:187" class="idref" href="#f:187"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:185"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:186"><span class="id" title="variable">B</span></a>) (<a id="t1:188" class="idref" href="#t1:188"><span class="id" title="binder">t1</span></a> <a id="t2:189" class="idref" href="#t2:189"><span class="id" title="binder">t2</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:185"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="e:190" class="idref" href="#e:190"><span class="id" title="binder">e</span></a> <a id="a1:191" class="idref" href="#a1:191"><span class="id" title="binder">a1</span></a> <a id="a2:192" class="idref" href="#a2:192"><span class="id" title="binder">a2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:190"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a1:191"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:188"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:190"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a2:192"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:189"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:187"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:190"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a1:191"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:187"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#e:190"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a2:192"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a1:191"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#a2:192"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:187"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:188"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:187"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:189"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:188"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:189"><span class="id" title="variable">t2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hinj</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#ind_iff_in_toctxlist1"><span class="id" title="lemma">ind_iff_in_toctxlist1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq2</span>: <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <span class="id" title="var">f</span><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <span class="id" title="var">f</span><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">t2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">fequal</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#mapd_toctxlist"><span class="id" title="lemma">mapd_toctxlist</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#Traversable_shapeliness"><span class="id" title="lemma">Traversable_shapeliness</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Same&nbsp;shape&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="var">cut2</span>: <a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#shape"><span class="id" title="definition">shape</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <span class="id" title="var">f</span> <span class="id" title="var">t1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#shape"><span class="id" title="definition">shape</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> <span class="id" title="var">f</span> <span class="id" title="var">t2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapd_shape"><span class="id" title="lemma">mapd_shape</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">cut2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapd_ctxlist_injective_restricted2"><span class="id" title="lemma">mapd_ctxlist_injective_restricted2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hinj</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#toctxlist_to_mapdt"><span class="id" title="lemma">toctxlist_to_mapdt</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#toctxlist_to_mapdt"><span class="id" title="lemma">toctxlist_to_mapdt</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.runBatch.shapeliness"><span class="id" title="section">shapeliness</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1120"></a><h1 class="section">Deconstructing with refinement-type vectors</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="theory.runBatch.deconstruction" class="idref" href="#theory.runBatch.deconstruction"><span class="id" title="section">deconstruction</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#DerivedInstances"><span class="id" title="module">Kleisli.DecoratedTraversableFunctor.DerivedInstances</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Generalizable</span> <span class="id" title="keyword">Variables</span> <span class="id" title="var">v</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1121"></a><h2 class="section">Relating <code>plength</code> and <code>toBatch3</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="plength_toBatch3" class="idref" href="#plength_toBatch3"><span class="id" title="lemma">plength_toBatch3</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:193" class="idref" href="#A:193"><span class="id" title="binder">A</span></a>} {<a id="B:194" class="idref" href="#B:194"><span class="id" title="binder">B</span></a>} (<a id="t:195" class="idref" href="#t:195"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:193"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#plength"><span class="id" title="definition">plength</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:195"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#length_Batch"><span class="id" title="definition">length_Batch</span></a> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:193"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:194"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:195"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#plength"><span class="id" title="definition">plength</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#foldMap_through_runBatch2"><span class="id" title="lemma">foldMap_through_runBatch2</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#toBatch_to_toBatch3"><span class="id" title="lemma">toBatch_to_toBatch3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Misc.NaturalNumbers.html#Monoid_op_plus"><span class="id" title="instance">NaturalNumbers.Monoid_op_plus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="length_toBatch3_toBatch" class="idref" href="#length_toBatch3_toBatch"><span class="id" title="lemma">length_toBatch3_toBatch</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:196" class="idref" href="#A:196"><span class="id" title="binder">A</span></a> <a id="B:197" class="idref" href="#B:197"><span class="id" title="binder">B</span></a>} (<a id="t:198" class="idref" href="#t:198"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:196"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#length_Batch"><span class="id" title="definition">length_Batch</span></a> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:196"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:197"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:198"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#length_Batch"><span class="id" title="definition">length_Batch</span></a> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.TraversableFunctor.html#toBatch"><span class="id" title="definition">toBatch</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:196"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">A'</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:197"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:198"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#toBatch_to_toBatch3"><span class="id" title="lemma">toBatch_to_toBatch3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="tactic">induction</span> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1122"></a><h2 class="section"><code>mapdt_contents</code> and <code>mapdt_make</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="mapdt_contents" class="idref" href="#mapdt_contents"><span class="id" title="definition">mapdt_contents</span></a> {<a id="A:199" class="idref" href="#A:199"><span class="id" title="binder">A</span></a>} (<a id="t:200" class="idref" href="#t:200"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:199"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector"><span class="id" title="definition">Vector</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#plength"><span class="id" title="definition">plength</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:200"><span class="id" title="variable">t</span></a>) (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:199"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="v:201" class="idref" href="#v:201"><span class="id" title="binder">v</span></a>: <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector"><span class="id" title="definition">Vector</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Functors.Batch.html#length_Batch"><span class="id" title="definition">length_Batch</span></a> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>) (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:199"><span class="id" title="variable">A</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:200"><span class="id" title="variable">t</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:199"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_contents"><span class="id" title="definition">Batch_contents</span></a> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:200"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#coerce_Vector_length"><span class="id" title="definition">coerce_Vector_length</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#plength_toBatch3"><span class="id" title="lemma">plength_toBatch3</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:200"><span class="id" title="variable">t</span></a>)) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#v:201"><span class="id" title="variable">v</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="mapdt_make" class="idref" href="#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> {<a id="A:202" class="idref" href="#A:202"><span class="id" title="binder">A</span></a> <a id="B:203" class="idref" href="#B:203"><span class="id" title="binder">B</span></a>} (<a id="t:204" class="idref" href="#t:204"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:202"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector"><span class="id" title="definition">Vector</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#plength"><span class="id" title="definition">plength</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:204"><span class="id" title="variable">t</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:203"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:203"><span class="id" title="variable">B</span></a> := <a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#trav_make"><span class="id" title="definition">trav_make</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:204"><span class="id" title="variable">t</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1123"></a><h2 class="section">Relation <code>toctxlist</code> and <code>mapdt_contents</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch3_contents_toctxlist" class="idref" href="#Batch3_contents_toctxlist"><span class="id" title="lemma">Batch3_contents_toctxlist</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:205" class="idref" href="#A:205"><span class="id" title="binder">A</span></a> <a id="B:206" class="idref" href="#B:206"><span class="id" title="binder">B</span></a>} (<a id="t:207" class="idref" href="#t:207"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:205"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector_to_list"><span class="id" title="definition">Vector_to_list</span></a> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:205"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_contents"><span class="id" title="definition">Batch_contents</span></a> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:206"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:207"><span class="id" title="variable">t</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:207"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#toctxlist_to_foldMapd"><span class="id" title="lemma">toctxlist_to_foldMapd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#foldMapd_through_runBatch2"><span class="id" title="lemma">foldMapd_through_runBatch2</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector_to_list_vcons"><span class="id" title="lemma">Vector_to_list_vcons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Early.List.html#Monoid_op_list"><span class="id" title="instance">Monoid_op_list</span></a> @<a class="idref" href="Tealeaves.Functors.Early.List.html#Return_list"><span class="id" title="instance">Return_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev_unit"><span class="id" title="lemma">List.rev_unit</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="mapdt_contents_toctxlist" class="idref" href="#mapdt_contents_toctxlist"><span class="id" title="lemma">mapdt_contents_toctxlist</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:208" class="idref" href="#A:208"><span class="id" title="binder">A</span></a>} (<a id="t:209" class="idref" href="#t:209"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:208"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector_to_list"><span class="id" title="definition">Vector_to_list</span></a> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:208"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_contents"><span class="id" title="definition">mapdt_contents</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:209"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedShapelyFunctor.html#toctxlist"><span class="id" title="definition">toctxlist</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:209"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_contents"><span class="id" title="definition">mapdt_contents</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector_to_list"><span class="id" title="definition">Vector_to_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#coerce_Vector_contents"><span class="id" title="lemma">coerce_Vector_contents</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#Batch3_contents_toctxlist"><span class="id" title="lemma">Batch3_contents_toctxlist</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1124"></a><h2 class="section"><code>_sim</code> Properties</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_contents_toBatch3_sim" class="idref" href="#Batch_contents_toBatch3_sim"><span class="id" title="lemma">Batch_contents_toBatch3_sim</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:210" class="idref" href="#A:210"><span class="id" title="binder">A</span></a> <a id="B:211" class="idref" href="#B:211"><span class="id" title="binder">B</span></a> <a id="B':212" class="idref" href="#B':212"><span class="id" title="binder">B'</span></a>} (<a id="t:213" class="idref" href="#t:213"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:210"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_contents"><span class="id" title="definition">Batch_contents</span></a> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:211"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:213"><span class="id" title="variable">t</span></a>) <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#a8714907635432d3223f585df0b02c5b"><span class="id" title="notation">~~</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_contents"><span class="id" title="definition">Batch_contents</span></a> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B':212"><span class="id" title="variable">B'</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:213"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector_sim"><span class="id" title="definition">Vector_sim</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> ?<span class="id" title="var">v</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector_to_list"><span class="id" title="definition">Vector_to_list</span></a> <span class="id" title="var">_</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#Batch3_contents_toctxlist"><span class="id" title="lemma">Batch3_contents_toctxlist</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#Batch3_contents_toctxlist"><span class="id" title="lemma">Batch3_contents_toctxlist</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_make_toBatch3" class="idref" href="#Batch_make_toBatch3"><span class="id" title="lemma">Batch_make_toBatch3</span></a> {<a id="A:214" class="idref" href="#A:214"><span class="id" title="binder">A</span></a> <a id="B:215" class="idref" href="#B:215"><span class="id" title="binder">B</span></a>} (<a id="t:216" class="idref" href="#t:216"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:214"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_make"><span class="id" title="definition">Batch_make</span></a> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:216"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="v:217" class="idref" href="#v:217"><span class="id" title="binder">v</span></a> ⇒ <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_make"><span class="id" title="definition">Batch_make</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:215"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Classes.Coalgebraic.TraversableFunctor.html#toBatch"><span class="id" title="definition">toBatch</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:216"><span class="id" title="variable">t</span></a>) (<a class="idref" href="Tealeaves.Functors.VectorRefinement.html#:::'coerce'_x_'in'_x"><span class="id" title="notation">coerce</span></a> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#:::'coerce'_x_'in'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#length_toBatch3_toBatch"><span class="id" title="lemma">length_toBatch3_toBatch</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:216"><span class="id" title="variable">t</span></a><a class="idref" href="Tealeaves.Functors.VectorRefinement.html#:::'coerce'_x_'in'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#:::'coerce'_x_'in'_x"><span class="id" title="notation">in</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#v:217"><span class="id" title="variable">v</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#length_toBatch3_toBatch"><span class="id" title="lemma">length_toBatch3_toBatch</span></a> (<span class="id" title="var">B</span> := <span class="id" title="var">B</span>) <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_make_sim3"><span class="id" title="lemma">Batch_make_sim3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="var">vector_sim</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#toBatch_to_toBatch3"><span class="id" title="lemma">toBatch_to_toBatch3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">e</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="Tealeaves.Classes.Coalgebraic.DecoratedTraversableFunctor.html#toBatch3"><span class="id" title="definition">toBatch3</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#shape"><span class="id" title="definition">shape</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1125"></a><h2 class="section">Lemmas regarding <code>trav_make</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;Section&nbsp;trav_make_lemmas.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Context<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{A&nbsp;B:&nbsp;Type}.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Lemma&nbsp;trav_make_sim1:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forall&nbsp;(t:&nbsp;T&nbsp;A)&nbsp;`{v1&nbsp;~~&nbsp;v2},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trav_make&nbsp;(B&nbsp;:=&nbsp;B)&nbsp;t&nbsp;v1&nbsp;=&nbsp;trav_make&nbsp;t&nbsp;v2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Proof.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;trav_make.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;Batch_make_sim1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vector_sim.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Lemma&nbsp;trav_make_sim2:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forall&nbsp;`(t1:&nbsp;T&nbsp;A)&nbsp;(t2:&nbsp;T&nbsp;A)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`(v1:&nbsp;Vector&nbsp;(plength&nbsp;t1)&nbsp;B)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`(v2:&nbsp;Vector&nbsp;(plength&nbsp;t2)&nbsp;B),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t1&nbsp;=&nbsp;t2&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vector_sim&nbsp;v1&nbsp;v2&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trav_make&nbsp;t1&nbsp;v1&nbsp;=&nbsp;trav_make&nbsp;t2&nbsp;v2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Proof.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subst.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;now&nbsp;apply&nbsp;trav_make_sim1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.<br/>
<br/>
&nbsp;&nbsp;End&nbsp;trav_make_lemmas.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab1126"></a><h1 class="section">Miscellaneous</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="toBatch_mapdt_make" class="idref" href="#toBatch_mapdt_make"><span class="id" title="lemma">toBatch_mapdt_make</span></a> {<a id="A:218" class="idref" href="#A:218"><span class="id" title="binder">A</span></a> <a id="A':219" class="idref" href="#A':219"><span class="id" title="binder">A'</span></a> <a id="B:220" class="idref" href="#B:220"><span class="id" title="binder">B</span></a>} {<a id="t:221" class="idref" href="#t:221"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:218"><span class="id" title="variable">A</span></a>} {<a id="v:222" class="idref" href="#v:222"><span class="id" title="binder">v</span></a>: <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector"><span class="id" title="definition">Vector</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#plength"><span class="id" title="definition">plength</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:221"><span class="id" title="variable">t</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:220"><span class="id" title="variable">B</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Coalgebraic.TraversableFunctor.html#toBatch"><span class="id" title="definition">toBatch</span></a> (<span class="id" title="var">A'</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A':219"><span class="id" title="variable">A'</span></a>) (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:221"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#v:222"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_replace_contents"><span class="id" title="definition">Batch_replace_contents</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Classes.Coalgebraic.TraversableFunctor.html#toBatch"><span class="id" title="definition">toBatch</span></a> (<span class="id" title="var">A'</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A':219"><span class="id" title="variable">A'</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:221"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Functors.VectorRefinement.html#:::'coerce'_x_'in'_x"><span class="id" title="notation">coerce</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> (<a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#plength_eq_length"><span class="id" title="lemma">plength_eq_length</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:221"><span class="id" title="variable">t</span></a>) <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#:::'coerce'_x_'in'_x"><span class="id" title="notation">in</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#v:222"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#toBatch_trav_make_to_replace_contents"><span class="id" title="lemma">toBatch_trav_make_to_replace_contents</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapdt_same_shape" class="idref" href="#mapdt_same_shape"><span class="id" title="lemma">mapdt_same_shape</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`(<a id="t1:224" class="idref" href="#t1:224"><span class="id" title="binder">t1</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a id="A:223" class="idref" href="#A:223"><span class="id" title="binder">A</span></a>) `(<a id="t2:226" class="idref" href="#t2:226"><span class="id" title="binder">t2</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a id="A':225" class="idref" href="#A':225"><span class="id" title="binder">A'</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#shape"><span class="id" title="definition">shape</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:224"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ShapelyFunctor.html#shape"><span class="id" title="definition">shape</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:226"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="B:227" class="idref" href="#B:227"><span class="id" title="binder">B</span></a>, <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:227"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t1:224"><span class="id" title="variable">t1</span></a> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#27576a5753c5585bee527e508a617c4d"><span class="id" title="notation">~!~</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t2:226"><span class="id" title="variable">t2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#trav_same_shape"><span class="id" title="lemma">trav_same_shape</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="plength_mapdt_make" class="idref" href="#plength_mapdt_make"><span class="id" title="lemma">plength_mapdt_make</span></a>: <span class="id" title="keyword">∀</span> `(<a id="t:229" class="idref" href="#t:229"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a id="A:228" class="idref" href="#A:228"><span class="id" title="binder">A</span></a>) `(<a id="v:231" class="idref" href="#v:231"><span class="id" title="binder">v</span></a>: <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector"><span class="id" title="definition">Vector</span></a> <span class="id" title="var">_</span> <a id="B:230" class="idref" href="#B:230"><span class="id" title="binder">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#plength"><span class="id" title="definition">plength</span></a> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:229"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#v:231"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#plength"><span class="id" title="definition">plength</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:229"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#plength_trav_make"><span class="id" title="lemma">plength_trav_make</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1127"></a><h1 class="section">Lens Laws</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="theory.runBatch.deconstruction.lens_laws" class="idref" href="#theory.runBatch.deconstruction.lens_laws"><span class="id" title="section">lens_laws</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.DecoratedTraversableFunctor.html#DerivedInstances"><span class="id" title="module">KleisliToCoalgebraic.DecoratedTraversableFunctor.DerivedInstances</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Adapters.KleisliToCoalgebraic.TraversableFunctor.html#DerivedInstances"><span class="id" title="module">KleisliToCoalgebraic.TraversableFunctor.DerivedInstances</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1128"></a><h2 class="section">get-put</h2>

</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapdt_get_put" class="idref" href="#mapdt_get_put"><span class="id" title="lemma">mapdt_get_put</span></a> `{<a id="t:233" class="idref" href="#t:233"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a id="A:232" class="idref" href="#A:232"><span class="id" title="binder">A</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:233"><span class="id" title="variable">t</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_contents"><span class="id" title="definition">mapdt_contents</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:233"><span class="id" title="variable">t</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:233"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a>, <a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#trav_make"><span class="id" title="definition">trav_make</span></a>, <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_contents"><span class="id" title="definition">mapdt_contents</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">hide_lhs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="var">t</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqlhs</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqlhs</span> <span class="id" title="var">lhs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Classes.Coalgebraic.TraversableFunctor.html#trf_extract"><span class="id" title="method">trf_extract</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_make_contents"><span class="id" title="lemma">Batch_make_contents</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_make_sim1"><span class="id" title="lemma">Batch_make_sim1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">vector_sim</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector_sim"><span class="id" title="definition">Vector_sim</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_contents_natural"><span class="id" title="lemma">Batch_contents_natural</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#toBatch_to_toBatch3"><span class="id" title="lemma">toBatch_to_toBatch3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#Batch_contents_toBatch_sim"><span class="id" title="lemma">Batch_contents_toBatch_sim</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1129"></a><h2 class="section">put-get</h2>

</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Ill-typed,&nbsp;needs&nbsp;clarification&nbsp;of&nbsp;statement&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Lemma&nbsp;mapdt_contents_make&nbsp;{A}&nbsp;{t:&nbsp;T&nbsp;A}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{v:&nbsp;Vector&nbsp;(plength&nbsp;t)&nbsp;A}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapdt_contents&nbsp;(trav_make&nbsp;t&nbsp;v)&nbsp;~~&nbsp;v.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Proof.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;trav_contents.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vector_sim.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;toBatch_trav_make.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;Batch_put_get.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vector_sim.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab1130"></a><h2 class="section">put-put</h2>

</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapdt_make_make" class="idref" href="#mapdt_make_make"><span class="id" title="lemma">mapdt_make_make</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`(<a id="t:235" class="idref" href="#t:235"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a id="A:234" class="idref" href="#A:234"><span class="id" title="binder">A</span></a>) `(<a id="v:237" class="idref" href="#v:237"><span class="id" title="binder">v</span></a>: <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector"><span class="id" title="definition">Vector</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#plength"><span class="id" title="definition">plength</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:235"><span class="id" title="variable">t</span></a>) <a id="B:236" class="idref" href="#B:236"><span class="id" title="binder">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`(<a id="v1:239" class="idref" href="#v1:239"><span class="id" title="binder">v1</span></a>: <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector"><span class="id" title="definition">Vector</span></a> <span class="id" title="var">_</span> <a id="B':238" class="idref" href="#B':238"><span class="id" title="binder">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="v2:240" class="idref" href="#v2:240"><span class="id" title="binder">v2</span></a>: <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector"><span class="id" title="definition">Vector</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B':238"><span class="id" title="variable">B'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="pf:241" class="idref" href="#pf:241"><span class="id" title="binder">pf</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#v1:239"><span class="id" title="variable">v1</span></a> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#a8714907635432d3223f585df0b02c5b"><span class="id" title="notation">~~</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#v2:240"><span class="id" title="variable">v2</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:235"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#v:237"><span class="id" title="variable">v</span></a>) <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#v1:239"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:235"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#v2:240"><span class="id" title="variable">v2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> <span class="id" title="tactic">at</span> 1 2 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#trav_make_make"><span class="id" title="lemma">trav_make_make</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.runBatch.deconstruction.lens_laws"><span class="id" title="section">lens_laws</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1131"></a><h1 class="section">Representation theorems</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapdt_repr" class="idref" href="#mapdt_repr"><span class="id" title="lemma">mapdt_repr</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> `{<a id="H0:246" class="idref" href="#H0:246"><span class="id" title="binder">Applicative</span></a> <a id="H0:246" class="idref" href="#H0:246"><span class="id" title="binder">G</span></a>} (<a id="A:247" class="idref" href="#A:247"><span class="id" title="binder">A</span></a> <a id="B:248" class="idref" href="#B:248"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>) (<a id="t:249" class="idref" href="#t:249"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:247"><span class="id" title="variable">A</span></a>) (<a id="f:250" class="idref" href="#f:250"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#A:247"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#G:242"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#B:248"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#mapdt"><span class="id" title="definition">mapdt</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:250"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:249"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:249"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Functors.Backwards.html#forwards"><span class="id" title="projection">forwards</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<a class="idref" href="Tealeaves.Functors.Backwards.html#mkBackwards"><span class="id" title="constructor">mkBackwards</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#f:250"><span class="id" title="variable">f</span></a>) (<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_contents"><span class="id" title="definition">mapdt_contents</span></a> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#t:249"><span class="id" title="variable">t</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_make"><span class="id" title="definition">mapdt_make</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_contents"><span class="id" title="definition">mapdt_contents</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Theory.TraversableFunctor.html#trav_make"><span class="id" title="definition">trav_make</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span>  (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (?<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> ?<span class="id" title="var">g</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <span class="id" title="var">g</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <span class="id" title="var">G</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> ?<span class="id" title="var">f</span> (<a class="idref" href="Tealeaves.Functors.Backwards.html#forwards"><span class="id" title="projection">forwards</span></a> ?<span class="id" title="var">x</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Functors.Backwards.html#forwards"><span class="id" title="projection">forwards</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">f</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#traverse_Vector_coerce_natural"><span class="id" title="lemma">traverse_Vector_coerce_natural</span></a>;[|<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#mapdt_through_runBatch"><span class="id" title="lemma">mapdt_through_runBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_repr2"><span class="id" title="lemma">runBatch_repr2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> ?<span class="id" title="var">f</span> (<a class="idref" href="Tealeaves.Functors.Backwards.html#forwards"><span class="id" title="projection">forwards</span></a> ?<span class="id" title="var">x</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Functors.Backwards.html#forwards"><span class="id" title="projection">forwards</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">f</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#Batch_make_toBatch3"><span class="id" title="lemma">Batch_make_toBatch3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span>  (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (?<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> ?<span class="id" title="var">g</span>) ?<span class="id" title="var">t</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <span class="id" title="var">g</span>) <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Backwards.html#Backwards"><span class="id" title="record">Backwards</span></a> <span class="id" title="var">G</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#traverse_Vector_coerce_natural"><span class="id" title="lemma">traverse_Vector_coerce_natural</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.VectorRefinement.html#Vector_sim_eq"><span class="id" title="lemma">Vector_sim_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">vector_sim</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#Batch_contents_toBatch3_sim"><span class="id" title="lemma">Batch_contents_toBatch3_sim</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.runBatch.deconstruction"><span class="id" title="section">deconstruction</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory.runBatch"><span class="id" title="section">runBatch</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctor.html#theory"><span class="id" title="section">theory</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>

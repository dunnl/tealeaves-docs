<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span> <img class="logo" src="./logo_96.png"> </span>
      <span class="projectname"> Tealeaves </span>
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
      <a href="../html-alectryon/toc.html"> Switch to Alectryon Docs </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Tealeaves.Functors.Early.Batch</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves.Classes</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#"><span class="id" title="library">Categorical.Applicative</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#"><span class="id" title="library">Categorical.Monad</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#"><span class="id" title="library">Kleisli.TraversableFunctor</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#Notations"><span class="id" title="module">Applicative.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#Notations"><span class="id" title="module">TraversableFunctor.Notations</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Generalizable</span> <span class="id" title="keyword">Variables</span> ψ <span class="id" title="var">ϕ</span> <span class="id" title="var">W</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">M</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">O</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">F</span>%<span class="id" title="var">function_scope</span> {<span class="id" title="var">Map</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span>}%<span class="id" title="var">type_scope</span> <span class="id" title="var">f</span>%<span class="id" title="var">function_scope</span> <span class="id" title="var">_</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <span class="id" title="var">F</span>%<span class="id" title="var">function_scope</span> {<span class="id" title="var">Pure</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">A</span>}%<span class="id" title="var">type_scope</span> <span class="id" title="var">_</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#mult"><span class="id" title="definition">mult</span></a> <span class="id" title="var">F</span>%<span class="id" title="var">function_scope</span> {<span class="id" title="var">Mult</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span>}%<span class="id" title="var">type_scope</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab303"></a><h1 class="section">The <span class="inlinecode"><a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a></span> Functor</h1>

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="Batch" class="idref" href="#Batch"><span class="id" title="inductive">Batch</span></a> (<a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a> <a id="B:2" class="idref" href="#B:2"><span class="id" title="binder">B</span></a> <a id="C:3" class="idref" href="#C:3"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>): <span class="id" title="keyword">Type</span> :=<br/>
| <a id="Done" class="idref" href="#Done"><span class="id" title="constructor">Done</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:3"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch:4"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:1"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:2"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:3"><span class="id" title="variable">C</span></a><br/>
| <a id="Step" class="idref" href="#Step"><span class="id" title="constructor">Step</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch:4"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:1"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:2"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:2"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:3"><span class="id" title="variable">C</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:1"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch:4"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:1"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:2"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:3"><span class="id" title="variable">C</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>}%<span class="id" title="var">type_scope</span> <span class="id" title="var">_</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>}%<span class="id" title="var">type_scope</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a>: <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a>: <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Infix</span> "⧆" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 51, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>): <span class="id" title="var">tealeaves_scope</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> "'BATCH1' B C" :=<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="A:6" class="idref" href="#A:6"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:6"><span class="id" title="variable">A</span></a> <span class="id" title="var">B</span> <span class="id" title="var">C</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">B</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">C</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0).<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> "'BATCH2' A C" :=<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="B:7" class="idref" href="#B:7"><span class="id" title="binder">B</span></a> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:7"><span class="id" title="variable">B</span></a> <span class="id" title="var">C</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 3).<br/>

<br/>
</div>

<div class="doc">
<a id="lab304"></a><h2 class="section">Map Operations</h2>

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="map_Batch" class="idref" href="#map_Batch"><span class="id" title="definition">map_Batch</span></a><br/>
&nbsp;&nbsp;{<a id="A:8" class="idref" href="#A:8"><span class="id" title="binder">A</span></a> <a id="B:9" class="idref" href="#B:9"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>} (<a id="C1:10" class="idref" href="#C1:10"><span class="id" title="binder">C1</span></a> <a id="C2:11" class="idref" href="#C2:11"><span class="id" title="binder">C2</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:12" class="idref" href="#f:12"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C1:10"><span class="id" title="variable">C1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C2:11"><span class="id" title="variable">C2</span></a>)<br/>
&nbsp;&nbsp;(<a id="b:13" class="idref" href="#b:13"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:8"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:9"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C1:10"><span class="id" title="variable">C1</span></a>): <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:8"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:9"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C2:11"><span class="id" title="variable">C2</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:13"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">c</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:8"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:9"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C2:11"><span class="id" title="variable">C2</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:12"><span class="id" title="variable">f</span></a> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rest</span> <span class="id" title="var">a</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:8"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:9"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C2:11"><span class="id" title="variable">C2</span></a> (@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#map_Batch:14"><span class="id" title="definition">map_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:8"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:9"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:9"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C1:10"><span class="id" title="variable">C1</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:9"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C2:11"><span class="id" title="variable">C2</span></a>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:12"><span class="id" title="variable">f</span></a>) <span class="id" title="var">rest</span>) <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Map_Batch" class="idref" href="#Map_Batch"><span class="id" title="instance">Map_Batch</span></a> {<a id="A:16" class="idref" href="#A:16"><span class="id" title="binder">A</span></a> <a id="B:17" class="idref" href="#B:17"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>}:<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#Map"><span class="id" title="class">Map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:16"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:17"><span class="id" title="variable">B</span></a>) := @<a class="idref" href="Tealeaves.Functors.Early.Batch.html#map_Batch"><span class="id" title="definition">map_Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="mapfst_Batch" class="idref" href="#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a><br/>
&nbsp;&nbsp;{<a id="B:18" class="idref" href="#B:18"><span class="id" title="binder">B</span></a> <a id="C:19" class="idref" href="#C:19"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>} (<a id="A1:20" class="idref" href="#A1:20"><span class="id" title="binder">A1</span></a> <a id="A2:21" class="idref" href="#A2:21"><span class="id" title="binder">A2</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:22" class="idref" href="#f:22"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:20"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:21"><span class="id" title="variable">A2</span></a>)<br/>
&nbsp;&nbsp;(<a id="b:23" class="idref" href="#b:23"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:20"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:18"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:19"><span class="id" title="variable">C</span></a>): <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:21"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:18"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:19"><span class="id" title="variable">C</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:23"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  <span class="id" title="var">c</span> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:21"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:18"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:19"><span class="id" title="variable">C</span></a> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rest</span> <span class="id" title="var">a</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:21"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:18"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:19"><span class="id" title="variable">C</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch:24"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:20"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:21"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:22"><span class="id" title="variable">f</span></a> <span class="id" title="var">rest</span>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:22"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Map_Batch1" class="idref" href="#Map_Batch1"><span class="id" title="instance">Map_Batch1</span></a> {<a id="B:26" class="idref" href="#B:26"><span class="id" title="binder">B</span></a> <a id="C:27" class="idref" href="#C:27"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>}:<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#Map"><span class="id" title="class">Map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:26"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:27"><span class="id" title="variable">C</span></a>) := @<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <span class="id" title="var">B</span> <span class="id" title="var">C</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="mapsnd_Batch" class="idref" href="#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a><br/>
&nbsp;&nbsp;{<a id="A:28" class="idref" href="#A:28"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span>} (<a id="B1:29" class="idref" href="#B1:29"><span class="id" title="binder">B1</span></a> <a id="B2:30" class="idref" href="#B2:30"><span class="id" title="binder">B2</span></a>: <span class="id" title="keyword">Type</span>) {<a id="C:31" class="idref" href="#C:31"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="f:32" class="idref" href="#f:32"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:29"><span class="id" title="variable">B1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:30"><span class="id" title="variable">B2</span></a>) (<a id="b:33" class="idref" href="#b:33"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:28"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:30"><span class="id" title="variable">B2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:31"><span class="id" title="variable">C</span></a>): <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:28"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:29"><span class="id" title="variable">B1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:31"><span class="id" title="variable">C</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:33"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">c</span> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:28"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:29"><span class="id" title="variable">B1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:31"><span class="id" title="variable">C</span></a> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rest</span> <span class="id" title="var">c</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:28"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:29"><span class="id" title="variable">B1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:31"><span class="id" title="variable">C</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:28"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:29"><span class="id" title="variable">B1</span></a>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#precompose"><span class="id" title="definition">precompose</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:32"><span class="id" title="variable">f</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch:34"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:29"><span class="id" title="variable">B1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:30"><span class="id" title="variable">B2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:32"><span class="id" title="variable">f</span></a> <span class="id" title="var">rest</span>)) <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab305"></a><h2 class="section">Rewriting Principles</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="map_Batch_rw1" class="idref" href="#map_Batch_rw1"><span class="id" title="lemma">map_Batch_rw1</span></a> {<a id="A:36" class="idref" href="#A:36"><span class="id" title="binder">A</span></a> <a id="B:37" class="idref" href="#B:37"><span class="id" title="binder">B</span></a> <a id="C1:38" class="idref" href="#C1:38"><span class="id" title="binder">C1</span></a> <a id="C2:39" class="idref" href="#C2:39"><span class="id" title="binder">C2</span></a>: <span class="id" title="keyword">Type</span>} `(<a id="f:40" class="idref" href="#f:40"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C1:38"><span class="id" title="variable">C1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C2:39"><span class="id" title="variable">C2</span></a>) (<a id="c:41" class="idref" href="#c:41"><span class="id" title="binder">c</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C1:38"><span class="id" title="variable">C1</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:36"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:37"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:40"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:36"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:37"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C1:38"><span class="id" title="variable">C1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:41"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:36"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:37"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C2:39"><span class="id" title="variable">C2</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:40"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:41"><span class="id" title="variable">c</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_Batch_rw2" class="idref" href="#map_Batch_rw2"><span class="id" title="lemma">map_Batch_rw2</span></a> {<a id="A:42" class="idref" href="#A:42"><span class="id" title="binder">A</span></a> <a id="B:43" class="idref" href="#B:43"><span class="id" title="binder">B</span></a> <a id="C1:44" class="idref" href="#C1:44"><span class="id" title="binder">C1</span></a> <a id="C2:45" class="idref" href="#C2:45"><span class="id" title="binder">C2</span></a>: <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`(<a id="f:46" class="idref" href="#f:46"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C1:44"><span class="id" title="variable">C1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C2:45"><span class="id" title="variable">C2</span></a>) (<a id="a:47" class="idref" href="#a:47"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:42"><span class="id" title="variable">A</span></a>) (<a id="rest:48" class="idref" href="#rest:48"><span class="id" title="binder">rest</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:42"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:43"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:43"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C1:44"><span class="id" title="variable">C1</span></a>)):<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:42"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:43"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:46"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#rest:48"><span class="id" title="variable">rest</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:47"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:42"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:43"><span class="id" title="variable">B</span></a>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:46"><span class="id" title="variable">f</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#rest:48"><span class="id" title="variable">rest</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:47"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapfst_Batch_rw1" class="idref" href="#mapfst_Batch_rw1"><span class="id" title="lemma">mapfst_Batch_rw1</span></a> {<a id="A1:49" class="idref" href="#A1:49"><span class="id" title="binder">A1</span></a> <a id="A2:50" class="idref" href="#A2:50"><span class="id" title="binder">A2</span></a> <a id="B:51" class="idref" href="#B:51"><span class="id" title="binder">B</span></a> <a id="C:52" class="idref" href="#C:52"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>} `(<a id="f:53" class="idref" href="#f:53"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:49"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:50"><span class="id" title="variable">A2</span></a>) (<a id="c:54" class="idref" href="#c:54"><span class="id" title="binder">c</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:52"><span class="id" title="variable">C</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:49"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:50"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:53"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:49"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:51"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:52"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:54"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:50"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:51"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:52"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:54"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapfst_Batch_rw2" class="idref" href="#mapfst_Batch_rw2"><span class="id" title="lemma">mapfst_Batch_rw2</span></a> {<a id="A1:55" class="idref" href="#A1:55"><span class="id" title="binder">A1</span></a> <a id="A2:56" class="idref" href="#A2:56"><span class="id" title="binder">A2</span></a> <a id="B:57" class="idref" href="#B:57"><span class="id" title="binder">B</span></a> <a id="C:58" class="idref" href="#C:58"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="f:59" class="idref" href="#f:59"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:55"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:56"><span class="id" title="variable">A2</span></a>) (<a id="a:60" class="idref" href="#a:60"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:55"><span class="id" title="variable">A1</span></a>) (<a id="b:61" class="idref" href="#b:61"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:55"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:57"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:57"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:58"><span class="id" title="variable">C</span></a>)):<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:55"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:56"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:59"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:61"><span class="id" title="variable">b</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:60"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:55"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:56"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:59"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:61"><span class="id" title="variable">b</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:59"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:60"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapsnd_Batch_rw1" class="idref" href="#mapsnd_Batch_rw1"><span class="id" title="lemma">mapsnd_Batch_rw1</span></a> {<a id="A:62" class="idref" href="#A:62"><span class="id" title="binder">A</span></a> <a id="B:63" class="idref" href="#B:63"><span class="id" title="binder">B</span></a> <a id="B':64" class="idref" href="#B':64"><span class="id" title="binder">B'</span></a> <a id="C:65" class="idref" href="#C:65"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>} `(<a id="f:66" class="idref" href="#f:66"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B':64"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:63"><span class="id" title="variable">B</span></a>) (<a id="c:67" class="idref" href="#c:67"><span class="id" title="binder">c</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:65"><span class="id" title="variable">C</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B':64"><span class="id" title="variable">B'</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:63"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:66"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:62"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:63"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:65"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:67"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:62"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B':64"><span class="id" title="variable">B'</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:65"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:67"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapsnd_Batch_rw2" class="idref" href="#mapsnd_Batch_rw2"><span class="id" title="lemma">mapsnd_Batch_rw2</span></a> {<a id="A:68" class="idref" href="#A:68"><span class="id" title="binder">A</span></a> <a id="B:69" class="idref" href="#B:69"><span class="id" title="binder">B</span></a> <a id="B':70" class="idref" href="#B':70"><span class="id" title="binder">B'</span></a> <a id="C:71" class="idref" href="#C:71"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>} `(<a id="f:72" class="idref" href="#f:72"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:69"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B':70"><span class="id" title="variable">B'</span></a>)<br/>
&nbsp;&nbsp;(<a id="a:73" class="idref" href="#a:73"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:68"><span class="id" title="variable">A</span></a>) (<a id="b:74" class="idref" href="#b:74"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:68"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B':70"><span class="id" title="variable">B'</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#B':70"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:71"><span class="id" title="variable">C</span></a>)):<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:69"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B':70"><span class="id" title="variable">B'</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:72"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:74"><span class="id" title="variable">b</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:73"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:68"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:69"><span class="id" title="variable">B</span></a>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#precompose"><span class="id" title="definition">precompose</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:72"><span class="id" title="variable">f</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:69"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B':70"><span class="id" title="variable">B'</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:72"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:74"><span class="id" title="variable">b</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:73"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab306"></a><h2 class="section">Functor Laws</h2>

<div class="paragraph"> </div>

<a id="lab307"></a><h3 class="section">In the <code>A</code> Argument</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="mapfst_id_Batch" class="idref" href="#mapfst_id_Batch"><span class="id" title="lemma">mapfst_id_Batch</span></a>: <span class="id" title="keyword">∀</span> (<a id="B:75" class="idref" href="#B:75"><span class="id" title="binder">B</span></a> <a id="C:76" class="idref" href="#C:76"><span class="id" title="binder">C</span></a> <a id="A:77" class="idref" href="#A:77"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:77"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:77"><span class="id" title="variable">A</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:77"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:77"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:75"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:76"><span class="id" title="variable">C</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">C</span> <span class="id" title="var">c</span>|<span class="id" title="var">C</span> <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHrest</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapfst_mapfst_Batch" class="idref" href="#mapfst_mapfst_Batch"><span class="id" title="lemma">mapfst_mapfst_Batch</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="B:78" class="idref" href="#B:78"><span class="id" title="binder">B</span></a> <a id="C:79" class="idref" href="#C:79"><span class="id" title="binder">C</span></a> <a id="A1:80" class="idref" href="#A1:80"><span class="id" title="binder">A1</span></a> <a id="A2:81" class="idref" href="#A2:81"><span class="id" title="binder">A2</span></a> <a id="A3:82" class="idref" href="#A3:82"><span class="id" title="binder">A3</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:83" class="idref" href="#f:83"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:80"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:81"><span class="id" title="variable">A2</span></a>) (<a id="g:84" class="idref" href="#g:84"><span class="id" title="binder">g</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:81"><span class="id" title="variable">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A3:82"><span class="id" title="variable">A3</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#g:84"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:83"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:78"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">C</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:79"><span class="id" title="variable">C</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#g:84"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:83"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ext</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">C</span> <span class="id" title="var">c</span>|<span class="id" title="var">C</span> <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHrest</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>, <span class="id" title="var">program</span>] <span class="id" title="keyword">Instance</span> <a id="Functor_Batch1" class="idref" href="#Functor_Batch1"><span class="id" title="instance">Functor_Batch1</span></a> {<a id="B:85" class="idref" href="#B:85"><span class="id" title="binder">B</span></a> <a id="C:86" class="idref" href="#C:86"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>}:<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#Functor"><span class="id" title="class">Functor</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:85"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:86"><span class="id" title="variable">C</span></a>) :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_id"><span class="id" title="method">fun_map_id</span></a> := @<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_id_Batch"><span class="id" title="lemma">mapfst_id_Batch</span></a> <span class="id" title="var">B</span> <span class="id" title="var">C</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> := @<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_mapfst_Batch"><span class="id" title="lemma">mapfst_mapfst_Batch</span></a> <span class="id" title="var">B</span> <span class="id" title="var">C</span>;<br/>
&nbsp;&nbsp;|}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab308"></a><h3 class="section">In the <code>B</code> Argument</h3>
 TODO 
<div class="paragraph"> </div>

<a id="lab309"></a><h3 class="section">In the <code>C</code> Argument</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="map_id_Batch" class="idref" href="#map_id_Batch"><span class="id" title="lemma">map_id_Batch</span></a>: <span class="id" title="keyword">∀</span> (<a id="A:87" class="idref" href="#A:87"><span class="id" title="binder">A</span></a> <a id="B:88" class="idref" href="#B:88"><span class="id" title="binder">B</span></a> <a id="C:89" class="idref" href="#C:89"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:87"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:88"><span class="id" title="variable">B</span></a>) (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:89"><span class="id" title="variable">C</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:87"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:88"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:89"><span class="id" title="variable">C</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">C</span> <span class="id" title="var">c</span>|<span class="id" title="var">C</span> <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">lemma</span>: <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="var">C</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">C</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">reflexivity</span>. } <span class="id" title="tactic">rewrite</span> <span class="id" title="var">lemma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHrest</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="map_map_Batch" class="idref" href="#map_map_Batch"><span class="id" title="lemma">map_map_Batch</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="A:90" class="idref" href="#A:90"><span class="id" title="binder">A</span></a> <a id="B:91" class="idref" href="#B:91"><span class="id" title="binder">B</span></a> <a id="C1:92" class="idref" href="#C1:92"><span class="id" title="binder">C1</span></a> <a id="C2:93" class="idref" href="#C2:93"><span class="id" title="binder">C2</span></a> <a id="C3:94" class="idref" href="#C3:94"><span class="id" title="binder">C3</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:95" class="idref" href="#f:95"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C1:92"><span class="id" title="variable">C1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C2:93"><span class="id" title="variable">C2</span></a>) (<a id="g:96" class="idref" href="#g:96"><span class="id" title="binder">g</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C2:93"><span class="id" title="variable">C2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C3:94"><span class="id" title="variable">C3</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:90"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:91"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#g:96"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:90"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:91"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:95"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:90"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:91"><span class="id" title="variable">B</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#g:96"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:95"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ext</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">C3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">C2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHb</span> (<span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">C2</span>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">C3</span>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="var">g</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>, <span class="id" title="var">program</span>] <span class="id" title="keyword">Instance</span> <a id="Functor_Batch" class="idref" href="#Functor_Batch"><span class="id" title="instance">Functor_Batch</span></a> {<a id="A:97" class="idref" href="#A:97"><span class="id" title="binder">A</span></a> <a id="B:98" class="idref" href="#B:98"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>}:<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#Functor"><span class="id" title="class">Functor</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:97"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:98"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_id"><span class="id" title="method">fun_map_id</span></a> := @<a class="idref" href="Tealeaves.Functors.Early.Batch.html#map_id_Batch"><span class="id" title="lemma">map_id_Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> := @<a class="idref" href="Tealeaves.Functors.Early.Batch.html#map_map_Batch"><span class="id" title="lemma">map_map_Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>;<br/>
&nbsp;&nbsp;|}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab310"></a><h2 class="section">Commuting Independent <code>map</code>s</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="mapfst_map_Batch" class="idref" href="#mapfst_map_Batch"><span class="id" title="lemma">mapfst_map_Batch</span></a><br/>
&nbsp;&nbsp;{<a id="B:99" class="idref" href="#B:99"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>} `(<a id="f:102" class="idref" href="#f:102"><span class="id" title="binder">f</span></a>: <a id="A1:100" class="idref" href="#A1:100"><span class="id" title="binder">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a id="A2:101" class="idref" href="#A2:101"><span class="id" title="binder">A2</span></a>) `(<a id="g:105" class="idref" href="#g:105"><span class="id" title="binder">g</span></a>: <a id="C1:103" class="idref" href="#C1:103"><span class="id" title="binder">C1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a id="C2:104" class="idref" href="#C2:104"><span class="id" title="binder">C2</span></a>) (<a id="b:106" class="idref" href="#b:106"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:100"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:99"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C1:103"><span class="id" title="variable">C1</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:100"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:101"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:102"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:100"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:99"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#g:105"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:106"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:101"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:99"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#g:105"><span class="id" title="variable">g</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:100"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:101"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:102"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:106"><span class="id" title="variable">b</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">C2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHb</span> (<span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">C2</span>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="var">g</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapsnd_map_Batch" class="idref" href="#mapsnd_map_Batch"><span class="id" title="lemma">mapsnd_map_Batch</span></a><br/>
&nbsp;&nbsp;{<a id="A:107" class="idref" href="#A:107"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span>} `(<a id="f:110" class="idref" href="#f:110"><span class="id" title="binder">f</span></a>: <a id="B1:108" class="idref" href="#B1:108"><span class="id" title="binder">B1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a id="B2:109" class="idref" href="#B2:109"><span class="id" title="binder">B2</span></a>) `(<a id="g:113" class="idref" href="#g:113"><span class="id" title="binder">g</span></a>: <a id="C1:111" class="idref" href="#C1:111"><span class="id" title="binder">C1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a id="C2:112" class="idref" href="#C2:112"><span class="id" title="binder">C2</span></a>) (<a id="b:114" class="idref" href="#b:114"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:107"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:109"><span class="id" title="variable">B2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C1:111"><span class="id" title="variable">C1</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:108"><span class="id" title="variable">B1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:109"><span class="id" title="variable">B2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:110"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:107"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:109"><span class="id" title="variable">B2</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#g:113"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:114"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:107"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:108"><span class="id" title="variable">B1</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#g:113"><span class="id" title="variable">g</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:108"><span class="id" title="variable">B1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:109"><span class="id" title="variable">B2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:110"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:114"><span class="id" title="variable">b</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">C2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapfst_mapsnd_Batch" class="idref" href="#mapfst_mapsnd_Batch"><span class="id" title="lemma">mapfst_mapsnd_Batch</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="C:115" class="idref" href="#C:115"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>} `(<a id="f:118" class="idref" href="#f:118"><span class="id" title="binder">f</span></a>: <a id="A1:116" class="idref" href="#A1:116"><span class="id" title="binder">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a id="A2:117" class="idref" href="#A2:117"><span class="id" title="binder">A2</span></a>) `(<a id="g:121" class="idref" href="#g:121"><span class="id" title="binder">g</span></a>: <a id="B1:119" class="idref" href="#B1:119"><span class="id" title="binder">B1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a id="B2:120" class="idref" href="#B2:120"><span class="id" title="binder">B2</span></a>) (<a id="b:122" class="idref" href="#b:122"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:116"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:120"><span class="id" title="variable">B2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:115"><span class="id" title="variable">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:116"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:117"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:118"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:119"><span class="id" title="variable">B1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:120"><span class="id" title="variable">B2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#g:121"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:122"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:119"><span class="id" title="variable">B1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:120"><span class="id" title="variable">B2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#g:121"><span class="id" title="variable">g</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:116"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:117"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:118"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:122"><span class="id" title="variable">b</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_map_Batch"><span class="id" title="lemma">mapfst_map_Batch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab311"></a><h1 class="section">Applicative Functor Instance</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="Applicative_Batch" class="idref" href="#Applicative_Batch"><span class="id" title="section">Applicative_Batch</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="A:123" class="idref" href="#A:123"><span class="id" title="binder">A</span></a> <a id="B:124" class="idref" href="#B:124"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab312"></a><h2 class="section">Operations</h2>

</div>
<div class="code">
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Pure_Batch" class="idref" href="#Pure_Batch"><span class="id" title="instance">Pure_Batch</span></a>: <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#Pure"><span class="id" title="class">Pure</span></a> (@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="C:125" class="idref" href="#C:125"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>) (<a id="c:126" class="idref" href="#c:126"><span class="id" title="binder">c</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:125"><span class="id" title="variable">C</span></a>) ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:125"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:126"><span class="id" title="variable">c</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="mult_Batch" class="idref" href="#mult_Batch"><span class="id" title="definition">mult_Batch</span></a> `(<a id="b1:128" class="idref" href="#b1:128"><span class="id" title="binder">b1</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a id="C:127" class="idref" href="#C:127"><span class="id" title="binder">C</span></a>) `(<a id="b2:130" class="idref" href="#b2:130"><span class="id" title="binder">b2</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a id="D:129" class="idref" href="#D:129"><span class="id" title="binder">D</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:127"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:129"><span class="id" title="variable">D</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:130"><span class="id" title="variable">b2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">d</span> ⇒ <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) (<span class="id" title="keyword">fun</span> (<a id="c:133" class="idref" href="#c:133"><span class="id" title="binder">c</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:127"><span class="id" title="variable">C</span></a>) ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:133"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:128"><span class="id" title="variable">b1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rest</span> <span class="id" title="var">a</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:127"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:129"><span class="id" title="variable">D</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#strength_arrow"><span class="id" title="definition">strength_arrow</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mult_Batch:131"><span class="id" title="definition">mult_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:128"><span class="id" title="variable">b1</span></a> <span class="id" title="var">rest</span>)) <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Mult_Batch" class="idref" href="#Mult_Batch"><span class="id" title="instance">Mult_Batch</span></a>: <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#Mult"><span class="id" title="class">Mult</span></a> (@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="C:134" class="idref" href="#C:134"><span class="id" title="binder">C</span></a> <a id="D:135" class="idref" href="#D:135"><span class="id" title="binder">D</span></a> '<a id="pat:138" class="idref" href="#pat:138"><span class="id" title="binder">(</span></a><a id="pat:138" class="idref" href="#pat:138"><span class="id" title="binder">b1</span></a><a id="pat:138" class="idref" href="#pat:138"><span class="id" title="binder">,</span></a> <a id="pat:138" class="idref" href="#pat:138"><span class="id" title="binder">b2</span></a><a id="pat:138" class="idref" href="#pat:138"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mult_Batch"><span class="id" title="definition">mult_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:137"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:136"><span class="id" title="variable">b2</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab313"></a><h3 class="section">Examples of operations</h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Section&nbsp;demo.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Context<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(A&nbsp;B&nbsp;C&nbsp;D:&nbsp;Type)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(a1&nbsp;a2&nbsp;a3:&nbsp;A)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(c1&nbsp;c2&nbsp;c3:&nbsp;C)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(d1&nbsp;d2&nbsp;d3:&nbsp;D)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(mk1:&nbsp;B&nbsp;-&gt;&nbsp;C)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(mk1':&nbsp;B&nbsp;-&gt;&nbsp;D)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(mk2:&nbsp;B&nbsp;-&gt;&nbsp;B&nbsp;-&gt;&nbsp;C).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Compute&nbsp;Done&nbsp;A&nbsp;B&nbsp;C&nbsp;c1&nbsp;⊗&nbsp;Done&nbsp;A&nbsp;B&nbsp;D&nbsp;d1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Compute&nbsp;Done&nbsp;A&nbsp;B&nbsp;C&nbsp;c1&nbsp;⊗&nbsp;(Done&nbsp;A&nbsp;B&nbsp;(B&nbsp;-&gt;&nbsp;D)&nbsp;mk1'&nbsp;⧆&nbsp;a1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Compute&nbsp;(Done&nbsp;A&nbsp;B&nbsp;_&nbsp;mk1&nbsp;⧆&nbsp;a1)&nbsp;⊗&nbsp;Done&nbsp;A&nbsp;B&nbsp;D&nbsp;d2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Compute&nbsp;(Done&nbsp;A&nbsp;B&nbsp;_&nbsp;mk1&nbsp;⧆&nbsp;a1)&nbsp;⊗&nbsp;(Done&nbsp;A&nbsp;B&nbsp;_&nbsp;mk1'&nbsp;⧆&nbsp;a2).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Compute&nbsp;(Done&nbsp;A&nbsp;B&nbsp;_&nbsp;mk2&nbsp;⧆&nbsp;a1&nbsp;⧆&nbsp;a2)&nbsp;⊗&nbsp;(Done&nbsp;A&nbsp;B&nbsp;_&nbsp;mk1'&nbsp;⧆&nbsp;a3).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;End&nbsp;demo.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab314"></a><h2 class="section">Rewriting Principles</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mult_Batch_rw1" class="idref" href="#mult_Batch_rw1"><span class="id" title="lemma">mult_Batch_rw1</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> `(<a id="c:140" class="idref" href="#c:140"><span class="id" title="binder">c</span></a>: <a id="C:139" class="idref" href="#C:139"><span class="id" title="binder">C</span></a>) `(<a id="d:142" class="idref" href="#d:142"><span class="id" title="binder">d</span></a>: <a id="D:141" class="idref" href="#D:141"><span class="id" title="binder">D</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:139"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:140"><span class="id" title="variable">c</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:141"><span class="id" title="variable">D</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#d:142"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:139"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:141"><span class="id" title="variable">D</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:140"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#d:142"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mult_Batch_rw2" class="idref" href="#mult_Batch_rw2"><span class="id" title="lemma">mult_Batch_rw2</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> `(<a id="d:144" class="idref" href="#d:144"><span class="id" title="binder">d</span></a>: <a id="D:143" class="idref" href="#D:143"><span class="id" title="binder">D</span></a>) `(<a id="b1:146" class="idref" href="#b1:146"><span class="id" title="binder">b1</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a id="C:145" class="idref" href="#C:145"><span class="id" title="binder">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:146"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:143"><span class="id" title="variable">D</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#d:144"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#pair_right"><span class="id" title="definition">pair_right</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#d:144"><span class="id" title="variable">d</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:146"><span class="id" title="variable">b1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">b1</span>; <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mult_Batch_rw3" class="idref" href="#mult_Batch_rw3"><span class="id" title="lemma">mult_Batch_rw3</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="D:147" class="idref" href="#D:147"><span class="id" title="binder">D</span></a>: <span class="id" title="keyword">Type</span>) (<a id="b2:148" class="idref" href="#b2:148"><span class="id" title="binder">b2</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:147"><span class="id" title="variable">D</span></a>)) (<a id="a:149" class="idref" href="#a:149"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a>) `(<a id="b1:151" class="idref" href="#b1:151"><span class="id" title="binder">b1</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a id="C:150" class="idref" href="#C:150"><span class="id" title="binder">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:151"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:148"><span class="id" title="variable">b2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:149"><span class="id" title="variable">a</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#strength_arrow"><span class="id" title="definition">strength_arrow</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:151"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:148"><span class="id" title="variable">b2</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:149"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mult_Batch_rw4" class="idref" href="#mult_Batch_rw4"><span class="id" title="lemma">mult_Batch_rw4</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> `(<a id="b2:153" class="idref" href="#b2:153"><span class="id" title="binder">b2</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a id="D:152" class="idref" href="#D:152"><span class="id" title="binder">D</span></a>) `(<a id="c:155" class="idref" href="#c:155"><span class="id" title="binder">c</span></a>: <a id="C:154" class="idref" href="#C:154"><span class="id" title="binder">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:154"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:155"><span class="id" title="variable">c</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:153"><span class="id" title="variable">b2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:155"><span class="id" title="variable">c</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:153"><span class="id" title="variable">b2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>; <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mult_Batch"><span class="id" title="definition">mult_Batch</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">b2</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mult_Batch_rw5" class="idref" href="#mult_Batch_rw5"><span class="id" title="lemma">mult_Batch_rw5</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="a:156" class="idref" href="#a:156"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a>) `(<a id="b1:158" class="idref" href="#b1:158"><span class="id" title="binder">b1</span></a>: @<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a id="C:157" class="idref" href="#C:157"><span class="id" title="binder">C</span></a>)) `(<a id="d:160" class="idref" href="#d:160"><span class="id" title="binder">d</span></a>: <a id="D:159" class="idref" href="#D:159"><span class="id" title="binder">D</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:158"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:156"><span class="id" title="variable">a</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:159"><span class="id" title="variable">D</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#d:160"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#costrength_arrow"><span class="id" title="definition">costrength_arrow</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#pair_right"><span class="id" title="definition">pair_right</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#d:160"><span class="id" title="variable">d</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:158"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:156"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mult_Batch_rw6" class="idref" href="#mult_Batch_rw6"><span class="id" title="lemma">mult_Batch_rw6</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> `(<a id="b2:162" class="idref" href="#b2:162"><span class="id" title="binder">b2</span></a>: @<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a id="D:161" class="idref" href="#D:161"><span class="id" title="binder">D</span></a>)) `(<a id="c:164" class="idref" href="#c:164"><span class="id" title="binder">c</span></a>: <a id="C:163" class="idref" href="#C:163"><span class="id" title="binder">C</span></a>) (<a id="a:165" class="idref" href="#a:165"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:163"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:164"><span class="id" title="variable">c</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:162"><span class="id" title="variable">b2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:165"><span class="id" title="variable">a</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#strength_arrow"><span class="id" title="definition">strength_arrow</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:164"><span class="id" title="variable">c</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:162"><span class="id" title="variable">b2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:165"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mult_Batch_rw3"><span class="id" title="lemma">mult_Batch_rw3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mult_Batch_rw4"><span class="id" title="lemma">mult_Batch_rw4</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">b2</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mult_Batch_rw7" class="idref" href="#mult_Batch_rw7"><span class="id" title="lemma">mult_Batch_rw7</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="a1:166" class="idref" href="#a1:166"><span class="id" title="binder">a1</span></a> <a id="a2:167" class="idref" href="#a2:167"><span class="id" title="binder">a2</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a>) `(<a id="b1:169" class="idref" href="#b1:169"><span class="id" title="binder">b1</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a id="C:168" class="idref" href="#C:168"><span class="id" title="binder">C</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`(<a id="b2:171" class="idref" href="#b2:171"><span class="id" title="binder">b2</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a id="D:170" class="idref" href="#D:170"><span class="id" title="binder">D</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:169"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a1:166"><span class="id" title="variable">a1</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:171"><span class="id" title="variable">b2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a2:167"><span class="id" title="variable">a2</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#strength_arrow"><span class="id" title="definition">strength_arrow</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:169"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a1:166"><span class="id" title="variable">a1</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:171"><span class="id" title="variable">b2</span></a>)<a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a2:167"><span class="id" title="variable">a2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab315"></a><h2 class="section">Applicative Laws</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_pure_natural_Batch" class="idref" href="#app_pure_natural_Batch"><span class="id" title="lemma">app_pure_natural_Batch</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> `(<a id="f:174" class="idref" href="#f:174"><span class="id" title="binder">f</span></a>: <a id="C1:172" class="idref" href="#C1:172"><span class="id" title="binder">C1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a id="C2:173" class="idref" href="#C2:173"><span class="id" title="binder">C2</span></a>) (<a id="c:175" class="idref" href="#c:175"><span class="id" title="binder">c</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C1:172"><span class="id" title="variable">C1</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:174"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:175"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:174"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:175"><span class="id" title="variable">c</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_mult_natural_Batch1" class="idref" href="#app_mult_natural_Batch1"><span class="id" title="lemma">app_mult_natural_Batch1</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="C1:176" class="idref" href="#C1:176"><span class="id" title="binder">C1</span></a> <a id="C2:177" class="idref" href="#C2:177"><span class="id" title="binder">C2</span></a> <a id="D:178" class="idref" href="#D:178"><span class="id" title="binder">D</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:179" class="idref" href="#f:179"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C1:176"><span class="id" title="variable">C1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C2:177"><span class="id" title="variable">C2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="b1:180" class="idref" href="#b1:180"><span class="id" title="binder">b1</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C1:176"><span class="id" title="variable">C1</span></a>) (<a id="b2:181" class="idref" href="#b2:181"><span class="id" title="binder">b2</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:178"><span class="id" title="variable">D</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:179"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:180"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:181"><span class="id" title="variable">b2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) (<a class="idref" href="Tealeaves.Misc.Product.html#map_fst"><span class="id" title="definition">map_fst</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:179"><span class="id" title="variable">f</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:180"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:181"><span class="id" title="variable">b2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">C1</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">b2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">b1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mult_Batch"><span class="id" title="definition">mult_Batch</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb2</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<span class="id" title="var">b1</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">b2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">ext</span> [? ?].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_mult_natural_Batch2" class="idref" href="#app_mult_natural_Batch2"><span class="id" title="lemma">app_mult_natural_Batch2</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="C:182" class="idref" href="#C:182"><span class="id" title="binder">C</span></a> <a id="D1:183" class="idref" href="#D1:183"><span class="id" title="binder">D1</span></a> <a id="D2:184" class="idref" href="#D2:184"><span class="id" title="binder">D2</span></a>: <span class="id" title="keyword">Type</span>) (<a id="g:185" class="idref" href="#g:185"><span class="id" title="binder">g</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D1:183"><span class="id" title="variable">D1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D2:184"><span class="id" title="variable">D2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="b1:186" class="idref" href="#b1:186"><span class="id" title="binder">b1</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:182"><span class="id" title="variable">C</span></a>) (<a id="b2:187" class="idref" href="#b2:187"><span class="id" title="binder">b2</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D1:183"><span class="id" title="variable">D1</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:186"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#g:185"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:187"><span class="id" title="variable">b2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) (<a class="idref" href="Tealeaves.Misc.Product.html#map_snd"><span class="id" title="definition">map_snd</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#g:185"><span class="id" title="variable">g</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:186"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:187"><span class="id" title="variable">b2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">D2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ANY</span> <span class="id" title="var">any</span> | <span class="id" title="var">ANY</span> <span class="id" title="var">rest</span> <span class="id" title="var">IH</span> <span class="id" title="var">x'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">b1</span> <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mult_Batch"><span class="id" title="definition">mult_Batch</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<span class="id" title="var">b1</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">rest</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">D2</span>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="var">g</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<span class="id" title="var">b1</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">rest</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">ext</span> [<span class="id" title="var">c</span> <span class="id" title="var">mk</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_mult_natural_Batch" class="idref" href="#app_mult_natural_Batch"><span class="id" title="lemma">app_mult_natural_Batch</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="C1:188" class="idref" href="#C1:188"><span class="id" title="binder">C1</span></a> <a id="C2:189" class="idref" href="#C2:189"><span class="id" title="binder">C2</span></a> <a id="D1:190" class="idref" href="#D1:190"><span class="id" title="binder">D1</span></a> <a id="D2:191" class="idref" href="#D2:191"><span class="id" title="binder">D2</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:192" class="idref" href="#f:192"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C1:188"><span class="id" title="variable">C1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C2:189"><span class="id" title="variable">C2</span></a>) (<a id="g:193" class="idref" href="#g:193"><span class="id" title="binder">g</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D1:190"><span class="id" title="variable">D1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D2:191"><span class="id" title="variable">D2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="b1:194" class="idref" href="#b1:194"><span class="id" title="binder">b1</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C1:188"><span class="id" title="variable">C1</span></a>) (<a id="b2:195" class="idref" href="#b2:195"><span class="id" title="binder">b2</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D1:190"><span class="id" title="variable">D1</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:192"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:194"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#g:193"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:195"><span class="id" title="variable">b2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) (<a class="idref" href="Tealeaves.Misc.Product.html#map_tensor"><span class="id" title="definition">map_tensor</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:192"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#g:193"><span class="id" title="variable">g</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:194"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:195"><span class="id" title="variable">b2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#app_mult_natural_Batch1"><span class="id" title="lemma">app_mult_natural_Batch1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#app_mult_natural_Batch2"><span class="id" title="lemma">app_mult_natural_Batch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<span class="id" title="var">b1</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">b2</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">ext</span> [<span class="id" title="var">c1</span> <span class="id" title="var">d1</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_assoc_Batch" class="idref" href="#app_assoc_Batch"><span class="id" title="lemma">app_assoc_Batch</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="C:196" class="idref" href="#C:196"><span class="id" title="binder">C</span></a> <a id="D:197" class="idref" href="#D:197"><span class="id" title="binder">D</span></a> <a id="E:198" class="idref" href="#E:198"><span class="id" title="binder">E</span></a>: <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="b1:199" class="idref" href="#b1:199"><span class="id" title="binder">b1</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:196"><span class="id" title="variable">C</span></a>) (<a id="b2:200" class="idref" href="#b2:200"><span class="id" title="binder">b2</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:197"><span class="id" title="variable">D</span></a>) (<a id="b3:201" class="idref" href="#b3:201"><span class="id" title="binder">b3</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#E:198"><span class="id" title="variable">E</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Misc.Product.html#associator"><span class="id" title="definition">associator</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:199"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:200"><span class="id" title="variable">b2</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b3:201"><span class="id" title="variable">b3</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:199"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:200"><span class="id" title="variable">b2</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b3:201"><span class="id" title="variable">b3</span></a><a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">b3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mult_Batch_rw2"><span class="id" title="lemma">mult_Batch_rw2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#app_mult_natural_Batch2"><span class="id" title="lemma">app_mult_natural_Batch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<span class="id" title="var">b1</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">b2</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mult_Batch"><span class="id" title="definition">mult_Batch</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#app_mult_natural_Batch2"><span class="id" title="lemma">app_mult_natural_Batch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHb3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<span class="id" title="var">b1</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">b2</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">b3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<span class="id" title="var">b1</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">b2</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">b3</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">ext</span> [[<span class="id" title="var">c</span> <span class="id" title="var">d</span>] <span class="id" title="var">mk</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_unital_l_Batch" class="idref" href="#app_unital_l_Batch"><span class="id" title="lemma">app_unital_l_Batch</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="C:202" class="idref" href="#C:202"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>) (<a id="b:203" class="idref" href="#b:203"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:202"><span class="id" title="variable">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Misc.Product.html#left_unitor"><span class="id" title="definition">left_unitor</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:203"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:203"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mult_Batch"><span class="id" title="definition">mult_Batch</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_unital_r_Batch" class="idref" href="#app_unital_r_Batch"><span class="id" title="lemma">app_unital_r_Batch</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="C:204" class="idref" href="#C:204"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>) (<a id="b:205" class="idref" href="#b:205"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:204"><span class="id" title="variable">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Misc.Product.html#right_unitor"><span class="id" title="definition">right_unitor</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:205"><span class="id" title="variable">b</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:205"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">fequal</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHb</span> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_mult_pure_Batch" class="idref" href="#app_mult_pure_Batch"><span class="id" title="lemma">app_mult_pure_Batch</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="C:206" class="idref" href="#C:206"><span class="id" title="binder">C</span></a> <a id="D:207" class="idref" href="#D:207"><span class="id" title="binder">D</span></a>: <span class="id" title="keyword">Type</span>) (<a id="c:208" class="idref" href="#c:208"><span class="id" title="binder">c</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:206"><span class="id" title="variable">C</span></a>) (<a id="d:209" class="idref" href="#d:209"><span class="id" title="binder">d</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:207"><span class="id" title="variable">D</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:208"><span class="id" title="variable">c</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#d:209"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:208"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#d:209"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab316"></a><h2 class="section">Typeclass Instance</h2>

</div>
<div class="code">
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Applicative_Batch" class="idref" href="#Applicative_Batch"><span class="id" title="instance">Applicative_Batch</span></a>: <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#Applicative"><span class="id" title="class">Applicative</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch.B"><span class="id" title="variable">B</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#app_mult_natural_Batch"><span class="id" title="lemma">app_mult_natural_Batch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#app_assoc_Batch"><span class="id" title="lemma">app_assoc_Batch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#app_unital_l_Batch"><span class="id" title="lemma">app_unital_l_Batch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#app_unital_r_Batch"><span class="id" title="lemma">app_unital_r_Batch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Applicative_Batch"><span class="id" title="section">Applicative_Batch</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab317"></a><h2 class="section"><code>mapfst</code> and <code>mapsnd</code> as Applicative Homomorphisms</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="mapfst_Batch1" class="idref" href="#mapfst_Batch1"><span class="id" title="lemma">mapfst_Batch1</span></a> {<a id="B:210" class="idref" href="#B:210"><span class="id" title="binder">B</span></a> <a id="C:211" class="idref" href="#C:211"><span class="id" title="binder">C</span></a> <a id="D:212" class="idref" href="#D:212"><span class="id" title="binder">D</span></a>: <span class="id" title="keyword">Type</span>} `(<a id="f:215" class="idref" href="#f:215"><span class="id" title="binder">f</span></a>: <a id="A1:213" class="idref" href="#A1:213"><span class="id" title="binder">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a id="A2:214" class="idref" href="#A2:214"><span class="id" title="binder">A2</span></a>)<br/>
&nbsp;&nbsp;(<a id="b1:216" class="idref" href="#b1:216"><span class="id" title="binder">b1</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:213"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:210"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:211"><span class="id" title="variable">C</span></a>) (<a id="b2:217" class="idref" href="#b2:217"><span class="id" title="binder">b2</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:213"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:210"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:212"><span class="id" title="variable">D</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:213"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:214"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:215"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:216"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:217"><span class="id" title="variable">b2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:213"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:214"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:215"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:216"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:213"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:214"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:215"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:217"><span class="id" title="variable">b2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">b1</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">b2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_map_Batch"><span class="id" title="lemma">mapfst_map_Batch</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mult_Batch"><span class="id" title="definition">mult_Batch</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>) <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHb2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_map_Batch"><span class="id" title="lemma">mapfst_map_Batch</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapfst_Batch2" class="idref" href="#mapfst_Batch2"><span class="id" title="lemma">mapfst_Batch2</span></a> {<a id="B:218" class="idref" href="#B:218"><span class="id" title="binder">B</span></a> <a id="C:219" class="idref" href="#C:219"><span class="id" title="binder">C</span></a> <a id="D:220" class="idref" href="#D:220"><span class="id" title="binder">D</span></a>: <span class="id" title="keyword">Type</span>} `(<a id="f:223" class="idref" href="#f:223"><span class="id" title="binder">f</span></a>: <a id="A1:221" class="idref" href="#A1:221"><span class="id" title="binder">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a id="A2:222" class="idref" href="#A2:222"><span class="id" title="binder">A2</span></a>)<br/>
&nbsp;&nbsp;(<a id="b1:224" class="idref" href="#b1:224"><span class="id" title="binder">b1</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:221"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:218"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:219"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:220"><span class="id" title="variable">D</span></a>)) (<a id="b2:225" class="idref" href="#b2:225"><span class="id" title="binder">b2</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:221"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:218"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:219"><span class="id" title="variable">C</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:221"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:222"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:223"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:224"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#4eeed44cd0d6a0bc26940e7c91bf6af4"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:225"><span class="id" title="variable">b2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:221"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:222"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:223"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:224"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#4eeed44cd0d6a0bc26940e7c91bf6af4"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:221"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:222"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:223"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:225"><span class="id" title="variable">b2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ap"><span class="id" title="definition">ap</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_map_Batch"><span class="id" title="lemma">mapfst_map_Batch</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch1"><span class="id" title="lemma">mapfst_Batch1</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="ApplicativeMorphism_mapfst_Batch" class="idref" href="#ApplicativeMorphism_mapfst_Batch"><span class="id" title="instance">ApplicativeMorphism_mapfst_Batch</span></a><br/>
&nbsp;&nbsp;{<a id="B:226" class="idref" href="#B:226"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>} `(<a id="f:229" class="idref" href="#f:229"><span class="id" title="binder">f</span></a>: <a id="A1:227" class="idref" href="#A1:227"><span class="id" title="binder">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a id="A2:228" class="idref" href="#A2:228"><span class="id" title="binder">A2</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ApplicativeMorphism"><span class="id" title="class">ApplicativeMorphism</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:227"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:226"><span class="id" title="variable">B</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:228"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:226"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="C:230" class="idref" href="#C:230"><span class="id" title="binder">C</span></a> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:229"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_map_Batch"><span class="id" title="lemma">mapfst_map_Batch</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch1"><span class="id" title="lemma">mapfst_Batch1</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapsnd_Batch1" class="idref" href="#mapsnd_Batch1"><span class="id" title="lemma">mapsnd_Batch1</span></a> {<a id="A:231" class="idref" href="#A:231"><span class="id" title="binder">A</span></a> <a id="C:232" class="idref" href="#C:232"><span class="id" title="binder">C</span></a> <a id="D:233" class="idref" href="#D:233"><span class="id" title="binder">D</span></a>: <span class="id" title="keyword">Type</span>} `(<a id="f:236" class="idref" href="#f:236"><span class="id" title="binder">f</span></a>: <a id="B1:234" class="idref" href="#B1:234"><span class="id" title="binder">B1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a id="B2:235" class="idref" href="#B2:235"><span class="id" title="binder">B2</span></a>)<br/>
&nbsp;&nbsp;(<a id="b1:237" class="idref" href="#b1:237"><span class="id" title="binder">b1</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:231"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:235"><span class="id" title="variable">B2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:232"><span class="id" title="variable">C</span></a>) (<a id="b2:238" class="idref" href="#b2:238"><span class="id" title="binder">b2</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:231"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:235"><span class="id" title="variable">B2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:233"><span class="id" title="variable">D</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:234"><span class="id" title="variable">B1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:235"><span class="id" title="variable">B2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:236"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:237"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:238"><span class="id" title="variable">b2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:234"><span class="id" title="variable">B1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:235"><span class="id" title="variable">B2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:236"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:237"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:234"><span class="id" title="variable">B1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:235"><span class="id" title="variable">B2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:236"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:238"><span class="id" title="variable">b2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">b1</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">b2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_map_Batch"><span class="id" title="lemma">mapsnd_map_Batch</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mult_Batch"><span class="id" title="definition">mult_Batch</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>) <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_map_Batch"><span class="id" title="lemma">mapsnd_map_Batch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <span class="id" title="var">B1</span> <span class="id" title="var">B2</span> <span class="id" title="var">f</span> (<span class="id" title="var">b1</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">b2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#app_mult_natural_Batch2"><span class="id" title="lemma">app_mult_natural_Batch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <span class="id" title="var">B1</span> <span class="id" title="var">B2</span> <span class="id" title="var">f</span> <span class="id" title="var">b1</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <span class="id" title="var">B1</span> <span class="id" title="var">B2</span> <span class="id" title="var">f</span> <span class="id" title="var">b2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb2</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">fequal</span>; <span class="id" title="var">ext</span> [<span class="id" title="var">c</span> <span class="id" title="var">rest</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapsnd_Batch2" class="idref" href="#mapsnd_Batch2"><span class="id" title="lemma">mapsnd_Batch2</span></a> {<a id="A:239" class="idref" href="#A:239"><span class="id" title="binder">A</span></a> <a id="C:240" class="idref" href="#C:240"><span class="id" title="binder">C</span></a> <a id="D:241" class="idref" href="#D:241"><span class="id" title="binder">D</span></a>: <span class="id" title="keyword">Type</span>} `(<a id="f:244" class="idref" href="#f:244"><span class="id" title="binder">f</span></a>: <a id="B1:242" class="idref" href="#B1:242"><span class="id" title="binder">B1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a id="B2:243" class="idref" href="#B2:243"><span class="id" title="binder">B2</span></a>)<br/>
&nbsp;&nbsp;(<a id="b1:245" class="idref" href="#b1:245"><span class="id" title="binder">b1</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:239"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:243"><span class="id" title="variable">B2</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:240"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:241"><span class="id" title="variable">D</span></a>)) (<a id="b2:246" class="idref" href="#b2:246"><span class="id" title="binder">b2</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:239"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:243"><span class="id" title="variable">B2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:240"><span class="id" title="variable">C</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:242"><span class="id" title="variable">B1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:243"><span class="id" title="variable">B2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:244"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:245"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#4eeed44cd0d6a0bc26940e7c91bf6af4"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:246"><span class="id" title="variable">b2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:242"><span class="id" title="variable">B1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:243"><span class="id" title="variable">B2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:244"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1:245"><span class="id" title="variable">b1</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#4eeed44cd0d6a0bc26940e7c91bf6af4"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:242"><span class="id" title="variable">B1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:243"><span class="id" title="variable">B2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:244"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b2:246"><span class="id" title="variable">b2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ap"><span class="id" title="definition">ap</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_map_Batch"><span class="id" title="lemma">mapsnd_map_Batch</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch1"><span class="id" title="lemma">mapsnd_Batch1</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="ApplicativeMorphism_mapsnd_Batch" class="idref" href="#ApplicativeMorphism_mapsnd_Batch"><span class="id" title="instance">ApplicativeMorphism_mapsnd_Batch</span></a><br/>
&nbsp;&nbsp;{<a id="A:247" class="idref" href="#A:247"><span class="id" title="binder">A</span></a> <a id="B1:248" class="idref" href="#B1:248"><span class="id" title="binder">B1</span></a> <a id="B2:249" class="idref" href="#B2:249"><span class="id" title="binder">B2</span></a>: <span class="id" title="keyword">Type</span>} `(<a id="f:250" class="idref" href="#f:250"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:248"><span class="id" title="variable">B1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:249"><span class="id" title="variable">B2</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ApplicativeMorphism"><span class="id" title="class">ApplicativeMorphism</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:247"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:249"><span class="id" title="variable">B2</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:247"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:248"><span class="id" title="variable">B1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="C:251" class="idref" href="#C:251"><span class="id" title="binder">C</span></a> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:248"><span class="id" title="variable">B1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:249"><span class="id" title="variable">B2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:250"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_map_Batch"><span class="id" title="lemma">mapsnd_map_Batch</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch1"><span class="id" title="lemma">mapsnd_Batch1</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab318"></a><h1 class="section">The <code>runBatch</code> Operation</h1>

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="runBatch" class="idref" href="#runBatch"><span class="id" title="definition">runBatch</span></a> {<a id="A:252" class="idref" href="#A:252"><span class="id" title="binder">A</span></a> <a id="B:253" class="idref" href="#B:253"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="F:254" class="idref" href="#F:254"><span class="id" title="binder">F</span></a>: <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) `{<a id="H:255" class="idref" href="#H:255"><span class="id" title="binder">Map</span></a> <a id="H:255" class="idref" href="#H:255"><span class="id" title="binder">F</span></a>} `{<a id="H0:256" class="idref" href="#H0:256"><span class="id" title="binder">Mult</span></a> <a id="H0:256" class="idref" href="#H0:256"><span class="id" title="binder">F</span></a>} `{<a id="H1:257" class="idref" href="#H1:257"><span class="id" title="binder">Pure</span></a> <a id="H1:257" class="idref" href="#H1:257"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;(<a id="b1919c2cd408467287b82e8d6d9b9e05" class="idref" href="#b1919c2cd408467287b82e8d6d9b9e05"><span class="id" title="binder">ϕ</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:252"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#F:254"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:253"><span class="id" title="variable">B</span></a>) (<a id="C:259" class="idref" href="#C:259"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>) (<a id="b:260" class="idref" href="#b:260"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:252"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:253"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:259"><span class="id" title="variable">C</span></a>): <a class="idref" href="Tealeaves.Functors.Early.Batch.html#F:254"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:259"><span class="id" title="variable">C</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:260"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">c</span> ⇒ <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#F:254"><span class="id" title="variable">F</span></a> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rest</span> <span class="id" title="var">a</span> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch:261"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#F:254"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1919c2cd408467287b82e8d6d9b9e05"><span class="id" title="variable">ϕ</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:253"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:259"><span class="id" title="variable">C</span></a>) <span class="id" title="var">rest</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#4eeed44cd0d6a0bc26940e7c91bf6af4"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b1919c2cd408467287b82e8d6d9b9e05"><span class="id" title="variable">ϕ</span></a> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab319"></a><h2 class="section">Rewriting Principles</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="runBatch_rw1" class="idref" href="#runBatch_rw1"><span class="id" title="lemma">runBatch_rw1</span></a> `{<a id="H:267" class="idref" href="#H:267"><span class="id" title="binder">Applicative</span></a> <a id="H:267" class="idref" href="#H:267"><span class="id" title="binder">F</span></a>} `(<a id="d6765b0b1bb68e38ee5a1babacfcc9fa" class="idref" href="#d6765b0b1bb68e38ee5a1babacfcc9fa"><span class="id" title="binder">ϕ</span></a>: <a id="A:268" class="idref" href="#A:268"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#F:263"><span class="id" title="variable">F</span></a> <a id="B:269" class="idref" href="#B:269"><span class="id" title="binder">B</span></a>) (<a id="C:271" class="idref" href="#C:271"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>) (<a id="c:272" class="idref" href="#c:272"><span class="id" title="binder">c</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:271"><span class="id" title="variable">C</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#F:263"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#d6765b0b1bb68e38ee5a1babacfcc9fa"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:271"><span class="id" title="variable">C</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:268"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:269"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:271"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:272"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#F:263"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:272"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="runBatch_rw2" class="idref" href="#runBatch_rw2"><span class="id" title="lemma">runBatch_rw2</span></a> `{<a id="H:277" class="idref" href="#H:277"><span class="id" title="binder">Applicative</span></a> <a id="H:277" class="idref" href="#H:277"><span class="id" title="binder">F</span></a>} `(<a id="34a3d230370ce50e5a12ceb61519f7cd" class="idref" href="#34a3d230370ce50e5a12ceb61519f7cd"><span class="id" title="binder">ϕ</span></a>: <a id="A:278" class="idref" href="#A:278"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#F:273"><span class="id" title="variable">F</span></a> <a id="B:279" class="idref" href="#B:279"><span class="id" title="binder">B</span></a>)<br/>
&nbsp;&nbsp;(<a id="a:281" class="idref" href="#a:281"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:278"><span class="id" title="variable">A</span></a>) (<a id="C:282" class="idref" href="#C:282"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>) (<a id="rest:283" class="idref" href="#rest:283"><span class="id" title="binder">rest</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:278"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:279"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:279"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:282"><span class="id" title="variable">C</span></a>)):<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#F:273"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#34a3d230370ce50e5a12ceb61519f7cd"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:282"><span class="id" title="variable">C</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#rest:283"><span class="id" title="variable">rest</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:281"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#F:273"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#34a3d230370ce50e5a12ceb61519f7cd"><span class="id" title="variable">ϕ</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:279"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:282"><span class="id" title="variable">C</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#rest:283"><span class="id" title="variable">rest</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#4eeed44cd0d6a0bc26940e7c91bf6af4"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#34a3d230370ce50e5a12ceb61519f7cd"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:281"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab320"></a><h2 class="section">Naturality of <code>runBatch</code></h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="runBatch_naturality" class="idref" href="#runBatch_naturality"><span class="id" title="section">runBatch_naturality</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:288" class="idref" href="#H:288"><span class="id" title="binder">Applicative</span></a> <a id="H:288" class="idref" href="#H:288"><span class="id" title="binder">F</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="natural_runBatch" class="idref" href="#natural_runBatch"><span class="id" title="lemma">natural_runBatch</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="A:289" class="idref" href="#A:289"><span class="id" title="binder">A</span></a> <a id="B:290" class="idref" href="#B:290"><span class="id" title="binder">B</span></a> <a id="C1:291" class="idref" href="#C1:291"><span class="id" title="binder">C1</span></a> <a id="C2:292" class="idref" href="#C2:292"><span class="id" title="binder">C2</span></a>: <span class="id" title="keyword">Type</span>} (<a id="eb0b00ff0649118a31dbcb7ac9dd3cd5" class="idref" href="#eb0b00ff0649118a31dbcb7ac9dd3cd5"><span class="id" title="binder">ϕ</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:289"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:290"><span class="id" title="variable">B</span></a>) (<a id="f:294" class="idref" href="#f:294"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C1:291"><span class="id" title="variable">C1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C2:292"><span class="id" title="variable">C2</span></a>) (<a id="b:295" class="idref" href="#b:295"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:289"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:290"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C1:291"><span class="id" title="variable">C1</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:294"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#eb0b00ff0649118a31dbcb7ac9dd3cd5"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C1:291"><span class="id" title="variable">C1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:295"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#eb0b00ff0649118a31dbcb7ac9dd3cd5"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C2:292"><span class="id" title="variable">C2</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:289"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:290"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:294"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:295"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">C2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#app_pure_natural"><span class="id" title="method">app_pure_natural</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#map_ap"><span class="id" title="lemma">map_ap</span></a>. <span class="id" title="var">fequal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Natural_runBatch" class="idref" href="#Natural_runBatch"><span class="id" title="instance">Natural_runBatch</span></a> `(<a id="74d60da2e1cda00e3ad733e2b320e64b" class="idref" href="#74d60da2e1cda00e3ad733e2b320e64b"><span class="id" title="binder">ϕ</span></a>: <a id="A:296" class="idref" href="#A:296"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a id="B:297" class="idref" href="#B:297"><span class="id" title="binder">B</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#Natural"><span class="id" title="class">Natural</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#74d60da2e1cda00e3ad733e2b320e64b"><span class="id" title="variable">ϕ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">f</span>. <span class="id" title="var">ext</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#natural_runBatch"><span class="id" title="lemma">natural_runBatch</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="runBatch_mapfst" class="idref" href="#runBatch_mapfst"><span class="id" title="lemma">runBatch_mapfst</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> `(<a id="s:302" class="idref" href="#s:302"><span class="id" title="binder">s</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a id="A1:299" class="idref" href="#A1:299"><span class="id" title="binder">A1</span></a> <a id="B:300" class="idref" href="#B:300"><span class="id" title="binder">B</span></a> <a id="C:301" class="idref" href="#C:301"><span class="id" title="binder">C</span></a>) `(<a id="fb33683e04d0aeb918c5e7d4168885e9" class="idref" href="#fb33683e04d0aeb918c5e7d4168885e9"><span class="id" title="binder">ϕ</span></a>: <a id="A2:303" class="idref" href="#A2:303"><span class="id" title="binder">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:300"><span class="id" title="variable">B</span></a>) (<a id="f:305" class="idref" href="#f:305"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:299"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:303"><span class="id" title="variable">A2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#fb33683e04d0aeb918c5e7d4168885e9"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:305"><span class="id" title="variable">f</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:301"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#s:302"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#fb33683e04d0aeb918c5e7d4168885e9"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:301"><span class="id" title="variable">C</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:299"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:303"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:305"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#s:302"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="runBatch_mapfst'" class="idref" href="#runBatch_mapfst'"><span class="id" title="lemma">runBatch_mapfst'</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> `(<a id="50f42681afee915dde9925c12c095c24" class="idref" href="#50f42681afee915dde9925c12c095c24"><span class="id" title="binder">ϕ</span></a>: <a id="A2:306" class="idref" href="#A2:306"><span class="id" title="binder">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a id="B:307" class="idref" href="#B:307"><span class="id" title="binder">B</span></a>) `(<a id="f:310" class="idref" href="#f:310"><span class="id" title="binder">f</span></a>: <a id="A1:309" class="idref" href="#A1:309"><span class="id" title="binder">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:306"><span class="id" title="variable">A2</span></a>) <a id="C:311" class="idref" href="#C:311"><span class="id" title="binder">C</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#50f42681afee915dde9925c12c095c24"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:310"><span class="id" title="variable">f</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:311"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#50f42681afee915dde9925c12c095c24"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:311"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:309"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:306"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:310"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_mapfst"><span class="id" title="lemma">runBatch_mapfst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="runBatch_mapsnd" class="idref" href="#runBatch_mapsnd"><span class="id" title="lemma">runBatch_mapsnd</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> `(<a id="s:315" class="idref" href="#s:315"><span class="id" title="binder">s</span></a>: @<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a id="A:312" class="idref" href="#A:312"><span class="id" title="binder">A</span></a> <a id="B2:313" class="idref" href="#B2:313"><span class="id" title="binder">B2</span></a> <a id="C:314" class="idref" href="#C:314"><span class="id" title="binder">C</span></a>) `(<a id="63a0bf7befab08d767adfd8b6dd02427" class="idref" href="#63a0bf7befab08d767adfd8b6dd02427"><span class="id" title="binder">ϕ</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:312"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a id="B1:316" class="idref" href="#B1:316"><span class="id" title="binder">B1</span></a>) (<a id="f:318" class="idref" href="#f:318"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:316"><span class="id" title="variable">B1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:313"><span class="id" title="variable">B2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:318"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#63a0bf7befab08d767adfd8b6dd02427"><span class="id" title="variable">ϕ</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:314"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#s:315"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#63a0bf7befab08d767adfd8b6dd02427"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:314"><span class="id" title="variable">C</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:316"><span class="id" title="variable">B1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:313"><span class="id" title="variable">B2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:318"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#s:315"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ap_map"><span class="id" title="lemma">ap_map</span></a>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#natural_runBatch"><span class="id" title="lemma">natural_runBatch</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="homomorphism:327" class="idref" href="#homomorphism:327"><span class="id" title="binder">homomorphism</span></a>: <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ApplicativeMorphism"><span class="id" title="class">ApplicativeMorphism</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a id="G:319" class="idref" href="#G:319"><span class="id" title="binder">G</span></a> <a id="bdec4509c7912582c451bde072fecea1" class="idref" href="#bdec4509c7912582c451bde072fecea1"><span class="id" title="binder">ψ</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="runBatch_morphism" class="idref" href="#runBatch_morphism"><span class="id" title="lemma">runBatch_morphism</span></a> `(<a id="edc0165faca07bc0bca090469a22e216" class="idref" href="#edc0165faca07bc0bca090469a22e216"><span class="id" title="binder">ϕ</span></a>: <a id="A:328" class="idref" href="#A:328"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a id="B:329" class="idref" href="#B:329"><span class="id" title="binder">B</span></a>) `(<a id="b:332" class="idref" href="#b:332"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:328"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:329"><span class="id" title="variable">B</span></a> <a id="C:331" class="idref" href="#C:331"><span class="id" title="binder">C</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#018a5ac35c5efd71864c6198e912efcb"><span class="id" title="variable">ψ</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:331"><span class="id" title="variable">C</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#edc0165faca07bc0bca090469a22e216"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:331"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:332"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#018a5ac35c5efd71864c6198e912efcb"><span class="id" title="variable">ψ</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:329"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#edc0165faca07bc0bca090469a22e216"><span class="id" title="variable">ϕ</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:331"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:332"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#appmor_pure"><span class="id" title="method">appmor_pure</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ap_morphism_1"><span class="id" title="lemma">ap_morphism_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="runBatch_morphism'" class="idref" href="#runBatch_morphism'"><span class="id" title="lemma">runBatch_morphism'</span></a> `(<a id="f8e7e57386b21695191a078750ec3b89" class="idref" href="#f8e7e57386b21695191a078750ec3b89"><span class="id" title="binder">ϕ</span></a>: <a id="A:333" class="idref" href="#A:333"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a id="B:334" class="idref" href="#B:334"><span class="id" title="binder">B</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="C:336" class="idref" href="#C:336"><span class="id" title="binder">C</span></a>, <a class="idref" href="Tealeaves.Functors.Early.Batch.html#018a5ac35c5efd71864c6198e912efcb"><span class="id" title="variable">ψ</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:336"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f8e7e57386b21695191a078750ec3b89"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:336"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#018a5ac35c5efd71864c6198e912efcb"><span class="id" title="variable">ψ</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:334"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f8e7e57386b21695191a078750ec3b89"><span class="id" title="variable">ϕ</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:336"><span class="id" title="variable">C</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism"><span class="id" title="lemma">runBatch_morphism</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_naturality"><span class="id" title="section">runBatch_naturality</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab321"></a><h2 class="section"><code>runBatch</code> as an Applicative Homomorphism</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="runBatch_morphism" class="idref" href="#runBatch_morphism"><span class="id" title="section">runBatch_morphism</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:341" class="idref" href="#H:341"><span class="id" title="binder">Applicative</span></a> <a id="H:341" class="idref" href="#H:341"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="e0b874546c6d2921a8132208613949a1" class="idref" href="#e0b874546c6d2921a8132208613949a1"><span class="id" title="binder">ϕ</span></a>: <a id="A:342" class="idref" href="#A:342"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#F:337"><span class="id" title="variable">F</span></a> <a id="B:343" class="idref" href="#B:343"><span class="id" title="binder">B</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="appmor_pure_runBatch" class="idref" href="#appmor_pure_runBatch"><span class="id" title="lemma">appmor_pure_runBatch</span></a>: <span class="id" title="keyword">∀</span> (<a id="a:345" class="idref" href="#a:345"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#9b0a9514b0502576bddad23e2eb8cc11"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:345"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:345"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="appmor_mult_runBatch" class="idref" href="#appmor_mult_runBatch"><span class="id" title="lemma">appmor_mult_runBatch</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="C:346" class="idref" href="#C:346"><span class="id" title="binder">C</span></a> <a id="D:347" class="idref" href="#D:347"><span class="id" title="binder">D</span></a>} (<a id="x:348" class="idref" href="#x:348"><span class="id" title="binder">x</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:346"><span class="id" title="variable">C</span></a>) (<a id="y:349" class="idref" href="#y:349"><span class="id" title="binder">y</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:347"><span class="id" title="variable">D</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#9b0a9514b0502576bddad23e2eb8cc11"><span class="id" title="variable">ϕ</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:346"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:347"><span class="id" title="variable">D</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#x:348"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#y:349"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#9b0a9514b0502576bddad23e2eb8cc11"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:346"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#x:348"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#9b0a9514b0502576bddad23e2eb8cc11"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:347"><span class="id" title="variable">D</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#y:349"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">y</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ANY</span> <span class="id" title="var">any</span> | <span class="id" title="var">ANY</span> <span class="id" title="var">rest</span> <span class="id" title="var">IH</span> <span class="id" title="var">x'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mult_Batch_rw2"><span class="id" title="lemma">mult_Batch_rw2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_rw1"><span class="id" title="lemma">runBatch_rw1</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#triangle_4"><span class="id" title="lemma">triangle_4</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#natural_runBatch"><span class="id" title="lemma">natural_runBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_rw2"><span class="id" title="lemma">runBatch_rw2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ap"><span class="id" title="definition">ap</span></a>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#app_mult_natural_r"><span class="id" title="lemma">app_mult_natural_r</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#app_assoc"><span class="id" title="method">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IH</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#9b0a9514b0502576bddad23e2eb8cc11"><span class="id" title="variable">ϕ</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">rest</span>) <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#9b0a9514b0502576bddad23e2eb8cc11"><span class="id" title="variable">ϕ</span></a> <span class="id" title="var">x'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ap"><span class="id" title="definition">ap</span></a>. <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mult_Batch"><span class="id" title="definition">mult_Batch</span></a> ?<span class="id" title="var">jx</span> ?<span class="id" title="var">jy</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">jx</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">jy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Functors.Early.Batch.html#natural_runBatch"><span class="id" title="lemma">natural_runBatch</span></a>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#app_mult_natural_l"><span class="id" title="lemma">app_mult_natural_l</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#9b0a9514b0502576bddad23e2eb8cc11"><span class="id" title="variable">ϕ</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">rest</span>) <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#9b0a9514b0502576bddad23e2eb8cc11"><span class="id" title="variable">ϕ</span></a> <span class="id" title="var">x'</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a>. <span class="id" title="var">fequal</span>. <span class="id" title="var">now</span> <span class="id" title="var">ext</span> [[? ?] ?].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="ApplicativeMorphism_runBatch" class="idref" href="#ApplicativeMorphism_runBatch"><span class="id" title="instance">ApplicativeMorphism_runBatch</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ApplicativeMorphism"><span class="id" title="class">ApplicativeMorphism</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#9b0a9514b0502576bddad23e2eb8cc11"><span class="id" title="variable">ϕ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#natural_runBatch"><span class="id" title="lemma">natural_runBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#appmor_mult_runBatch"><span class="id" title="lemma">appmor_mult_runBatch</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_morphism"><span class="id" title="section">runBatch_morphism</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab322"></a><h1 class="section"><code>Batch</code> as a Parameterized Monad</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="parameterised_monad" class="idref" href="#parameterised_monad"><span class="id" title="section">parameterised_monad</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab323"></a><h2 class="section">Operations <code>batch</code> and <code>join_Batch</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="batch" class="idref" href="#batch"><span class="id" title="definition">batch</span></a> (<a id="A:350" class="idref" href="#A:350"><span class="id" title="binder">A</span></a> <a id="B:351" class="idref" href="#B:351"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>): <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:350"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:350"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:351"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:351"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:350"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:351"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:351"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:350"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:351"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:351"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:351"><span class="id" title="variable">B</span></a>) (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:351"><span class="id" title="variable">B</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="join_Batch" class="idref" href="#join_Batch"><span class="id" title="definition">join_Batch</span></a> {<a id="A:352" class="idref" href="#A:352"><span class="id" title="binder">A</span></a> <a id="B:353" class="idref" href="#B:353"><span class="id" title="binder">B</span></a> <a id="C:354" class="idref" href="#C:354"><span class="id" title="binder">C</span></a> <a id="D:355" class="idref" href="#D:355"><span class="id" title="binder">D</span></a>: <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="b:356" class="idref" href="#b:356"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:352"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:353"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:354"><span class="id" title="variable">C</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:354"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:355"><span class="id" title="variable">D</span></a>): <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:352"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:353"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:355"><span class="id" title="variable">D</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:356"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">d</span> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rest</span> <span class="id" title="var">a</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ap"><span class="id" title="definition">ap</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:352"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:353"><span class="id" title="variable">B</span></a>) (@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#join_Batch:357"><span class="id" title="definition">join_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:352"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:353"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:354"><span class="id" title="variable">C</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:354"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:355"><span class="id" title="variable">D</span></a>) <span class="id" title="var">rest</span>) <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="join_Batch_rw1" class="idref" href="#join_Batch_rw1"><span class="id" title="lemma">join_Batch_rw1</span></a> {<a id="A:359" class="idref" href="#A:359"><span class="id" title="binder">A</span></a> <a id="B:360" class="idref" href="#B:360"><span class="id" title="binder">B</span></a> <a id="C:361" class="idref" href="#C:361"><span class="id" title="binder">C</span></a> <a id="D:362" class="idref" href="#D:362"><span class="id" title="binder">D</span></a>: <span class="id" title="keyword">Type</span>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="rest:363" class="idref" href="#rest:363"><span class="id" title="binder">rest</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:359"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:360"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:361"><span class="id" title="variable">C</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:361"><span class="id" title="variable">C</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:361"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:362"><span class="id" title="variable">D</span></a>)) (<a id="b:364" class="idref" href="#b:364"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:359"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:360"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:361"><span class="id" title="variable">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#join_Batch"><span class="id" title="definition">join_Batch</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#rest:363"><span class="id" title="variable">rest</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:364"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#join_Batch"><span class="id" title="definition">join_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#rest:363"><span class="id" title="variable">rest</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#4eeed44cd0d6a0bc26940e7c91bf6af4"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:364"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab324"></a><h2 class="section"><code>join_Batch</code> as <code>runBatch (Batch A B) id</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="join_Batch_to_runBatch" class="idref" href="#join_Batch_to_runBatch"><span class="id" title="lemma">join_Batch_to_runBatch</span></a>: <span class="id" title="keyword">∀</span> (<a id="A:365" class="idref" href="#A:365"><span class="id" title="binder">A</span></a> <a id="B:366" class="idref" href="#B:366"><span class="id" title="binder">B</span></a> <a id="C:367" class="idref" href="#C:367"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#join_Batch"><span class="id" title="definition">join_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:365"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:366"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:367"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:365"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:366"><span class="id" title="variable">B</span></a>) (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:365"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:366"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:367"><span class="id" title="variable">C</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> <span class="id" title="var">D</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">D</span> <span class="id" title="var">d</span> | <span class="id" title="var">D</span> <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#join_Batch_rw1"><span class="id" title="lemma">join_Batch_rw1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHrest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab325"></a><h2 class="section">Naturality</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ret_natural" class="idref" href="#ret_natural"><span class="id" title="lemma">ret_natural</span></a> (<a id="A1:368" class="idref" href="#A1:368"><span class="id" title="binder">A1</span></a> <a id="A2:369" class="idref" href="#A2:369"><span class="id" title="binder">A2</span></a> <a id="B:370" class="idref" href="#B:370"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:371" class="idref" href="#f:371"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:368"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:369"><span class="id" title="variable">A2</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:368"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:369"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:371"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#batch"><span class="id" title="definition">batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A1:368"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:370"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#batch"><span class="id" title="definition">batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A2:369"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:370"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:371"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ret_dinatural" class="idref" href="#ret_dinatural"><span class="id" title="lemma">ret_dinatural</span></a> (<a id="A:372" class="idref" href="#A:372"><span class="id" title="binder">A</span></a> <a id="B1:373" class="idref" href="#B1:373"><span class="id" title="binder">B1</span></a> <a id="B2:374" class="idref" href="#B2:374"><span class="id" title="binder">B2</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:375" class="idref" href="#f:375"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:373"><span class="id" title="variable">B1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:374"><span class="id" title="variable">B2</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:373"><span class="id" title="variable">B1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:374"><span class="id" title="variable">B2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:375"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#batch"><span class="id" title="definition">batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:372"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B2:374"><span class="id" title="variable">B2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:372"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:373"><span class="id" title="variable">B1</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:375"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#batch"><span class="id" title="definition">batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:372"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B1:373"><span class="id" title="variable">B1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab326"></a><h2 class="section"><code>join</code> as an Applicative Homomorphism</h2>

</div>
<div class="code">
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="ApplicativeMorphism_join_Batch" class="idref" href="#ApplicativeMorphism_join_Batch"><span class="id" title="instance">ApplicativeMorphism_join_Batch</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="A:376" class="idref" href="#A:376"><span class="id" title="binder">A</span></a> <a id="B:377" class="idref" href="#B:377"><span class="id" title="binder">B</span></a> <a id="C:378" class="idref" href="#C:378"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ApplicativeMorphism"><span class="id" title="class">ApplicativeMorphism</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:376"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:377"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:378"><span class="id" title="variable">C</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:378"><span class="id" title="variable">C</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:376"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:377"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#join_Batch"><span class="id" title="definition">join_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:376"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:377"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:378"><span class="id" title="variable">C</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#join_Batch_to_runBatch"><span class="id" title="lemma">join_Batch_to_runBatch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#ApplicativeMorphism_runBatch"><span class="id" title="instance">ApplicativeMorphism_runBatch</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab327"></a><h2 class="section">Other Laws</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="runBatch_batch" class="idref" href="#runBatch_batch"><span class="id" title="lemma">runBatch_batch</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="G:379" class="idref" href="#G:379"><span class="id" title="binder">G</span></a>: <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) `{<a id="H:383" class="idref" href="#H:383"><span class="id" title="binder">Applicative</span></a> <a id="H:383" class="idref" href="#H:383"><span class="id" title="binder">G</span></a>} (<a id="A:384" class="idref" href="#A:384"><span class="id" title="binder">A</span></a> <a id="B:385" class="idref" href="#B:385"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:386" class="idref" href="#f:386"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:384"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G:379"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:385"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G:379"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:386"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:385"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#batch"><span class="id" title="definition">batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:384"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:385"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:386"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> <span class="id" title="var">a</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ap1"><span class="id" title="lemma">ap1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="runBatch_batch_id" class="idref" href="#runBatch_batch_id"><span class="id" title="lemma">runBatch_batch_id</span></a>: <span class="id" title="keyword">∀</span> (<a id="A:387" class="idref" href="#A:387"><span class="id" title="binder">A</span></a> <a id="B:388" class="idref" href="#B:388"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:387"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:388"><span class="id" title="variable">B</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#batch"><span class="id" title="definition">batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:387"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:388"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:388"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:387"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:388"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:388"><span class="id" title="variable">B</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">C</span> <span class="id" title="var">c</span> | <span class="id" title="var">C</span> <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHrest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">rest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">rest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>, <a class="idref" href="Tealeaves.Tactics.Prelude.html#strength_arrow"><span class="id" title="definition">strength_arrow</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">rest</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="var">rest</span>) <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_id"><span class="id" title="method">fun_map_id</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab328"></a><h2 class="section">Monad Laws</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ret_join" class="idref" href="#ret_join"><span class="id" title="lemma">ret_join</span></a>: <span class="id" title="keyword">∀</span> (<a id="A:389" class="idref" href="#A:389"><span class="id" title="binder">A</span></a> <a id="B:390" class="idref" href="#B:390"><span class="id" title="binder">B</span></a> <a id="C:391" class="idref" href="#C:391"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a>@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#join_Batch"><span class="id" title="definition">join_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:389"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:390"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:391"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:391"><span class="id" title="variable">C</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#batch"><span class="id" title="definition">batch</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:389"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:390"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:391"><span class="id" title="variable">C</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:391"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:389"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:390"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:391"><span class="id" title="variable">C</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">C</span> <span class="id" title="var">c</span> | <span class="id" title="var">C</span> <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#batch"><span class="id" title="definition">batch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#join_Batch"><span class="id" title="definition">join_Batch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span> (<span class="id" title="var">C</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">C</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="var">C</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ap1"><span class="id" title="lemma">ap1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="join_map_ret" class="idref" href="#join_map_ret"><span class="id" title="lemma">join_map_ret</span></a>: <span class="id" title="keyword">∀</span> (<a id="A:392" class="idref" href="#A:392"><span class="id" title="binder">A</span></a> <a id="B:393" class="idref" href="#B:393"><span class="id" title="binder">B</span></a> <a id="C:394" class="idref" href="#C:394"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a>@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#join_Batch"><span class="id" title="definition">join_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:392"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:393"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:393"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:394"><span class="id" title="variable">C</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:392"><span class="id" title="variable">A</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:392"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:393"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:393"><span class="id" title="variable">B</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#batch"><span class="id" title="definition">batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:392"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:393"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:392"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:393"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:394"><span class="id" title="variable">C</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">C</span> <span class="id" title="var">c</span> | <span class="id" title="var">C</span> <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHrest</span>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">rest</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">rest</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:401" class="idref" href="#pat:401"><span class="id" title="binder">(</span></a><a id="pat:401" class="idref" href="#pat:401"><span class="id" title="binder">f</span></a><a id="pat:401" class="idref" href="#pat:401"><span class="id" title="binder">,</span></a> <a id="pat:401" class="idref" href="#pat:401"><span class="id" title="binder">a0</span></a><a id="pat:401" class="idref" href="#pat:401"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:396"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a0:395"><span class="id" title="variable">a0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#strength_arrow"><span class="id" title="definition">strength_arrow</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="c:402" class="idref" href="#c:402"><span class="id" title="binder">c</span></a>: <span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">C</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:398"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">))</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">C</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> <span class="id" title="var">f</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>, <a class="idref" href="Tealeaves.Tactics.Prelude.html#strength_arrow"><span class="id" title="definition">strength_arrow</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_id"><span class="id" title="method">fun_map_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="Map_Batch_Fst" class="idref" href="#Map_Batch_Fst"><span class="id" title="instance">Map_Batch_Fst</span></a> (<a id="B:403" class="idref" href="#B:403"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#Map"><span class="id" title="class">Map</span></a> (<span class="id" title="keyword">fun</span> <a id="A:404" class="idref" href="#A:404"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:404"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:403"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:403"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="A:405" class="idref" href="#A:405"><span class="id" title="binder">A</span></a> <a id="B:406" class="idref" href="#B:406"><span class="id" title="binder">B</span></a> <a id="f:407" class="idref" href="#f:407"><span class="id" title="binder">f</span></a> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:407"><span class="id" title="variable">f</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="Return_Batch" class="idref" href="#Return_Batch"><span class="id" title="instance">Return_Batch</span></a> (<a id="B:408" class="idref" href="#B:408"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#Return"><span class="id" title="class">Return</span></a> (<span class="id" title="keyword">fun</span> <a id="A:409" class="idref" href="#A:409"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:409"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:408"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:408"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="A:410" class="idref" href="#A:410"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#batch"><span class="id" title="definition">batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:410"><span class="id" title="variable">A</span></a> <span class="id" title="var">B</span>).<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="Join_Batch" class="idref" href="#Join_Batch"><span class="id" title="instance">Join_Batch</span></a> (<a id="B:411" class="idref" href="#B:411"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Monad.html#Join"><span class="id" title="class">Join</span></a> (<span class="id" title="keyword">fun</span> <a id="A:412" class="idref" href="#A:412"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:412"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:411"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:411"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="A:413" class="idref" href="#A:413"><span class="id" title="binder">A</span></a> ⇒ @<a class="idref" href="Tealeaves.Functors.Early.Batch.html#join_Batch"><span class="id" title="definition">join_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:413"><span class="id" title="variable">A</span></a> <span class="id" title="var">B</span> <span class="id" title="var">B</span> <span class="id" title="var">B</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Goal</span> <a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">∀</span></a> <a id="B:414" class="idref" href="#B:414"><span class="id" title="binder">B</span></a><a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">,</span></a> <a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">Categorical.Monad.Monad</span></a> <a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">(</span></a><a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">fun</span></a> <a id="A:415" class="idref" href="#A:415"><span class="id" title="binder">A</span></a> <a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">⇒</span></a> <a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">Batch</span></a> <a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">A</span></a> <a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">B</span></a> <a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">B</span></a><a id="Unnamed_thm" class="idref" href="#Unnamed_thm"><span class="id" title="definition">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Map_Batch_Fst"><span class="id" title="instance">Map_Batch_Fst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Return_Batch"><span class="id" title="instance">Return_Batch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Identity.html#Map_I"><span class="id" title="instance">Map_I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Join_Batch"><span class="id" title="instance">Join_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Return_Batch"><span class="id" title="instance">Return_Batch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span>. <span class="id" title="var">ext</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Abort</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#parameterised_monad"><span class="id" title="section">parameterised_monad</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab329"></a><h1 class="section"><code>Batch</code> as a Parameterized Comonad</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="parameterized" class="idref" href="#parameterized"><span class="id" title="section">parameterized</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Implicit</span> <span class="id" title="var">Arguments</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab330"></a><h2 class="section">Operations <code>extract_Batch</code> and <code>cojoin_Batch</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="extract_Batch" class="idref" href="#extract_Batch"><span class="id" title="definition">extract_Batch</span></a> {<a id="A:416" class="idref" href="#A:416"><span class="id" title="binder">A</span></a> <a id="B:417" class="idref" href="#B:417"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>} (<a id="b:418" class="idref" href="#b:418"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:416"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:416"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:417"><span class="id" title="variable">B</span></a>): <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:417"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:418"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">b</span> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:418"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rest</span> <span class="id" title="var">a</span> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#extract_Batch:419"><span class="id" title="definition">extract_Batch</span></a> <span class="id" title="var">rest</span> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="cojoin_Batch" class="idref" href="#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> {<a id="A:421" class="idref" href="#A:421"><span class="id" title="binder">A</span></a> <a id="B:422" class="idref" href="#B:422"><span class="id" title="binder">B</span></a> <a id="C:423" class="idref" href="#C:423"><span class="id" title="binder">C</span></a> <a id="D:424" class="idref" href="#D:424"><span class="id" title="binder">D</span></a>: <span class="id" title="keyword">Type</span>} (<a id="b:425" class="idref" href="#b:425"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:421"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:423"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:424"><span class="id" title="variable">D</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:421"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:422"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:422"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:423"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:424"><span class="id" title="variable">D</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:425"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">d</span> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:421"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:422"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:422"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:423"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:424"><span class="id" title="variable">D</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:422"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:423"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:424"><span class="id" title="variable">D</span></a> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rest</span> <span class="id" title="var">a</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:421"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:422"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:422"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:423"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:424"><span class="id" title="variable">D</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:421"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:422"><span class="id" title="variable">B</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:422"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:423"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:424"><span class="id" title="variable">D</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch:426"><span class="id" title="definition">cojoin_Batch</span></a> <span class="id" title="var">rest</span>)) <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab331"></a><h2 class="section">Rewriting Principles</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="extract_Batch_rw0" class="idref" href="#extract_Batch_rw0"><span class="id" title="lemma">extract_Batch_rw0</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="A:428" class="idref" href="#A:428"><span class="id" title="binder">A</span></a> <a id="C:429" class="idref" href="#C:429"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>) (<a id="c:430" class="idref" href="#c:430"><span class="id" title="binder">c</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:429"><span class="id" title="variable">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#extract_Batch"><span class="id" title="definition">extract_Batch</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:428"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:428"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:429"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:430"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:430"><span class="id" title="variable">c</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="extract_Batch_rw1" class="idref" href="#extract_Batch_rw1"><span class="id" title="lemma">extract_Batch_rw1</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="A:431" class="idref" href="#A:431"><span class="id" title="binder">A</span></a> <a id="B:432" class="idref" href="#B:432"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>) (<a id="rest:433" class="idref" href="#rest:433"><span class="id" title="binder">rest</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:431"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:431"><span class="id" title="variable">A</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:431"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:432"><span class="id" title="variable">B</span></a>)) (<a id="a:434" class="idref" href="#a:434"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:431"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#extract_Batch"><span class="id" title="definition">extract_Batch</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#rest:433"><span class="id" title="variable">rest</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:434"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#extract_Batch"><span class="id" title="definition">extract_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#rest:433"><span class="id" title="variable">rest</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:434"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cojoin_Batch_rw0" class="idref" href="#cojoin_Batch_rw0"><span class="id" title="lemma">cojoin_Batch_rw0</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="A:435" class="idref" href="#A:435"><span class="id" title="binder">A</span></a> <a id="B:436" class="idref" href="#B:436"><span class="id" title="binder">B</span></a> <a id="C:437" class="idref" href="#C:437"><span class="id" title="binder">C</span></a> <a id="D:438" class="idref" href="#D:438"><span class="id" title="binder">D</span></a>: <span class="id" title="keyword">Type</span>) (<a id="d:439" class="idref" href="#d:439"><span class="id" title="binder">d</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:438"><span class="id" title="variable">D</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:435"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:436"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:437"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:438"><span class="id" title="variable">D</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:435"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:437"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:438"><span class="id" title="variable">D</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#d:439"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:435"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:436"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:436"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:437"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:438"><span class="id" title="variable">D</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:436"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:437"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:438"><span class="id" title="variable">D</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#d:439"><span class="id" title="variable">d</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cojoin_Batch_rw1" class="idref" href="#cojoin_Batch_rw1"><span class="id" title="lemma">cojoin_Batch_rw1</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="A:440" class="idref" href="#A:440"><span class="id" title="binder">A</span></a> <a id="B:441" class="idref" href="#B:441"><span class="id" title="binder">B</span></a> <a id="C:442" class="idref" href="#C:442"><span class="id" title="binder">C</span></a> <a id="D:443" class="idref" href="#D:443"><span class="id" title="binder">D</span></a>: <span class="id" title="keyword">Type</span>) (<a id="rest:444" class="idref" href="#rest:444"><span class="id" title="binder">rest</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:440"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:442"><span class="id" title="variable">C</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:442"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:443"><span class="id" title="variable">D</span></a>)) (<a id="a:445" class="idref" href="#a:445"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:440"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:440"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:441"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:442"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:443"><span class="id" title="variable">D</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#rest:444"><span class="id" title="variable">rest</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:445"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:440"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:441"><span class="id" title="variable">B</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:441"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:442"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:443"><span class="id" title="variable">D</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#rest:444"><span class="id" title="variable">rest</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:445"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab332"></a><h2 class="section"><code>extract_Batch</code> as <code>runBatch (fun A =&gt; A) id</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="extract_Batch_to_runBatch" class="idref" href="#extract_Batch_to_runBatch"><span class="id" title="lemma">extract_Batch_to_runBatch</span></a>: <span class="id" title="keyword">∀</span> (<a id="A:446" class="idref" href="#A:446"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#extract_Batch"><span class="id" title="definition">extract_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:446"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (<span class="id" title="keyword">fun</span> <a id="A:447" class="idref" href="#A:447"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:447"><span class="id" title="variable">A</span></a>) (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:446"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> <span class="id" title="var">B</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab333"></a><h2 class="section"><code>cojoin_Batch</code> as <code>runBatch double_batch</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="double_batch" class="idref" href="#double_batch"><span class="id" title="definition">double_batch</span></a> {<a id="A:448" class="idref" href="#A:448"><span class="id" title="binder">A</span></a> <a id="B:449" class="idref" href="#B:449"><span class="id" title="binder">B</span></a> <a id="C:450" class="idref" href="#C:450"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:448"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:448"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:449"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:449"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:450"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:450"><span class="id" title="variable">C</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:448"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:449"><span class="id" title="variable">B</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#batch"><span class="id" title="definition">batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:449"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:450"><span class="id" title="variable">C</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Early.Batch.html#batch"><span class="id" title="definition">batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:448"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:449"><span class="id" title="variable">B</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="double_batch_rw" class="idref" href="#double_batch_rw"><span class="id" title="lemma">double_batch_rw</span></a> {<a id="A:451" class="idref" href="#A:451"><span class="id" title="binder">A</span></a> <a id="B:452" class="idref" href="#B:452"><span class="id" title="binder">B</span></a> <a id="C:453" class="idref" href="#C:453"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>} (<a id="a:454" class="idref" href="#a:454"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:451"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#double_batch"><span class="id" title="definition">double_batch</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:452"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">C</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:453"><span class="id" title="variable">C</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:454"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:451"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:452"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:452"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:452"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:453"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:453"><span class="id" title="variable">C</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#batch"><span class="id" title="definition">batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:452"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:453"><span class="id" title="variable">C</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:454"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="double_batch_spec" class="idref" href="#double_batch_spec"><span class="id" title="lemma">double_batch_spec</span></a>: <span class="id" title="keyword">∀</span> (<a id="A:455" class="idref" href="#A:455"><span class="id" title="binder">A</span></a> <a id="B:456" class="idref" href="#B:456"><span class="id" title="binder">B</span></a> <a id="C:457" class="idref" href="#C:457"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#double_batch"><span class="id" title="definition">double_batch</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#batch"><span class="id" title="definition">batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:456"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:457"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#1c88ff5532c3a847b1beb4908cee4f91"><span class="id" title="notation">⋆2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#batch"><span class="id" title="definition">batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:455"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:456"><span class="id" title="variable">B</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cojoin_Batch_to_runBatch" class="idref" href="#cojoin_Batch_to_runBatch"><span class="id" title="lemma">cojoin_Batch_to_runBatch</span></a>: <span class="id" title="keyword">∀</span> (<a id="A:458" class="idref" href="#A:458"><span class="id" title="binder">A</span></a> <a id="B:459" class="idref" href="#B:459"><span class="id" title="binder">B</span></a> <a id="C:460" class="idref" href="#C:460"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:458"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:459"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:460"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:458"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:459"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:459"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:460"><span class="id" title="variable">C</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#double_batch"><span class="id" title="definition">double_batch</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> <span class="id" title="var">D</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">D</span> <span class="id" title="var">d</span> | <span class="id" title="var">D</span> <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">B</span> <span class="id" title="var">C</span>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#double_batch"><span class="id" title="definition">double_batch</span></a> (<span class="id" title="var">C</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">D</span>) <span class="id" title="var">rest</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">B</span> <span class="id" title="var">C</span>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#double_batch"><span class="id" title="definition">double_batch</span></a> (<span class="id" title="var">C</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">D</span>) <span class="id" title="var">rest</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">B</span> <span class="id" title="var">C</span>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#double_batch"><span class="id" title="definition">double_batch</span></a> (<span class="id" title="var">C</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">D</span>) <span class="id" title="var">rest</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHrest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> <span class="id" title="var">rest</span> <span class="id" title="var">b</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">rest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">rest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_id"><span class="id" title="method">fun_map_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab334"></a><h2 class="section"><code>extract_Batch</code> and <code>cojoin_Batch</code> as Applicative Homomorphisms</h2>

</div>
<div class="code">
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="ApplicativeMorphism_extract_Batch" class="idref" href="#ApplicativeMorphism_extract_Batch"><span class="id" title="instance">ApplicativeMorphism_extract_Batch</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="A:461" class="idref" href="#A:461"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ApplicativeMorphism"><span class="id" title="class">ApplicativeMorphism</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:461"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:461"><span class="id" title="variable">A</span></a>) (<span class="id" title="keyword">fun</span> <a id="A:462" class="idref" href="#A:462"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:462"><span class="id" title="variable">A</span></a>) (@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#extract_Batch"><span class="id" title="definition">extract_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:461"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#extract_Batch_to_runBatch"><span class="id" title="lemma">extract_Batch_to_runBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#ApplicativeMorphism_runBatch"><span class="id" title="instance">ApplicativeMorphism_runBatch</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="ApplicativeMorphism_cojoin_Batch" class="idref" href="#ApplicativeMorphism_cojoin_Batch"><span class="id" title="instance">ApplicativeMorphism_cojoin_Batch</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="A:463" class="idref" href="#A:463"><span class="id" title="binder">A</span></a> <a id="B:464" class="idref" href="#B:464"><span class="id" title="binder">B</span></a> <a id="C:465" class="idref" href="#C:465"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ApplicativeMorphism"><span class="id" title="class">ApplicativeMorphism</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:463"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:465"><span class="id" title="variable">C</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:463"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:464"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:464"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:465"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:463"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:464"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:465"><span class="id" title="variable">C</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch_to_runBatch"><span class="id" title="lemma">cojoin_Batch_to_runBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#ApplicativeMorphism_runBatch"><span class="id" title="instance">ApplicativeMorphism_runBatch</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab335"></a><h2 class="section">Composition with <code>ret</code>/<code>batch</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="extract_Batch_batch" class="idref" href="#extract_Batch_batch"><span class="id" title="lemma">extract_Batch_batch</span></a>: <span class="id" title="keyword">∀</span> (<a id="A:466" class="idref" href="#A:466"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#extract_Batch"><span class="id" title="definition">extract_Batch</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#batch"><span class="id" title="definition">batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:466"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:466"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:466"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cojoin_Batch_batch" class="idref" href="#cojoin_Batch_batch"><span class="id" title="lemma">cojoin_Batch_batch</span></a>: <span class="id" title="keyword">∀</span> (<a id="A:467" class="idref" href="#A:467"><span class="id" title="binder">A</span></a> <a id="B:468" class="idref" href="#B:468"><span class="id" title="binder">B</span></a> <a id="C:469" class="idref" href="#C:469"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:467"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:468"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:469"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:469"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#batch"><span class="id" title="definition">batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:467"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:469"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#double_batch"><span class="id" title="definition">double_batch</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch_to_runBatch"><span class="id" title="lemma">cojoin_Batch_to_runBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch_batch"><span class="id" title="lemma">runBatch_batch</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">B</span> <span class="id" title="var">C</span>) <span class="id" title="var">A</span> <span class="id" title="var">C</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab336"></a><h2 class="section">Naturality</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="extract_natural" class="idref" href="#extract_natural"><span class="id" title="lemma">extract_natural</span></a> (<a id="A:470" class="idref" href="#A:470"><span class="id" title="binder">A</span></a> <a id="C:471" class="idref" href="#C:471"><span class="id" title="binder">C</span></a> <a id="D:472" class="idref" href="#D:472"><span class="id" title="binder">D</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:473" class="idref" href="#f:473"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:471"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:472"><span class="id" title="variable">D</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="b:474" class="idref" href="#b:474"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:470"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:470"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:471"><span class="id" title="variable">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#extract_Batch"><span class="id" title="definition">extract_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:470"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:472"><span class="id" title="variable">D</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:470"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:470"><span class="id" title="variable">A</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:473"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:474"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:473"><span class="id" title="variable">f</span></a> (@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#extract_Batch"><span class="id" title="definition">extract_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:470"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:471"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:474"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">D</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">C</span> <span class="id" title="var">c</span> | <span class="id" title="var">C</span> <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span> <span class="id" title="var">a</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">D</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHrest</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="extract_dinatural" class="idref" href="#extract_dinatural"><span class="id" title="lemma">extract_dinatural</span></a> (<a id="A:475" class="idref" href="#A:475"><span class="id" title="binder">A</span></a> <a id="B:476" class="idref" href="#B:476"><span class="id" title="binder">B</span></a> <a id="C:477" class="idref" href="#C:477"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:478" class="idref" href="#f:478"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:475"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:476"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="b:479" class="idref" href="#b:479"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:475"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:476"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:477"><span class="id" title="variable">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#extract_Batch"><span class="id" title="definition">extract_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:476"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:477"><span class="id" title="variable">C</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:475"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:476"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:478"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:479"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#extract_Batch"><span class="id" title="definition">extract_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:475"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:477"><span class="id" title="variable">C</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:475"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:476"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:478"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:479"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">C</span> <span class="id" title="var">c</span> | <span class="id" title="var">C</span> <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHrest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#extract_natural"><span class="id" title="lemma">extract_natural</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cojoin_natural" class="idref" href="#cojoin_natural"><span class="id" title="lemma">cojoin_natural</span></a> (<a id="A:480" class="idref" href="#A:480"><span class="id" title="binder">A</span></a> <a id="B:481" class="idref" href="#B:481"><span class="id" title="binder">B</span></a> <a id="C:482" class="idref" href="#C:482"><span class="id" title="binder">C</span></a> <a id="D:483" class="idref" href="#D:483"><span class="id" title="binder">D</span></a> <a id="E:484" class="idref" href="#E:484"><span class="id" title="binder">E</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:485" class="idref" href="#f:485"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:483"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#E:484"><span class="id" title="variable">E</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="b:486" class="idref" href="#b:486"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:480"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:482"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:483"><span class="id" title="variable">D</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:480"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:481"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:482"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#E:484"><span class="id" title="variable">E</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:480"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:482"><span class="id" title="variable">C</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:485"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:486"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:480"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:481"><span class="id" title="variable">B</span></a>) (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:481"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:482"><span class="id" title="variable">C</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:485"><span class="id" title="variable">f</span></a>) (@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:480"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:481"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:482"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:483"><span class="id" title="variable">D</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:486"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">D</span> <span class="id" title="var">d</span> | <span class="id" title="var">D</span> <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span> <span class="id" title="var">a</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">E</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHrest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> (<span class="id" title="var">B</span> := <span class="id" title="var">B</span>) <span class="id" title="var">rest</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cojoin_natural1" class="idref" href="#cojoin_natural1"><span class="id" title="lemma">cojoin_natural1</span></a> (<a id="A:487" class="idref" href="#A:487"><span class="id" title="binder">A</span></a> <a id="A':488" class="idref" href="#A':488"><span class="id" title="binder">A'</span></a> <a id="B:489" class="idref" href="#B:489"><span class="id" title="binder">B</span></a> <a id="C:490" class="idref" href="#C:490"><span class="id" title="binder">C</span></a> <a id="D:491" class="idref" href="#D:491"><span class="id" title="binder">D</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:492" class="idref" href="#f:492"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:487"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':488"><span class="id" title="variable">A'</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="b:493" class="idref" href="#b:493"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:487"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:490"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:491"><span class="id" title="variable">D</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':488"><span class="id" title="variable">A'</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:489"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:490"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:491"><span class="id" title="variable">D</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:492"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:493"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:492"><span class="id" title="variable">f</span></a> (@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:487"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:489"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:490"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:491"><span class="id" title="variable">D</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:493"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">D</span> <span class="id" title="var">d</span> | <span class="id" title="var">D</span> <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHrest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_map_Batch"><span class="id" title="lemma">mapfst_map_Batch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cojoin_natural2" class="idref" href="#cojoin_natural2"><span class="id" title="lemma">cojoin_natural2</span></a> (<a id="A:494" class="idref" href="#A:494"><span class="id" title="binder">A</span></a> <a id="B:495" class="idref" href="#B:495"><span class="id" title="binder">B</span></a> <a id="C:496" class="idref" href="#C:496"><span class="id" title="binder">C</span></a> <a id="C':497" class="idref" href="#C':497"><span class="id" title="binder">C'</span></a> <a id="D:498" class="idref" href="#D:498"><span class="id" title="binder">D</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:499" class="idref" href="#f:499"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:496"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C':497"><span class="id" title="variable">C'</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="b:500" class="idref" href="#b:500"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:494"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C':497"><span class="id" title="variable">C'</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:498"><span class="id" title="variable">D</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:494"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:495"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:496"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:498"><span class="id" title="variable">D</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:499"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:500"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:494"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:495"><span class="id" title="variable">B</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:499"><span class="id" title="variable">f</span></a>) (@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:494"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:495"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C':497"><span class="id" title="variable">C'</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:498"><span class="id" title="variable">D</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:500"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">D</span> <span class="id" title="var">d</span> | <span class="id" title="var">D</span> <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span> <span class="id" title="var">a</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_natural"><span class="id" title="lemma">cojoin_natural</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) ?<span class="id" title="var">g</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) ?<span class="id" title="var">f</span> ?<span class="id" title="var">b</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) <span class="id" title="var">g</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) <span class="id" title="var">f</span><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">b</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHrest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) ?<span class="id" title="var">g</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) ?<span class="id" title="var">f</span> ?<span class="id" title="var">b</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) <span class="id" title="var">g</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) <span class="id" title="var">f</span><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">b</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cojoin_dinatural" class="idref" href="#cojoin_dinatural"><span class="id" title="lemma">cojoin_dinatural</span></a> (<a id="A:501" class="idref" href="#A:501"><span class="id" title="binder">A</span></a> <a id="B:502" class="idref" href="#B:502"><span class="id" title="binder">B</span></a> <a id="B':503" class="idref" href="#B':503"><span class="id" title="binder">B'</span></a> <a id="C:504" class="idref" href="#C:504"><span class="id" title="binder">C</span></a> <a id="D:505" class="idref" href="#D:505"><span class="id" title="binder">D</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:506" class="idref" href="#f:506"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:502"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B':503"><span class="id" title="variable">B'</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="b:507" class="idref" href="#b:507"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:501"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:504"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:505"><span class="id" title="variable">D</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:501"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:502"><span class="id" title="variable">B</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:506"><span class="id" title="variable">f</span></a>) (@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:501"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:502"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:504"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:505"><span class="id" title="variable">D</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:507"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:506"><span class="id" title="variable">f</span></a>) (@<a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:501"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B':503"><span class="id" title="variable">B'</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:504"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#D:505"><span class="id" title="variable">D</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:507"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">D</span> <span class="id" title="var">d</span> | <span class="id" title="var">D</span> <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> (<span class="id" title="var">B</span> := <span class="id" title="var">B</span>) <span class="id" title="var">rest</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_map_Batch"><span class="id" title="lemma">mapsnd_map_Batch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <span class="id" title="var">B</span> <span class="id" title="var">B'</span> <span class="id" title="var">f</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> (<span class="id" title="var">B</span> := <span class="id" title="var">B'</span>) <span class="id" title="var">rest</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHrest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> (<span class="id" title="var">B</span> := <span class="id" title="var">B</span>) <span class="id" title="var">rest</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab337"></a><h2 class="section">Comonad Laws</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="extr_cojoin_Batch" class="idref" href="#extr_cojoin_Batch"><span class="id" title="lemma">extr_cojoin_Batch</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`(<a class="idref" href="Tealeaves.Functors.Early.Batch.html#extract_Batch"><span class="id" title="definition">extract_Batch</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">C</span> <span class="id" title="var">c</span> | <span class="id" title="var">C</span> <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#extract_natural"><span class="id" title="lemma">extract_natural</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHrest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;Finish&nbsp;rest&nbsp;of&nbsp;the&nbsp;parameterized&nbsp;comonad&nbsp;structure.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#parameterized"><span class="id" title="section">parameterized</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab338"></a><h1 class="section"><code>Batch</code> is Traversable in the First Argument</h1>

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="traverse_Batch" class="idref" href="#traverse_Batch"><span class="id" title="definition">traverse_Batch</span></a> (<a id="B:511" class="idref" href="#B:511"><span class="id" title="binder">B</span></a> <a id="C:512" class="idref" href="#C:512"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>) (<a id="G:513" class="idref" href="#G:513"><span class="id" title="binder">G</span></a>: <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;`{<a id="H:514" class="idref" href="#H:514"><span class="id" title="binder">Map</span></a> <a id="H:514" class="idref" href="#H:514"><span class="id" title="binder">G</span></a>} `{<a id="H0:515" class="idref" href="#H0:515"><span class="id" title="binder">Pure</span></a> <a id="H0:515" class="idref" href="#H0:515"><span class="id" title="binder">G</span></a>} `{<a id="H1:516" class="idref" href="#H1:516"><span class="id" title="binder">Mult</span></a> <a id="H1:516" class="idref" href="#H1:516"><span class="id" title="binder">G</span></a>} (<a id="A:517" class="idref" href="#A:517"><span class="id" title="binder">A</span></a> <a id="A':518" class="idref" href="#A':518"><span class="id" title="binder">A'</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:519" class="idref" href="#f:519"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:517"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G:513"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':518"><span class="id" title="variable">A'</span></a>)<br/>
&nbsp;&nbsp;(<a id="b:520" class="idref" href="#b:520"><span class="id" title="binder">b</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:517"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:511"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:512"><span class="id" title="variable">C</span></a>): <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G:513"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':518"><span class="id" title="variable">A'</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:511"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:512"><span class="id" title="variable">C</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#b:520"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">c</span> ⇒ <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G:513"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':518"><span class="id" title="variable">A'</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:511"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:512"><span class="id" title="variable">C</span></a> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rest</span> <span class="id" title="var">a</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G:513"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':518"><span class="id" title="variable">A'</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:511"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:512"><span class="id" title="variable">C</span></a>) <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#4eeed44cd0d6a0bc26940e7c91bf6af4"><span class="id" title="notation">&lt;⋆&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#traverse_Batch:521"><span class="id" title="definition">traverse_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:511"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:511"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:512"><span class="id" title="variable">C</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G:513"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:517"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':518"><span class="id" title="variable">A'</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:519"><span class="id" title="variable">f</span></a> <span class="id" title="var">rest</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#4eeed44cd0d6a0bc26940e7c91bf6af4"><span class="id" title="notation">&lt;⋆&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:519"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Traverse_Batch1" class="idref" href="#Traverse_Batch1"><span class="id" title="instance">Traverse_Batch1</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="B:523" class="idref" href="#B:523"><span class="id" title="binder">B</span></a> <a id="C:524" class="idref" href="#C:524"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>), <a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#Traverse"><span class="id" title="class">Traverse</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:523"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:524"><span class="id" title="variable">C</span></a>) := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#traverse_Batch"><span class="id" title="definition">traverse_Batch</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab339"></a><h2 class="section">Rewriting Principles</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="traverse_Batch_rw1" class="idref" href="#traverse_Batch_rw1"><span class="id" title="lemma">traverse_Batch_rw1</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="B:525" class="idref" href="#B:525"><span class="id" title="binder">B</span></a> <a id="C:526" class="idref" href="#C:526"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="G:527" class="idref" href="#G:527"><span class="id" title="binder">G</span></a>: <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:528" class="idref" href="#H:528"><span class="id" title="binder">Map</span></a> <a id="H:528" class="idref" href="#H:528"><span class="id" title="binder">G</span></a>} `{<a id="H0:529" class="idref" href="#H0:529"><span class="id" title="binder">Pure</span></a> <a id="H0:529" class="idref" href="#H0:529"><span class="id" title="binder">G</span></a>} `{<a id="H1:530" class="idref" href="#H1:530"><span class="id" title="binder">Mult</span></a> <a id="H1:530" class="idref" href="#H1:530"><span class="id" title="binder">G</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A:531" class="idref" href="#A:531"><span class="id" title="binder">A</span></a> <a id="A':532" class="idref" href="#A':532"><span class="id" title="binder">A'</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:533" class="idref" href="#f:533"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:531"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G:527"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':532"><span class="id" title="variable">A'</span></a>) (<a id="c:534" class="idref" href="#c:534"><span class="id" title="binder">c</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:526"><span class="id" title="variable">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:533"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:531"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:525"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:526"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:534"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G:527"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':532"><span class="id" title="variable">A'</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:525"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:526"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#c:534"><span class="id" title="variable">c</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="traverse_Batch_rw1'" class="idref" href="#traverse_Batch_rw1'"><span class="id" title="lemma">traverse_Batch_rw1'</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="B:535" class="idref" href="#B:535"><span class="id" title="binder">B</span></a> <a id="C:536" class="idref" href="#C:536"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="G:537" class="idref" href="#G:537"><span class="id" title="binder">G</span></a>: <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:538" class="idref" href="#H:538"><span class="id" title="binder">Map</span></a> <a id="H:538" class="idref" href="#H:538"><span class="id" title="binder">G</span></a>} `{<a id="H0:539" class="idref" href="#H0:539"><span class="id" title="binder">Pure</span></a> <a id="H0:539" class="idref" href="#H0:539"><span class="id" title="binder">G</span></a>} `{<a id="H1:540" class="idref" href="#H1:540"><span class="id" title="binder">Mult</span></a> <a id="H1:540" class="idref" href="#H1:540"><span class="id" title="binder">G</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A:541" class="idref" href="#A:541"><span class="id" title="binder">A</span></a> <a id="A':542" class="idref" href="#A':542"><span class="id" title="binder">A'</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:543" class="idref" href="#f:543"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:541"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G:537"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':542"><span class="id" title="variable">A'</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:543"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:541"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:535"><span class="id" title="variable">B</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#G:537"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':542"><span class="id" title="variable">A'</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:535"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:536"><span class="id" title="variable">C</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Pure_Batch"><span class="id" title="instance">Pure_Batch</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#Pure_compose"><span class="id" title="instance">Pure_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">at</span> 1; <span class="id" title="var">ext</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#traverse_Batch_rw1"><span class="id" title="lemma">traverse_Batch_rw1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="traverse_Batch_rw2" class="idref" href="#traverse_Batch_rw2"><span class="id" title="lemma">traverse_Batch_rw2</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span>`{<a id="H:545" class="idref" href="#H:545"><span class="id" title="binder">Map</span></a> <a id="H:545" class="idref" href="#H:545"><span class="id" title="binder">G</span></a>} `{<a id="H0:546" class="idref" href="#H0:546"><span class="id" title="binder">Pure</span></a> <a id="H0:546" class="idref" href="#H0:546"><span class="id" title="binder">G</span></a>} `{<a id="H1:547" class="idref" href="#H1:547"><span class="id" title="binder">Mult</span></a> <a id="H1:547" class="idref" href="#H1:547"><span class="id" title="binder">G</span></a>}<br/>
&nbsp;&nbsp;&nbsp;`{<a id="Applicative0:548" class="idref" href="#Applicative0:548"><span class="id" title="binder">!</span></a> <a id="Applicative0:548" class="idref" href="#Applicative0:548"><span class="id" title="binder">Applicative</span></a> <a id="Applicative0:548" class="idref" href="#Applicative0:548"><span class="id" title="binder">G</span></a>}<br/>
&nbsp;&nbsp;&nbsp;(<a id="B:549" class="idref" href="#B:549"><span class="id" title="binder">B</span></a> <a id="C:550" class="idref" href="#C:550"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;(<a id="A:551" class="idref" href="#A:551"><span class="id" title="binder">A</span></a> <a id="A':552" class="idref" href="#A':552"><span class="id" title="binder">A'</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:553" class="idref" href="#f:553"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:551"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G:544"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':552"><span class="id" title="variable">A'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;(<a id="k:554" class="idref" href="#k:554"><span class="id" title="binder">k</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:551"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:549"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:549"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:550"><span class="id" title="variable">C</span></a>)) (<a id="a:555" class="idref" href="#a:555"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:551"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:553"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#k:554"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:555"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G:544"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':552"><span class="id" title="variable">A'</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:549"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:550"><span class="id" title="variable">C</span></a>) (<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G:544"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:553"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#k:554"><span class="id" title="variable">k</span></a>) <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#4eeed44cd0d6a0bc26940e7c91bf6af4"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:553"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:555"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#map_to_ap"><span class="id" title="lemma">map_to_ap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="traverse_Batch_rw2'" class="idref" href="#traverse_Batch_rw2'"><span class="id" title="lemma">traverse_Batch_rw2'</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> `{<a id="H:557" class="idref" href="#H:557"><span class="id" title="binder">Map</span></a> <a id="H:557" class="idref" href="#H:557"><span class="id" title="binder">G</span></a>} `{<a id="H0:558" class="idref" href="#H0:558"><span class="id" title="binder">Pure</span></a> <a id="H0:558" class="idref" href="#H0:558"><span class="id" title="binder">G</span></a>} `{<a id="H1:559" class="idref" href="#H1:559"><span class="id" title="binder">Mult</span></a> <a id="H1:559" class="idref" href="#H1:559"><span class="id" title="binder">G</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Applicative0:560" class="idref" href="#Applicative0:560"><span class="id" title="binder">!</span></a> <a id="Applicative0:560" class="idref" href="#Applicative0:560"><span class="id" title="binder">Applicative</span></a> <a id="Applicative0:560" class="idref" href="#Applicative0:560"><span class="id" title="binder">G</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="B:561" class="idref" href="#B:561"><span class="id" title="binder">B</span></a> <a id="C:562" class="idref" href="#C:562"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A:563" class="idref" href="#A:563"><span class="id" title="binder">A</span></a> <a id="A':564" class="idref" href="#A':564"><span class="id" title="binder">A'</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:565" class="idref" href="#f:565"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:563"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G:556"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':564"><span class="id" title="variable">A'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="k:566" class="idref" href="#k:566"><span class="id" title="binder">k</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:563"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:561"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:561"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:562"><span class="id" title="variable">C</span></a>)) (<a id="a:567" class="idref" href="#a:567"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:563"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:565"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#k:566"><span class="id" title="variable">k</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3b648b186180eed8424100a8465639ae"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:567"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G:556"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':564"><span class="id" title="variable">A'</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:561"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:562"><span class="id" title="variable">C</span></a>) (<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G:556"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:565"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#k:566"><span class="id" title="variable">k</span></a>) <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#4eeed44cd0d6a0bc26940e7c91bf6af4"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:565"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#a:567"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#traverse_Batch_rw2"><span class="id" title="lemma">traverse_Batch_rw2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="traverse_Batch_ap_rw2" class="idref" href="#traverse_Batch_ap_rw2"><span class="id" title="lemma">traverse_Batch_ap_rw2</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span>`{<a id="H:569" class="idref" href="#H:569"><span class="id" title="binder">Map</span></a> <a id="H:569" class="idref" href="#H:569"><span class="id" title="binder">G</span></a>} `{<a id="H0:570" class="idref" href="#H0:570"><span class="id" title="binder">Pure</span></a> <a id="H0:570" class="idref" href="#H0:570"><span class="id" title="binder">G</span></a>} `{<a id="H1:571" class="idref" href="#H1:571"><span class="id" title="binder">Mult</span></a> <a id="H1:571" class="idref" href="#H1:571"><span class="id" title="binder">G</span></a>}<br/>
&nbsp;&nbsp;&nbsp;`{<a id="Applicative0:572" class="idref" href="#Applicative0:572"><span class="id" title="binder">!</span></a> <a id="Applicative0:572" class="idref" href="#Applicative0:572"><span class="id" title="binder">Applicative</span></a> <a id="Applicative0:572" class="idref" href="#Applicative0:572"><span class="id" title="binder">G</span></a>}<br/>
&nbsp;&nbsp;&nbsp;(<a id="B:573" class="idref" href="#B:573"><span class="id" title="binder">B</span></a> <a id="C:574" class="idref" href="#C:574"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;(<a id="A:575" class="idref" href="#A:575"><span class="id" title="binder">A</span></a> <a id="A':576" class="idref" href="#A':576"><span class="id" title="binder">A'</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:577" class="idref" href="#f:577"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:575"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G:568"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':576"><span class="id" title="variable">A'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;{<a id="X:578" class="idref" href="#X:578"><span class="id" title="binder">X</span></a> <a id="Y:579" class="idref" href="#Y:579"><span class="id" title="binder">Y</span></a>: <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;(<a id="lhs:580" class="idref" href="#lhs:580"><span class="id" title="binder">lhs</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:575"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:573"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#X:578"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Y:579"><span class="id" title="variable">Y</span></a>))<br/>
&nbsp;&nbsp;&nbsp;(<a id="rhs:581" class="idref" href="#rhs:581"><span class="id" title="binder">rhs</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:575"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:573"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#X:578"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:573"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Y:579"><span class="id" title="variable">Y</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:577"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#lhs:580"><span class="id" title="variable">lhs</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#4eeed44cd0d6a0bc26940e7c91bf6af4"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#rhs:581"><span class="id" title="variable">rhs</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G:568"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ap"><span class="id" title="definition">ap</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':576"><span class="id" title="variable">A'</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:573"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#X:578"><span class="id" title="variable">X</span></a>) (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Y:579"><span class="id" title="variable">Y</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#4eeed44cd0d6a0bc26940e7c91bf6af4"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:573"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Early.Batch.html#X:578"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Y:579"><span class="id" title="variable">Y</span></a><a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">)</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:577"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#lhs:580"><span class="id" title="variable">lhs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#4eeed44cd0d6a0bc26940e7c91bf6af4"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:573"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#X:578"><span class="id" title="variable">X</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:577"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#rhs:581"><span class="id" title="variable">rhs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lhs</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab340"></a><h2 class="section">Traversable Functor Laws</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="trf_traverse_id_Batch" class="idref" href="#trf_traverse_id_Batch"><span class="id" title="lemma">trf_traverse_id_Batch</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="B:582" class="idref" href="#B:582"><span class="id" title="binder">B</span></a> <a id="C:583" class="idref" href="#C:583"><span class="id" title="binder">C</span></a> <a id="A:584" class="idref" href="#A:584"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:582"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:583"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">G</span> := <span class="id" title="keyword">fun</span> <a id="X:585" class="idref" href="#X:585"><span class="id" title="binder">X</span></a>: <span class="id" title="keyword">Type</span> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#X:585"><span class="id" title="variable">X</span></a>) (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:584"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">C</span> <span class="id" title="var">c</span> | <span class="id" title="var">C</span> <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Traverse_Batch1"><span class="id" title="instance">Traverse_Batch1</span></a> <span class="id" title="var">B</span> (<span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">C</span>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <span class="id" title="var">B</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">(</span></a><span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">C</span><a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">)</span></a>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHrest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trf_traverse_traverse_Batch" class="idref" href="#trf_traverse_traverse_Batch"><span class="id" title="lemma">trf_traverse_traverse_Batch</span></a> (<a id="B:586" class="idref" href="#B:586"><span class="id" title="binder">B</span></a> <a id="C:587" class="idref" href="#C:587"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>):<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> `(<a id="H0:589" class="idref" href="#H0:589"><span class="id" title="binder">H0</span></a>: <a class="idref" href="Tealeaves.Classes.Functor.html#Map"><span class="id" title="class">Map</span></a> <a id="G1:588" class="idref" href="#G1:588"><span class="id" title="binder">G1</span></a>) (<a id="H1:590" class="idref" href="#H1:590"><span class="id" title="binder">H1</span></a>: <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#Pure"><span class="id" title="class">Pure</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G1:588"><span class="id" title="variable">G1</span></a>) (<a id="H2:591" class="idref" href="#H2:591"><span class="id" title="binder">H2</span></a>: <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#Mult"><span class="id" title="class">Mult</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G1:588"><span class="id" title="variable">G1</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#Applicative"><span class="id" title="class">Applicative</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G1:588"><span class="id" title="variable">G1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> `(<a id="H4:593" class="idref" href="#H4:593"><span class="id" title="binder">H4</span></a>: <a class="idref" href="Tealeaves.Classes.Functor.html#Map"><span class="id" title="class">Map</span></a> <a id="G2:592" class="idref" href="#G2:592"><span class="id" title="binder">G2</span></a>) (<a id="H5:594" class="idref" href="#H5:594"><span class="id" title="binder">H5</span></a>: <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#Pure"><span class="id" title="class">Pure</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G2:592"><span class="id" title="variable">G2</span></a>) (<a id="H6:595" class="idref" href="#H6:595"><span class="id" title="binder">H6</span></a>: <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#Mult"><span class="id" title="class">Mult</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G2:592"><span class="id" title="variable">G2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#Applicative"><span class="id" title="class">Applicative</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G2:592"><span class="id" title="variable">G2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="A:596" class="idref" href="#A:596"><span class="id" title="binder">A</span></a> <a id="A':597" class="idref" href="#A':597"><span class="id" title="binder">A'</span></a> <a id="A'':598" class="idref" href="#A'':598"><span class="id" title="binder">A''</span></a>: <span class="id" title="keyword">Type</span>) (<a id="g:599" class="idref" href="#g:599"><span class="id" title="binder">g</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':597"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G2:592"><span class="id" title="variable">G2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A'':598"><span class="id" title="variable">A''</span></a>) (<a id="f:600" class="idref" href="#f:600"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:596"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G1:588"><span class="id" title="variable">G1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':597"><span class="id" title="variable">A'</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G1:588"><span class="id" title="variable">G1</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:586"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:587"><span class="id" title="variable">C</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#g:599"><span class="id" title="variable">g</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:586"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:587"><span class="id" title="variable">C</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:600"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:586"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:587"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G1:588"><span class="id" title="variable">G1</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G2:592"><span class="id" title="variable">G2</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#g:599"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#1c88ff5532c3a847b1beb4908cee4f91"><span class="id" title="notation">⋆2</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:600"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">C</span> <span class="id" title="var">c</span> | <span class="id" title="var">C</span> <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#app_pure_natural"><span class="id" title="method">app_pure_natural</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;RHS&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Traverse_Batch1"><span class="id" title="instance">Traverse_Batch1</span></a> <span class="id" title="var">B</span> (<span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">C</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (@<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <span class="id" title="var">B</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">(</span></a><span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">C</span><a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">)</span></a>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;cleanup&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ap_compose1"><span class="id" title="lemma">ap_compose1</span></a> <span class="id" title="var">G2</span> <span class="id" title="var">G1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ap_compose1"><span class="id" title="lemma">ap_compose1</span></a> <span class="id" title="var">G2</span> <span class="id" title="var">G1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#map_to_ap"><span class="id" title="lemma">map_to_ap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#map_ap"><span class="id" title="lemma">map_ap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#map_ap"><span class="id" title="lemma">map_ap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#app_pure_natural"><span class="id" title="method">app_pure_natural</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&lt;&lt;unfold_ops&nbsp;Pure_compose&gt;&gt;&nbsp;prevents&nbsp;&lt;&lt;&nbsp;rewrite&nbsp;&lt;-&nbsp;IHrest&gt;&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <span class="id" title="tactic">at</span> 2; <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#Pure_compose"><span class="id" title="instance">Pure_compose</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ap2"><span class="id" title="lemma">ap2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;deal&nbsp;with&nbsp;&lt;&lt;rest&gt;&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHrest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">at</span> 4.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ap_map"><span class="id" title="lemma">ap_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#app_pure_natural"><span class="id" title="method">app_pure_natural</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#kc2"><span class="id" title="definition">kc2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">at</span> 4.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ap_map"><span class="id" title="lemma">ap_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#map_ap"><span class="id" title="lemma">map_ap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#app_pure_natural"><span class="id" title="method">app_pure_natural</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;LHS&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (@<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <span class="id" title="var">B</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">(</span></a><span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">C</span><a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">)</span></a>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#map_ap"><span class="id" title="lemma">map_ap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#map_ap"><span class="id" title="lemma">map_ap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#app_pure_natural"><span class="id" title="method">app_pure_natural</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trf_traverse_morphism_Batch" class="idref" href="#trf_traverse_morphism_Batch"><span class="id" title="lemma">trf_traverse_morphism_Batch</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="B:601" class="idref" href="#B:601"><span class="id" title="binder">B</span></a> <a id="C:602" class="idref" href="#C:602"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>) (<a id="G1:603" class="idref" href="#G1:603"><span class="id" title="binder">G1</span></a> <a id="G2:604" class="idref" href="#G2:604"><span class="id" title="binder">G2</span></a>: <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H5:612" class="idref" href="#H5:612"><span class="id" title="binder">ApplicativeMorphism</span></a> <a id="H5:612" class="idref" href="#H5:612"><span class="id" title="binder">G1</span></a> <a id="H5:612" class="idref" href="#H5:612"><span class="id" title="binder">G2</span></a> <a id="H5:612" class="idref" href="#H5:612"><span class="id" title="binder">ϕ</span></a>},<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="A:613" class="idref" href="#A:613"><span class="id" title="binder">A</span></a> <a id="A':614" class="idref" href="#A':614"><span class="id" title="binder">A'</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:615" class="idref" href="#f:615"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:613"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G1:603"><span class="id" title="variable">G1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':614"><span class="id" title="variable">A'</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#65836357cbc38048389c6b082e1c3fbe"><span class="id" title="variable">ϕ</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:601"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:602"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">A'</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:601"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:602"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G1:603"><span class="id" title="variable">G1</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:615"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:601"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:602"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#G2:604"><span class="id" title="variable">G2</span></a>) (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#65836357cbc38048389c6b082e1c3fbe"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A':614"><span class="id" title="variable">A'</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#f:615"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">C</span> <span class="id" title="var">c</span> | <span class="id" title="var">C</span> <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#appmor_pure"><span class="id" title="method">appmor_pure</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Traverse_Batch1"><span class="id" title="instance">Traverse_Batch1</span></a> <span class="id" title="var">B</span> (<span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">C</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (@<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <span class="id" title="var">B</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">(</span></a><span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">C</span><a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">)</span></a>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHrest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#appmor_pure"><span class="id" title="method">appmor_pure</span></a> (<span class="id" title="var">F</span> := <span class="id" title="var">G1</span>) (<span class="id" title="var">G</span> := <span class="id" title="var">G2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ap_morphism_1"><span class="id" title="lemma">ap_morphism_1</span></a> (<span class="id" title="var">ϕ</span> := <span class="id" title="var">ϕ</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#ap_morphism_1"><span class="id" title="lemma">ap_morphism_1</span></a> (<span class="id" title="var">ϕ</span> := <span class="id" title="var">ϕ</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab341"></a><h3 class="section">Typeclass Instance</h3>

</div>
<div class="code">
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="TraversableFunctor_Batch" class="idref" href="#TraversableFunctor_Batch"><span class="id" title="instance">TraversableFunctor_Batch</span></a>: <span class="id" title="keyword">∀</span> (<a id="B:616" class="idref" href="#B:616"><span class="id" title="binder">B</span></a> <a id="C:617" class="idref" href="#C:617"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#TraversableFunctor"><span class="id" title="class">TraversableFunctor</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:616"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:617"><span class="id" title="variable">C</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="B:618" class="idref" href="#B:618"><span class="id" title="binder">B</span></a> <a id="C:619" class="idref" href="#C:619"><span class="id" title="binder">C</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#trf_traverse_id"><span class="id" title="method">trf_traverse_id</span></a> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#trf_traverse_id_Batch"><span class="id" title="lemma">trf_traverse_id_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:618"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:619"><span class="id" title="variable">C</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#trf_traverse_traverse"><span class="id" title="method">trf_traverse_traverse</span></a> := @<a class="idref" href="Tealeaves.Functors.Early.Batch.html#trf_traverse_traverse_Batch"><span class="id" title="lemma">trf_traverse_traverse_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:618"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:619"><span class="id" title="variable">C</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#trf_traverse_morphism"><span class="id" title="method">trf_traverse_morphism</span></a> := @<a class="idref" href="Tealeaves.Functors.Early.Batch.html#trf_traverse_morphism_Batch"><span class="id" title="lemma">trf_traverse_morphism_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:618"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:619"><span class="id" title="variable">C</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab342"></a><h3 class="section">Compatibility with <code>map</code></h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="map_compat_traverse_Batch1" class="idref" href="#map_compat_traverse_Batch1"><span class="id" title="lemma">map_compat_traverse_Batch1</span></a>: <span class="id" title="keyword">∀</span> (<a id="B:620" class="idref" href="#B:620"><span class="id" title="binder">B</span></a> <a id="C:621" class="idref" href="#C:621"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:620"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:621"><span class="id" title="variable">C</span></a>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:620"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:621"><span class="id" title="variable">C</span></a>) <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="A:622" class="idref" href="#A:622"><span class="id" title="binder">A</span></a> ⇒ <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:622"><span class="id" title="variable">A</span></a>) <a class="idref" href="Tealeaves.Functors.Identity.html#Map_I"><span class="id" title="instance">Map_I</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#Pure_I"><span class="id" title="instance">Pure_I</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#Mult_I"><span class="id" title="instance">Mult_I</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ext</span> <span class="id" title="var">A</span> <span class="id" title="var">A'</span> <span class="id" title="var">f</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">C</span> <span class="id" title="var">c</span> | <span class="id" title="var">C</span> <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Traverse_Batch1"><span class="id" title="instance">Traverse_Batch1</span></a> <span class="id" title="var">B</span> (<span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">C</span>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <span class="id" title="var">B</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">(</span></a><span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">C</span><a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">)</span></a>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHrest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Compat_Map_Traverse_Batch1" class="idref" href="#Compat_Map_Traverse_Batch1"><span class="id" title="instance">Compat_Map_Traverse_Batch1</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="B:623" class="idref" href="#B:623"><span class="id" title="binder">B</span></a> <a id="C:624" class="idref" href="#C:624"><span class="id" title="binder">C</span></a>, @<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#Compat_Map_Traverse"><span class="id" title="class">Compat_Map_Traverse</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:623"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:624"><span class="id" title="variable">C</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">hnf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ext</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">change_left</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <span class="id" title="var">B</span> <span class="id" title="var">C</span>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#map_compat_traverse_Batch1"><span class="id" title="lemma">map_compat_traverse_Batch1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab343"></a><h2 class="section"><code>runBatch</code> Characterized by <code>traverse</code></h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="runBatch_via_traverse" class="idref" href="#runBatch_via_traverse"><span class="id" title="lemma">runBatch_via_traverse</span></a> {<a id="A:625" class="idref" href="#A:625"><span class="id" title="binder">A</span></a> <a id="B:626" class="idref" href="#B:626"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="F:627" class="idref" href="#F:627"><span class="id" title="binder">F</span></a>: <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H:628" class="idref" href="#H:628"><span class="id" title="binder">Map</span></a> <a id="H:628" class="idref" href="#H:628"><span class="id" title="binder">F</span></a>} `{<a id="H0:629" class="idref" href="#H0:629"><span class="id" title="binder">Mult</span></a> <a id="H0:629" class="idref" href="#H0:629"><span class="id" title="binder">F</span></a>} `{<a id="H1:630" class="idref" href="#H1:630"><span class="id" title="binder">Pure</span></a> <a id="H1:630" class="idref" href="#H1:630"><span class="id" title="binder">F</span></a>} `{<a id="Applicative0:631" class="idref" href="#Applicative0:631"><span class="id" title="binder">!</span></a> <a id="Applicative0:631" class="idref" href="#Applicative0:631"><span class="id" title="binder">Applicative</span></a> <a id="Applicative0:631" class="idref" href="#Applicative0:631"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;(<a id="3e9817532e642fc71ed62b410b535df9" class="idref" href="#3e9817532e642fc71ed62b410b535df9"><span class="id" title="binder">ϕ</span></a>: <a class="idref" href="Tealeaves.Functors.Early.Batch.html#A:625"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#F:627"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:626"><span class="id" title="variable">B</span></a>) (<a id="C:633" class="idref" href="#C:633"><span class="id" title="binder">C</span></a>: <span class="id" title="keyword">Type</span>):<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#F:627"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3e9817532e642fc71ed62b410b535df9"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:633"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#F:627"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#extract_Batch"><span class="id" title="definition">extract_Batch</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#F:627"><span class="id" title="variable">F</span></a>) (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#B:626"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#C:633"><span class="id" title="variable">C</span></a>) <a class="idref" href="Tealeaves.Functors.Early.Batch.html#3e9817532e642fc71ed62b410b535df9"><span class="id" title="variable">ϕ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">C</span> <span class="id" title="var">c</span> | <span class="id" title="var">C</span> <span class="id" title="var">rest</span> <span class="id" title="var">IHrest</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#app_pure_natural"><span class="id" title="method">app_pure_natural</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHrest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (@<a class="idref" href="Tealeaves.Classes.Kleisli.TraversableFunctor.html#traverse"><span class="id" title="definition">traverse</span></a> (<a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">BATCH1</span></a> <span class="id" title="var">B</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">(</span></a><span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">C</span><a class="idref" href="Tealeaves.Functors.Early.Batch.html#:::'BATCH1'_x_x"><span class="id" title="notation">)</span></a>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#map_ap"><span class="id" title="lemma">map_ap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#map_ap"><span class="id" title="lemma">map_ap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#app_pure_natural"><span class="id" title="method">app_pure_natural</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#map_to_ap"><span class="id" title="lemma">map_to_ap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab344"></a><h1 class="section">Notations</h1>

</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a id="Notations" class="idref" href="#Notations"><span class="id" title="module">Notations</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> <a id="45a660fcade13f7b83ca57ede582a0d1" class="idref" href="#45a660fcade13f7b83ca57ede582a0d1"><span class="id" title="notation">&quot;</span></a>⧆" :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Functors.Early.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 51, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>): <span class="id" title="var">tealeaves_scope</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#Notations"><span class="id" title="module">Notations</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab345"></a><h1 class="section">Arguments</h1>

</div>
<div class="code">
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>}%<span class="id" title="var">type_scope</span> {<span class="id" title="var">G</span>}%<span class="id" title="var">function_scope</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>} <span class="id" title="var">f</span>%<span class="id" title="var">function_scope</span> {<span class="id" title="var">C</span>}%<span class="id" title="var">type_scope</span> <span class="id" title="var">b</span>: <span class="id" title="tactic">rename</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> {<span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">A1</span> <span class="id" title="var">A2</span>}%<span class="id" title="var">type_scope</span><br/>
&nbsp;&nbsp;<span class="id" title="var">f</span>%<span class="id" title="var">function_scope</span> <span class="id" title="var">b</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="Tealeaves.Functors.Early.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B1</span> <span class="id" title="var">B2</span> <span class="id" title="var">C</span>}%<span class="id" title="var">type_scope</span><br/>
&nbsp;&nbsp;<span class="id" title="var">f</span>%<span class="id" title="var">function_scope</span> <span class="id" title="var">b</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span> <img class="logo" src="./logo_96.png"> </span>
      <span class="projectname"> Tealeaves </span>
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
      <a href="../html-alectryon/toc.html"> Switch to Alectryon Docs </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Tealeaves.Backends.Adapters.NominalToLN</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.html#"><span class="id" title="library">Backends.LN</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Nominal.Common.html#"><span class="id" title="library">Backends.Nominal.Common</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Common.Names.html#"><span class="id" title="library">Backends.Common.Names</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Nominal.FV.html#"><span class="id" title="library">Backends.Nominal.FV</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#"><span class="id" title="library">Backends.Nominal.Alpha</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Option.html#"><span class="id" title="library">Functors.Option</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.LiftRel.TraversableFunctor.html#"><span class="id" title="library">LiftRel.TraversableFunctor</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Theory.DecoratedTraversableFunctorPoly.html#"><span class="id" title="library">Theory.DecoratedTraversableFunctorPoly</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.DecoratedFunctorPoly.html#"><span class="id" title="library">CategoricalToKleisli.DecoratedFunctorPoly</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.TraversableFunctor.html#"><span class="id" title="library">CategoricalToKleisli.TraversableFunctor</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.DecoratedTraversableFunctorPoly.html#"><span class="id" title="library">CategoricalToKleisli.DecoratedTraversableFunctorPoly</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Adapters.PolyToMono.Kleisli.DecoratedFunctor.html#"><span class="id" title="library">Adapters.PolyToMono.Kleisli.DecoratedFunctor</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Functors.Early.Subset.html#Notations"><span class="id" title="module">Subset.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctorPoly.html#"><span class="id" title="module">Classes.Categorical.DecoratedFunctorPoly</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ListNotations"><span class="id" title="module">List.ListNotations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#Notations"><span class="id" title="module">ContainerFunctor.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#Notations"><span class="id" title="module">Monoid.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#Notations"><span class="id" title="module">DecoratedContainerFunctor.Notations</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Generalizable</span> <span class="id" title="keyword">Variables</span> <span class="id" title="var">W</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">list_scope</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Adapters.MonoidHom.DecoratedTraversableMonad.html#"><span class="id" title="library">Adapters.MonoidHom.DecoratedTraversableMonad</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Adapters.PolyToMono.Kleisli.DecoratedFunctor.html#"><span class="id" title="library">Adapters.PolyToMono.Kleisli.DecoratedFunctor</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Adapters.PolyToMono.Kleisli.DecoratedTraversableFunctor.html#"><span class="id" title="library">Adapters.PolyToMono.Kleisli.DecoratedTraversableFunctor</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Adapters.PolyToMono.Kleisli.DecoratedTraversableMonad.html#"><span class="id" title="library">Adapters.PolyToMono.Kleisli.DecoratedTraversableMonad</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.DecoratedTraversableMonadPoly.html#"><span class="id" title="library">Adapters.CategoricalToKleisli.DecoratedTraversableMonadPoly</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1631"></a><h1 class="section">Properties about mapping over <code>list</code>/<code>Z</code></h1>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="mapd_list_prefix_const" class="idref" href="#mapd_list_prefix_const"><span class="id" title="lemma">mapd_list_prefix_const</span></a>: <span class="id" title="keyword">∀</span> (<a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span>) (<a id="w:2" class="idref" href="#w:2"><span class="id" title="binder">w</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#A:1"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdz"><span class="id" title="definition">mapdz</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#w:2"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#w:2"><span class="id" title="variable">w</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.List_Telescoping_General.html#mapd_list_prefix_spec"><span class="id" title="definition">mapd_list_prefix_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Functors.List_Telescoping_General.html#decorate_prefix_list"><span class="id" title="definition">decorate_prefix_list</span></a> <span class="id" title="var">w</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_map_map"><span class="id" title="method">fun_map_map</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cobind_Z_const" class="idref" href="#cobind_Z_const"><span class="id" title="lemma">cobind_Z_const</span></a>: <span class="id" title="keyword">∀</span> (<a id="A:3" class="idref" href="#A:3"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.Comonad.html#cobind"><span class="id" title="definition">cobind</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#A:3"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">W</span> := <a class="idref" href="Tealeaves.Functors.List_Telescoping_General.html#Z"><span class="id" title="definition">Z</span></a>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Functors.List_Telescoping_General.html#Z"><span class="id" title="definition">Z</span></a>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#mapd_list_prefix_const"><span class="id" title="lemma">mapd_list_prefix_const</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cobind_Z2_const" class="idref" href="#cobind_Z2_const"><span class="id" title="lemma">cobind_Z2_const</span></a>: <span class="id" title="keyword">∀</span> (<a id="A:4" class="idref" href="#A:4"><span class="id" title="binder">A</span></a> <a id="A':5" class="idref" href="#A':5"><span class="id" title="binder">A'</span></a> <a id="B:6" class="idref" href="#B:6"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>) (<a id="f:7" class="idref" href="#f:7"><span class="id" title="binder">f</span></a>: <a class="idref" href="Tealeaves.Functors.Z2.html#Z2"><span class="id" title="definition">Z2</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B:6"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#A:4"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#A':5"><span class="id" title="variable">A'</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Z2.html#cobind_Z2"><span class="id" title="definition">cobind_Z2</span></a> (<span class="id" title="var">B1</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B:6"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">A1</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#A:4"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#f:7"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> '<a id="pat:10" class="idref" href="#pat:10"><span class="id" title="binder">(</span></a><a id="pat:10" class="idref" href="#pat:10"><span class="id" title="binder">w</span></a><a id="pat:10" class="idref" href="#pat:10"><span class="id" title="binder">,</span></a> <a id="pat:10" class="idref" href="#pat:10"><span class="id" title="binder">a</span></a><a id="pat:10" class="idref" href="#pat:10"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#w:9"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#f:7"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#w:9"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:8"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">w</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfold_Z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Functors.List_Telescoping_General.html#mapd_list_prefix_spec"><span class="id" title="definition">mapd_list_prefix_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#mapd_list_prefix_const"><span class="id" title="lemma">mapd_list_prefix_const</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1632"></a><h1 class="section">Single-Argument DTM Instance</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="DTM" class="idref" href="#DTM"><span class="id" title="section">DTM</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.DecoratedTraversableMonadPoly.html#DerivedOperations"><span class="id" title="module">CategoricalToKleisli.DecoratedTraversableMonadPoly.DerivedOperations</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.DecoratedTraversableMonadPoly.html#DerivedInstances"><span class="id" title="module">CategoricalToKleisli.DecoratedTraversableMonadPoly.DerivedInstances</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T:11" class="idref" href="#T:11"><span class="id" title="binder">T</span></a>: <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H4:17" class="idref" href="#H4:17"><span class="id" title="binder">Categorical.DecoratedTraversableMonadPoly.DecoratedTraversableMonadPoly</span></a> <a id="H4:17" class="idref" href="#H4:17"><span class="id" title="binder">T</span></a>}.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Binddt_MONO_NAME" class="idref" href="#Binddt_MONO_NAME"><span class="id" title="instance">Binddt_MONO_NAME</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableMonad.html#Binddt"><span class="id" title="class">Binddt</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>) (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>) (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Adapters.PolyToMono.Kleisli.DecoratedTraversableMonad.html#Binddt_of_Binddtp"><span class="id" title="instance">PolyToMono.Kleisli.DecoratedTraversableMonad.Binddt_of_Binddtp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Binddt_MONO" class="idref" href="#Binddt_MONO"><span class="id" title="instance">Binddt_MONO</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableMonad.html#Binddt"><span class="id" title="class">Binddt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableMonad.html#Binddt"><span class="id" title="class">Binddt</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Adapters.PolyToMono.Kleisli.DecoratedTraversableMonad.html#Binddt_of_Binddtp"><span class="id" title="instance">PolyToMono.Kleisli.DecoratedTraversableMonad.Binddt_of_Binddtp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Adapters.MonoidHom.DecoratedTraversableMonad.html#Binddt_Morphism"><span class="id" title="instance">MonoidHom.DecoratedTraversableMonad.Binddt_Morphism</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Adapters.PolyToMono.Kleisli.DecoratedTraversableMonad.html#"><span class="id" title="module">PolyToMono.Kleisli.DecoratedTraversableMonad</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="DTM_MONO" class="idref" href="#DTM_MONO"><span class="id" title="instance">DTM_MONO</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableMonad.html#DecoratedTraversableMonad"><span class="id" title="class">DecoratedTraversableMonad</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableMonad.html#DecoratedTraversableMonad"><span class="id" title="class">DecoratedTraversableMonad</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">Fail</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">PolyToMono.Kleisli.DecoratedTraversableMonad.DTM_of_DTMP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Adapters.MonoidHom.DecoratedTraversableMonad.html#DTM_of_DTM"><span class="id" title="instance">MonoidHom.DecoratedTraversableMonad.DTM_of_DTM</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#monoid_op"><span class="id" title="definition">monoid_op</span></a>, <a class="idref" href="Tealeaves.Functors.Early.List.html#Monoid_op_list"><span class="id" title="instance">Monoid_op_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">now</span>  <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHa1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#DTM"><span class="id" title="section">DTM</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1633"></a><h1 class="section">Histories and Contexts</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="to_name_from_history" class="idref" href="#to_name_from_history"><span class="id" title="section">to_name_from_history</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1634"></a><h2 class="section"><code>to_name_from_history</code></h2>
 Perform one local binder renaming on a locally nameless binder occurrence, given the history (the names assigned
    to binders higher in the tree) and the initial avoid set.  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="to_name_from_history" class="idref" href="#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="top_avoid:18" class="idref" href="#top_avoid:18"><span class="id" title="binder">top_avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="p:19" class="idref" href="#p:19"><span class="id" title="binder">p</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>): <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#p:19"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">history</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Common.Names.html#fresh"><span class="id" title="abbreviation">fresh</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#top_avoid:18"><span class="id" title="variable">top_avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">history</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1635"></a><h3 class="section">Rewriting Principles for <code>to_name_from_history</code></h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="to_name_from_history.to_name_from_history_rw" class="idref" href="#to_name_from_history.to_name_from_history_rw"><span class="id" title="section">to_name_from_history_rw</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="avoid:21" class="idref" href="#avoid:21"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="to_name_from_history_nil" class="idref" href="#to_name_from_history_nil"><span class="id" title="lemma">to_name_from_history_nil</span></a> (<a id="u:22" class="idref" href="#u:22"><span class="id" title="binder">u</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_name_from_history_rw.avoid"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#u:22"><span class="id" title="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#fresh"><span class="id" title="abbreviation">fresh</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_name_from_history_rw.avoid"><span class="id" title="variable">avoid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="tactic">fresh</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">List.app_nil_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="to_name_from_history_pair" class="idref" href="#to_name_from_history_pair"><span class="id" title="lemma">to_name_from_history_pair</span></a> (<a id="history:23" class="idref" href="#history:23"><span class="id" title="binder">history</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<a id="u:24" class="idref" href="#u:24"><span class="id" title="binder">u</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_name_from_history_rw.avoid"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#history:23"><span class="id" title="variable">history</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#u:24"><span class="id" title="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#fresh"><span class="id" title="abbreviation">fresh</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_name_from_history_rw.avoid"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#history:23"><span class="id" title="variable">history</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="to_name_from_history_preincr" class="idref" href="#to_name_from_history_preincr"><span class="id" title="lemma">to_name_from_history_preincr</span></a> (<a id="history:25" class="idref" href="#history:25"><span class="id" title="binder">history</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_name_from_history_rw.avoid"><span class="id" title="variable">avoid</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#fcaa5764fd0dfe80ce5bd02e55897919"><span class="id" title="notation">⦿</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#history:25"><span class="id" title="variable">history</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_name_from_history_rw.avoid"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#history:25"><span class="id" title="variable">history</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">l</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#preincr"><span class="id" title="definition">preincr</span></a>, <a class="idref" href="Tealeaves.Classes.Monoid.html#incr"><span class="id" title="definition">incr</span></a>, <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history_pair"><span class="id" title="lemma">to_name_from_history_pair</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Early.List.html#Monoid_op_list"><span class="id" title="instance">Monoid_op_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">List.app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_name_from_history_rw"><span class="id" title="section">to_name_from_history_rw</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1636"></a><h3 class="section">Freshness for <code>to_name_from_history</code></h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="to_name_from_history_fresh" class="idref" href="#to_name_from_history_fresh"><span class="id" title="lemma">to_name_from_history_fresh</span></a> (<a id="avoid:26" class="idref" href="#avoid:26"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>): <span class="id" title="keyword">∀</span> <a id="p:27" class="idref" href="#p:27"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:26"><span class="id" title="variable">avoid</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#p:27"><span class="id" title="variable">p</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:26"><span class="id" title="variable">avoid</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="Tealeaves.Backends.Common.Names.html#fresh_not_in"><span class="id" title="abbreviation">fresh_not_in</span></a> (<span class="id" title="var">avoid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">l</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hyp</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.List.html#element_of_list_app"><span class="id" title="lemma">element_of_list_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1637"></a><h2 class="section"><code>to_history_from_ctx</code></h2>
 Given a locally nameless binding context (a list of unit values, representing its length-many binders in scope),
    convert the context into same-length list of names assigned to each binder, given a top-level avoid set. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="to_history_from_ctx" class="idref" href="#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> (<a id="avoid:28" class="idref" href="#avoid:28"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Nominal.Common.html#fold_with_history"><span class="id" title="definition">fold_with_history</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:28"><span class="id" title="variable">avoid</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fold_folds</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Backends.Nominal.Common.html#fold_with_history"><span class="id" title="definition">fold_with_history</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> ?<span class="id" title="var">avoid</span>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <span class="id" title="var">avoid</span>) <span class="id" title="tactic">in</span> ×.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1638"></a><h3 class="section">Basic Properties of <code>to_history_from_ctx</code></h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="length_to_history_from_ctx" class="idref" href="#length_to_history_from_ctx"><span class="id" title="lemma">length_to_history_from_ctx</span></a> (<a id="avoid:29" class="idref" href="#avoid:29"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>) (<a id="l:30" class="idref" href="#l:30"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:29"><span class="id" title="variable">avoid</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:30"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:30"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#length_fold_with_history"><span class="id" title="lemma">length_fold_with_history</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1639"></a><h3 class="section">Rewriting Principles for <code>to_history_from_ctx</code></h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="to_name_from_history.to_name_from_history_rw" class="idref" href="#to_name_from_history.to_name_from_history_rw"><span class="id" title="section">to_name_from_history_rw</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="avoid:31" class="idref" href="#avoid:31"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="to_history_from_ctx_nil" class="idref" href="#to_history_from_ctx_nil"><span class="id" title="lemma">to_history_from_ctx_nil</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_name_from_history_rw.avoid"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="to_history_from_ctx_cons" class="idref" href="#to_history_from_ctx_cons"><span class="id" title="lemma">to_history_from_ctx_cons</span></a> (<a id="u:32" class="idref" href="#u:32"><span class="id" title="binder">u</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) (<a id="pre:33" class="idref" href="#pre:33"><span class="id" title="binder">pre</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_name_from_history_rw.avoid"><span class="id" title="variable">avoid</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#u:32"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#pre:33"><span class="id" title="variable">pre</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Common.Names.html#fresh"><span class="id" title="abbreviation">fresh</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_name_from_history_rw.avoid"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_name_from_history_rw.avoid"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Backends.Common.Names.html#fresh"><span class="id" title="abbreviation">fresh</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_name_from_history_rw.avoid"><span class="id" title="variable">avoid</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#pre:33"><span class="id" title="variable">pre</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#fold_with_history_cons"><span class="id" title="lemma">fold_with_history_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history_nil"><span class="id" title="lemma">to_name_from_history_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history_nil"><span class="id" title="lemma">to_name_from_history_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> [<span class="id" title="var">x</span> <span class="id" title="var">y</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#preincr"><span class="id" title="definition">preincr</span></a>, <a class="idref" href="Tealeaves.Classes.Monoid.html#incr"><span class="id" title="definition">incr</span></a>, <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Early.List.html#Monoid_op_list"><span class="id" title="instance">Monoid_op_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">List.app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="to_history_from_ctx_preincr" class="idref" href="#to_history_from_ctx_preincr"><span class="id" title="lemma">to_history_from_ctx_preincr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="history:34" class="idref" href="#history:34"><span class="id" title="binder">history</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Nominal.Common.html#fold_with_history"><span class="id" title="definition">fold_with_history</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_name_from_history_rw.avoid"><span class="id" title="variable">avoid</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#fcaa5764fd0dfe80ce5bd02e55897919"><span class="id" title="notation">⦿</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#history:34"><span class="id" title="variable">history</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_name_from_history_rw.avoid"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#history:34"><span class="id" title="variable">history</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_name_from_history_rw.avoid"><span class="id" title="variable">avoid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">history</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#fold_with_history_cons"><span class="id" title="lemma">fold_with_history_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#fold_with_history_cons"><span class="id" title="lemma">fold_with_history_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#preincr"><span class="id" title="definition">preincr</span></a>, <a class="idref" href="Tealeaves.Classes.Monoid.html#incr"><span class="id" title="definition">incr</span></a>, <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">history</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">history</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">List.app_nil_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">List.app_nil_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#preincr_preincr"><span class="id" title="lemma">preincr_preincr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (?<span class="id" title="var">l1</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> ?<span class="id" title="var">l2</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">l1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">l2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history_preincr"><span class="id" title="lemma">to_name_from_history_preincr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">List.app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_name_from_history_rw"><span class="id" title="section">to_name_from_history_rw</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1640"></a><h3 class="section">Distributing <code>to_history_from_ctx</code> over a context</h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*&nbsp;Tailored&nbsp;for&nbsp;use&nbsp;when&nbsp;the&nbsp;list&nbsp;is&nbsp;a&nbsp;nominal&nbsp;binding&nbsp;context&nbsp;decomposition&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="to_name_from_history.to_history_from_ctx_decompose" class="idref" href="#to_name_from_history.to_history_from_ctx_decompose"><span class="id" title="section">to_history_from_ctx_decompose</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="avoid:35" class="idref" href="#avoid:35"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>) {<a id="l1:36" class="idref" href="#l1:36"><span class="id" title="binder">l1</span></a> <a id="l2:37" class="idref" href="#l2:37"><span class="id" title="binder">l2</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>} {<a id="u:38" class="idref" href="#u:38"><span class="id" title="binder">u</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="to_history_from_ctx_decompose" class="idref" href="#to_history_from_ctx_decompose"><span class="id" title="lemma">to_history_from_ctx_decompose</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_history_from_ctx_decompose.avoid"><span class="id" title="variable">avoid</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_history_from_ctx_decompose.l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_history_from_ctx_decompose.u"><span class="id" title="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_history_from_ctx_decompose.l2"><span class="id" title="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="init:39" class="idref" href="#init:39"><span class="id" title="binder">init</span></a> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_history_from_ctx_decompose.avoid"><span class="id" title="variable">avoid</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_history_from_ctx_decompose.l1"><span class="id" title="variable">l1</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mid:40" class="idref" href="#mid:40"><span class="id" title="binder">mid</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_history_from_ctx_decompose.avoid"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#init:39"><span class="id" title="variable">init</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_history_from_ctx_decompose.u"><span class="id" title="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="tail:41" class="idref" href="#tail:41"><span class="id" title="binder">tail</span></a> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_history_from_ctx_decompose.avoid"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#init:39"><span class="id" title="variable">init</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#mid:40"><span class="id" title="variable">mid</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_history_from_ctx_decompose.l2"><span class="id" title="variable">l2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#init:39"><span class="id" title="variable">init</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#mid:40"><span class="id" title="variable">mid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#tail:41"><span class="id" title="variable">tail</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#fold_with_history_decompose"><span class="id" title="lemma">fold_with_history_decompose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx_preincr"><span class="id" title="lemma">to_history_from_ctx_preincr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history.to_history_from_ctx_decompose"><span class="id" title="section">to_history_from_ctx_decompose</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1641"></a><h3 class="section">Freshness for <code>to_history_from_ctx</code></h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="to_history_from_ctx_fresh" class="idref" href="#to_history_from_ctx_fresh"><span class="id" title="lemma">to_history_from_ctx_fresh</span></a> (<a id="avoid:42" class="idref" href="#avoid:42"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>): <span class="id" title="keyword">∀</span> (<a id="prefix:43" class="idref" href="#prefix:43"><span class="id" title="binder">prefix</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="a:44" class="idref" href="#a:44"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:44"><span class="id" title="variable">a</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:42"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:44"><span class="id" title="variable">a</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:42"><span class="id" title="variable">avoid</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#prefix:43"><span class="id" title="variable">prefix</span></a><a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="tactic">cut</span>: <span class="id" title="keyword">∀</span> (<a id="x:46" class="idref" href="#x:46"><span class="id" title="binder">x</span></a>: <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>), <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#x:45"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <span class="id" title="var">avoid</span> <span class="id" title="var">prefix</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#x:45"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="tactic">cut</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="tactic">cut</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#fold_with_history_ind"><span class="id" title="lemma">fold_with_history_ind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">h</span> <span class="id" title="var">Hnotin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history_fresh"><span class="id" title="lemma">to_name_from_history_fresh</span></a> <span class="id" title="var">avoid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">h</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hfresh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1642"></a><h2 class="section"><code>to_name_from_ctx</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*&nbsp;give&nbsp;a&nbsp;name&nbsp;to&nbsp;a&nbsp;nameless&nbsp;binder&nbsp;in&nbsp;a&nbsp;context&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(********************************************************************)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="to_name_from_ctx" class="idref" href="#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> (<a id="avoid:47" class="idref" href="#avoid:47"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Nominal.Common.html#run_using_prefix"><span class="id" title="definition">run_using_prefix</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:47"><span class="id" title="variable">avoid</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab1643"></a><h3 class="section">Relation between <code>to_history_from_ctx</code> and <code>to_name_from_ctx</code></h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="to_history_from_ctx_spec" class="idref" href="#to_history_from_ctx_spec"><span class="id" title="lemma">to_history_from_ctx_spec</span></a> (<a id="avoid:48" class="idref" href="#avoid:48"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:48"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdz"><span class="id" title="definition">mapdz</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a>) (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:48"><span class="id" title="variable">avoid</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#run_using_prefix_spec"><span class="id" title="lemma">run_using_prefix_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="to_name_from_ctx_spec" class="idref" href="#to_name_from_ctx_spec"><span class="id" title="lemma">to_name_from_ctx_spec</span></a> (<a id="avoid:49" class="idref" href="#avoid:49"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>) (<a id="ctx:50" class="idref" href="#ctx:50"><span class="id" title="binder">ctx</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) (<a id="a:51" class="idref" href="#a:51"><span class="id" title="binder">a</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:49"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:50"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:51"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:49"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:49"><span class="id" title="variable">avoid</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:50"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:51"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1644"></a><h3 class="section">Rewriting rules for <code>to_name_from_ctx</code></h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="to_name_from_ctx_rw_nil" class="idref" href="#to_name_from_ctx_rw_nil"><span class="id" title="lemma">to_name_from_ctx_rw_nil</span></a> (<a id="avoid:52" class="idref" href="#avoid:52"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>): <span class="id" title="keyword">∀</span> (<a id="u:53" class="idref" href="#u:53"><span class="id" title="binder">u</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:52"><span class="id" title="variable">avoid</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#u:53"><span class="id" title="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Common.Names.html#fresh"><span class="id" title="abbreviation">fresh</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:52"><span class="id" title="variable">avoid</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">List.app_nil_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="to_name_from_ctx_rw_cons" class="idref" href="#to_name_from_ctx_rw_cons"><span class="id" title="lemma">to_name_from_ctx_rw_cons</span></a> (<a id="avoid:54" class="idref" href="#avoid:54"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>): <span class="id" title="keyword">∀</span> (<a id="u:55" class="idref" href="#u:55"><span class="id" title="binder">u</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) (<a id="rest:56" class="idref" href="#rest:56"><span class="id" title="binder">rest</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) (<a id="u':57" class="idref" href="#u':57"><span class="id" title="binder">u'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:54"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#u:55"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#rest:56"><span class="id" title="variable">rest</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#u':57"><span class="id" title="variable">u'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Common.Names.html#fresh"><span class="id" title="abbreviation">fresh</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:54"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#fresh"><span class="id" title="abbreviation">fresh</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:54"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:54"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Backends.Common.Names.html#fresh"><span class="id" title="abbreviation">fresh</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:54"><span class="id" title="variable">avoid</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#rest:56"><span class="id" title="variable">rest</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#run_using_prefix"><span class="id" title="definition">run_using_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#fold_with_history_cons"><span class="id" title="lemma">fold_with_history_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">List.app_nil_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx_preincr"><span class="id" title="lemma">to_history_from_ctx_preincr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history_nil"><span class="id" title="lemma">to_name_from_history_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1645"></a><h3 class="section">Freshness for <code>to_name_from_ctx</code></h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="to_name_from_ctx_fresh" class="idref" href="#to_name_from_ctx_fresh"><span class="id" title="lemma">to_name_from_ctx_fresh</span></a> (<a id="avoid:58" class="idref" href="#avoid:58"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>) (<a id="prefix:59" class="idref" href="#prefix:59"><span class="id" title="binder">prefix</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) (<a id="u:60" class="idref" href="#u:60"><span class="id" title="binder">u</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:58"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#prefix:59"><span class="id" title="variable">prefix</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#u:60"><span class="id" title="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:58"><span class="id" title="variable">avoid</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#run_using_prefix"><span class="id" title="definition">run_using_prefix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history_fresh"><span class="id" title="lemma">to_name_from_history_fresh</span></a> <span class="id" title="var">avoid</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Nominal.Common.html#fold_with_history"><span class="id" title="definition">fold_with_history</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> <span class="id" title="var">avoid</span>) <span class="id" title="var">prefix</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="section">to_name_from_history</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1646"></a><h1 class="section">Converting a depth to (list unit) binding context</h1>

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="length_to_list_unit" class="idref" href="#length_to_list_unit"><span class="id" title="definition">length_to_list_unit</span></a> (<a id="length:61" class="idref" href="#length:61"><span class="id" title="binder">length</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#length:61"><span class="id" title="variable">length</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#length_to_list_unit:62"><span class="id" title="definition">length_to_list_unit</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1647"></a><h1 class="section">Local Translations</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="with_DTM" class="idref" href="#with_DTM"><span class="id" title="section">with_DTM</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T:64" class="idref" href="#T:64"><span class="id" title="binder">T</span></a>: <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H2:68" class="idref" href="#H2:68"><span class="id" title="binder">Categorical.DecoratedTraversableFunctorPoly.DecoratedTraversableFunctorPoly</span></a> <a id="H2:68" class="idref" href="#H2:68"><span class="id" title="binder">T</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#"><span class="id" title="module">Kleisli.DecoratedFunctorPoly</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Adapters.PolyToMono.Categorical.DecoratedFunctor.html#"><span class="id" title="module">Categorical.DecoratedFunctor</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.DecoratedFunctorPoly.html#"><span class="id" title="module">CategoricalToKleisli.DecoratedFunctorPoly</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.DecoratedFunctorPoly.html#DerivedOperations"><span class="id" title="module">CategoricalToKleisli.DecoratedFunctorPoly.DerivedOperations</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.DecoratedFunctorPoly.html#DerivedInstances"><span class="id" title="module">CategoricalToKleisli.DecoratedFunctorPoly.DerivedInstances</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.DecoratedTraversableFunctorPoly.html#DerivedOperations"><span class="id" title="module">CategoricalToKleisli.DecoratedTraversableFunctorPoly.DerivedOperations</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.DecoratedTraversableFunctorPoly.html#DerivedInstances"><span class="id" title="module">CategoricalToKleisli.DecoratedTraversableFunctorPoly.DerivedInstances</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Adapters.PolyToMono.Categorical.DecoratedFunctor.html#ToMono1"><span class="id" title="module">PolyToMono.Categorical.DecoratedFunctor.ToMono1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Adapters.PolyToMono.Categorical.TraversableFunctor.html#ToMono"><span class="id" title="module">PolyToMono.Categorical.TraversableFunctor.ToMono</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Adapters.PolyToMono.Kleisli.DecoratedFunctor.html#ToMono1"><span class="id" title="module">PolyToMono.Kleisli.DecoratedFunctor.ToMono1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Adapters.PolyToMono.Kleisli.DecoratedFunctor.html#ToMono2"><span class="id" title="module">PolyToMono.Kleisli.DecoratedFunctor.ToMono2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.TraversableFunctor.html#DerivedOperations"><span class="id" title="module">CategoricalToKleisli.TraversableFunctor.DerivedOperations</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.TraversableFunctor.html#DerivedInstances"><span class="id" title="module">CategoricalToKleisli.TraversableFunctor.DerivedInstances</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.DecoratedTraversableFunctor.html#DerivedOperations"><span class="id" title="module">CategoricalToKleisli.DecoratedTraversableFunctor.DerivedOperations</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.DecoratedTraversableFunctor.html#DerivedInstances"><span class="id" title="module">CategoricalToKleisli.DecoratedTraversableFunctor.DerivedInstances</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Existing Instance</span> <span class="id" title="var">Theory.DecoratedTraversableFunctor.ToCtxset_Mapdt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Existing Instance</span> <span class="id" title="var">Theory.TraversableFunctor.ToSubset_Traverse</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Decorate_MONO" class="idref" href="#Decorate_MONO"><span class="id" title="instance">Decorate_MONO</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="var">E</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) (<a class="idref" href="Tealeaves.Misc.Product.html#map_fst"><span class="id" title="definition">map_fst</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>)) <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">Fail</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Categorical.DecoratedTraversableFunctorPoly.ToMono</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="DecoratedTraversableFunctor0:69" class="idref" href="#DecoratedTraversableFunctor0:69"><span class="id" title="binder">!</span></a> <a id="DecoratedTraversableFunctor0:69" class="idref" href="#DecoratedTraversableFunctor0:69"><span class="id" title="binder">DecoratedTraversableFunctor</span></a> <a id="DecoratedTraversableFunctor0:69" class="idref" href="#DecoratedTraversableFunctor0:69"><span class="id" title="binder">(</span></a><a id="DecoratedTraversableFunctor0:69" class="idref" href="#DecoratedTraversableFunctor0:69"><span class="id" title="binder">list</span></a> <a id="DecoratedTraversableFunctor0:69" class="idref" href="#DecoratedTraversableFunctor0:69"><span class="id" title="binder">atom</span></a><a id="DecoratedTraversableFunctor0:69" class="idref" href="#DecoratedTraversableFunctor0:69"><span class="id" title="binder">)</span></a> <a id="DecoratedTraversableFunctor0:69" class="idref" href="#DecoratedTraversableFunctor0:69"><span class="id" title="binder">(</span></a><a id="DecoratedTraversableFunctor0:69" class="idref" href="#DecoratedTraversableFunctor0:69"><span class="id" title="binder">T</span></a> <a id="DecoratedTraversableFunctor0:69" class="idref" href="#DecoratedTraversableFunctor0:69"><span class="id" title="binder">atom</span></a><a id="DecoratedTraversableFunctor0:69" class="idref" href="#DecoratedTraversableFunctor0:69"><span class="id" title="binder">)</span></a>}. <span class="comment">(*&nbsp;TODO&nbsp;Infer&nbsp;this&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab1648"></a><h2 class="section">Nominal to Locally Nameless</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="binding_to_ln" class="idref" href="#binding_to_ln"><span class="id" title="definition">binding_to_ln</span></a>: <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#Binding"><span class="id" title="inductive">Binding</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="b:70" class="idref" href="#b:70"><span class="id" title="binder">b</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#b:70"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#Bound"><span class="id" title="constructor">Bound</span></a> <span class="id" title="var">prefix</span> <span class="id" title="var">var</span> <span class="id" title="var">postfix</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">postfix</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#Unbound"><span class="id" title="constructor">Unbound</span></a> <span class="id" title="keyword">context</span> <span class="id" title="var">var</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">var</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="name_to_ln" class="idref" href="#name_to_ln"><span class="id" title="definition">name_to_ln</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">ctx</span> <span class="id" title="var">x</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#binding_to_ln"><span class="id" title="definition">binding_to_ln</span></a> (<a class="idref" href="Tealeaves.Backends.Nominal.Common.html#get_binding"><span class="id" title="definition">get_binding</span></a> <span class="id" title="var">ctx</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="term_nominal_to_ln" class="idref" href="#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdp"><span class="id" title="definition">mapdp</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#name_to_ln"><span class="id" title="definition">name_to_ln</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1649"></a><h2 class="section">Locally Nameless to Nominal</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*&nbsp;crash&nbsp;hard,&nbsp;crash&nbsp;often&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PANIC_INDEX_EXCEEDS_CONTEXT" class="idref" href="#PANIC_INDEX_EXCEEDS_CONTEXT"><span class="id" title="definition">PANIC_INDEX_EXCEEDS_CONTEXT</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> := 1337.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Give&nbsp;a&nbsp;DB&nbsp;index&nbsp;(Bd&nbsp;N),&nbsp;define&nbsp;its&nbsp;new&nbsp;name&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="LN_BD_to_binder_name" class="idref" href="#LN_BD_to_binder_name"><span class="id" title="definition">LN_BD_to_binder_name</span></a> (<a id="avoid:72" class="idref" href="#avoid:72"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>) (<a id="ctx:73" class="idref" href="#ctx:73"><span class="id" title="binder">ctx</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) (<a id="n:74" class="idref" href="#n:74"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>): <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Nat.html#ltb"><span class="id" title="definition">Nat.ltb</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#n:74"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:73"><span class="id" title="variable">ctx</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:72"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#length_to_list_unit"><span class="id" title="definition">length_to_list_unit</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:73"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#n:74"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">)</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#PANIC_INDEX_EXCEEDS_CONTEXT"><span class="id" title="definition">PANIC_INDEX_EXCEEDS_CONTEXT</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="LN_BD_to_binder_name_fresh" class="idref" href="#LN_BD_to_binder_name_fresh"><span class="id" title="lemma">LN_BD_to_binder_name_fresh</span></a>: <span class="id" title="keyword">∀</span> <a id="avoid:75" class="idref" href="#avoid:75"><span class="id" title="binder">avoid</span></a> <a id="a:76" class="idref" href="#a:76"><span class="id" title="binder">a</span></a> <a id="ctx:77" class="idref" href="#ctx:77"><span class="id" title="binder">ctx</span></a> <a id="n:78" class="idref" href="#n:78"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:77"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#n:78"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:76"><span class="id" title="variable">a</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:75"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#LN_BD_to_binder_name"><span class="id" title="definition">LN_BD_to_binder_name</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:75"><span class="id" title="variable">avoid</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:77"><span class="id" title="variable">ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#n:78"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:76"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hlt</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#LN_BD_to_binder_name"><span class="id" title="definition">LN_BD_to_binder_name</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">PeanoNat.Nat.ltb_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx_fresh"><span class="id" title="lemma">to_name_from_ctx_fresh</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="ln_to_name" class="idref" href="#ln_to_name"><span class="id" title="definition">ln_to_name</span></a> (<a id="avoid:79" class="idref" href="#avoid:79"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> '<a id="pat:82" class="idref" href="#pat:82"><span class="id" title="binder">(</span></a><a id="pat:82" class="idref" href="#pat:82"><span class="id" title="binder">depth</span></a><a id="pat:82" class="idref" href="#pat:82"><span class="id" title="binder">,</span></a> <a id="pat:82" class="idref" href="#pat:82"><span class="id" title="binder">v</span></a><a id="pat:82" class="idref" href="#pat:82"><span class="id" title="binder">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#v:80"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span> ⇒ <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#LN_BD_to_binder_name"><span class="id" title="definition">LN_BD_to_binder_name</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:79"><span class="id" title="variable">avoid</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#depth:81"><span class="id" title="variable">depth</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="term_ln_to_nominal" class="idref" href="#term_ln_to_nominal"><span class="id" title="definition">term_ln_to_nominal</span></a> (<a id="conflicts:84" class="idref" href="#conflicts:84"><span class="id" title="binder">conflicts</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdp"><span class="id" title="definition">mapdp</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#conflicts:84"><span class="id" title="variable">conflicts</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ln_to_name"><span class="id" title="definition">ln_to_name</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#conflicts:84"><span class="id" title="variable">conflicts</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab1650"></a><h2 class="section">Roundtrip Specifications</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;operation&nbsp;mapping&nbsp;a&nbsp;nominal&nbsp;term&nbsp;to&nbsp;a&nbsp;locally&nbsp;nameless&nbsp;term,&nbsp;then&nbsp;back&nbsp;again&nbsp;into&nbsp;a&nbsp;nominal&nbsp;term&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="roundtrip_Nominal" class="idref" href="#roundtrip_Nominal"><span class="id" title="definition">roundtrip_Nominal</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="t:85" class="idref" href="#t:85"><span class="id" title="binder">t</span></a> ⇒ <span class="id" title="keyword">let</span> <a id="t_ln:86" class="idref" href="#t_ln:86"><span class="id" title="binder">t_ln</span></a> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:85"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_ln_to_nominal"><span class="id" title="definition">term_ln_to_nominal</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">LN.free</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t_ln:86"><span class="id" title="variable">t_ln</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t_ln:86"><span class="id" title="variable">t_ln</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="roundtrip_Nominal_spec1" class="idref" href="#roundtrip_Nominal_spec1"><span class="id" title="lemma">roundtrip_Nominal_spec1</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="t:87" class="idref" href="#t:87"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Nominal"><span class="id" title="definition">roundtrip_Nominal</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:87"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdp"><span class="id" title="definition">mapdp</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#kc_dz"><span class="id" title="definition">kc_dz</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:87"><span class="id" title="variable">t</span></a>))) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#kc_dfunp"><span class="id" title="definition">kc_dfunp</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ln_to_name"><span class="id" title="definition">ln_to_name</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:87"><span class="id" title="variable">t</span></a>))) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#name_to_ln"><span class="id" title="definition">name_to_ln</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:87"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Nominal"><span class="id" title="definition">roundtrip_Nominal</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_ln_to_nominal"><span class="id" title="definition">term_ln_to_nominal</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#kdfunp_mapdp2"><span class="id" title="method">kdfunp_mapdp2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1651"></a><h2 class="section">Decomposed into a Variable Op and Binder Op</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*&nbsp;Given&nbsp;a&nbsp;binding&nbsp;occurrence&nbsp;(pre,&nbsp;b)&nbsp;in&nbsp;a&nbsp;nominal&nbsp;term&nbsp;t,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;the&nbsp;new&nbsp;name&nbsp;of&nbsp;b&nbsp;after&nbsp;a&nbsp;Nominal~&gt;LN~&gt;Nominal&nbsp;roundtrip&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="with_DTM.avoid" class="idref" href="#with_DTM.avoid"><span class="id" title="section">avoid</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="avoid:88" class="idref" href="#avoid:88"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="roundtrip_Binder_loc" class="idref" href="#roundtrip_Binder_loc"><span class="id" title="definition">roundtrip_Binder_loc</span></a>: <a class="idref" href="Tealeaves.Functors.List_Telescoping_General.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.avoid.avoid"><span class="id" title="variable">avoid</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Given&nbsp;a&nbsp;variable&nbsp;occurrence&nbsp;(pre,&nbsp;v)&nbsp;in&nbsp;a&nbsp;nominal&nbsp;term&nbsp;t,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;the&nbsp;new&nbsp;name&nbsp;of&nbsp;v&nbsp;after&nbsp;a&nbsp;Nominal~&gt;LN~&gt;Nominal&nbsp;roundtrip&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="roundtrip_Var_loc" class="idref" href="#roundtrip_Var_loc"><span class="id" title="definition">roundtrip_Var_loc</span></a>: <a class="idref" href="Tealeaves.Functors.Z2.html#Z2"><span class="id" title="definition">Z2</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#kc_dfunp"><span class="id" title="definition">kc_dfunp</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ln_to_name"><span class="id" title="definition">ln_to_name</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.avoid.avoid"><span class="id" title="variable">avoid</span></a>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#name_to_ln"><span class="id" title="definition">name_to_ln</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="roundtrip_Binder_loc_spec" class="idref" href="#roundtrip_Binder_loc_spec"><span class="id" title="lemma">roundtrip_Binder_loc_spec</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdz"><span class="id" title="definition">mapdz</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Binder_loc"><span class="id" title="definition">roundtrip_Binder_loc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.avoid.avoid"><span class="id" title="variable">avoid</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Binder_loc"><span class="id" title="definition">roundtrip_Binder_loc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx_spec"><span class="id" title="lemma">to_history_from_ctx_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdz_map_list"><span class="id" title="lemma">mapdz_map_list</span></a> (<span class="id" title="var">A'</span> := <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<span class="id" title="var">A</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Unset</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.avoid"><span class="id" title="section">avoid</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="roundtrip_Nominal_spec_decomposed" class="idref" href="#roundtrip_Nominal_spec_decomposed"><span class="id" title="lemma">roundtrip_Nominal_spec_decomposed</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="t:89" class="idref" href="#t:89"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Nominal"><span class="id" title="definition">roundtrip_Nominal</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:89"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="avoid:90" class="idref" href="#avoid:90"><span class="id" title="binder">avoid</span></a> := <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">LN.free</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:89"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="Tealeaves.Adapters.PolyToMono.Kleisli.DecoratedFunctor.html#rename_binders"><span class="id" title="definition">rename_binders</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Binder_loc"><span class="id" title="definition">roundtrip_Binder_loc</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:90"><span class="id" title="variable">avoid</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>) (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Var_loc"><span class="id" title="definition">roundtrip_Var_loc</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:90"><span class="id" title="variable">avoid</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:89"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Nominal_spec1"><span class="id" title="lemma">roundtrip_Nominal_spec1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#kc_dz"><span class="id" title="definition">kc_dz</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#cobind_Z_const"><span class="id" title="lemma">cobind_Z_const</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Adapters.PolyToMono.Kleisli.DecoratedFunctor.html#mapd_decompose"><span class="id" title="lemma">mapd_decompose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1652"></a><h3 class="section">Roundtrip effect on context occurrences</h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*&nbsp;if&nbsp;(ctx,&nbsp;a)&nbsp;∈d&nbsp;t,&nbsp;then&nbsp;(roundtrip_Occ&nbsp;(free&nbsp;t)&nbsp;(ctx,&nbsp;a))&nbsp;∈d&nbsp;roundtrip&nbsp;t&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(********************************************************************)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="roundtrip_Occ" class="idref" href="#roundtrip_Occ"><span class="id" title="definition">roundtrip_Occ</span></a> (<a id="avoid:91" class="idref" href="#avoid:91"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> '<a id="pat:94" class="idref" href="#pat:94"><span class="id" title="binder">(</span></a><a id="pat:94" class="idref" href="#pat:94"><span class="id" title="binder">ctx</span></a><a id="pat:94" class="idref" href="#pat:94"><span class="id" title="binder">,</span></a> <a id="pat:94" class="idref" href="#pat:94"><span class="id" title="binder">a</span></a><a id="pat:94" class="idref" href="#pat:94"><span class="id" title="binder">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdz"><span class="id" title="definition">mapdz</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Binder_loc"><span class="id" title="definition">roundtrip_Binder_loc</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:91"><span class="id" title="variable">avoid</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:93"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Var_loc"><span class="id" title="definition">roundtrip_Var_loc</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:91"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:93"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:92"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="roundtrip_Occ_spec" class="idref" href="#roundtrip_Occ_spec"><span class="id" title="lemma">roundtrip_Occ_spec</span></a> (<a id="avoid:95" class="idref" href="#avoid:95"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>): <span class="id" title="keyword">∀</span> <a id="ctx:96" class="idref" href="#ctx:96"><span class="id" title="binder">ctx</span></a> <a id="a:97" class="idref" href="#a:97"><span class="id" title="binder">a</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Occ"><span class="id" title="definition">roundtrip_Occ</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:95"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:96"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:97"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Misc.Product.html#map_fst"><span class="id" title="definition">map_fst</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdz"><span class="id" title="definition">mapdz</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a>) (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Binder_loc"><span class="id" title="definition">roundtrip_Binder_loc</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:95"><span class="id" title="variable">avoid</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Classes.Kleisli.Comonad.html#cobind"><span class="id" title="definition">cobind</span></a> (<span class="id" title="var">W</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>)) (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Var_loc"><span class="id" title="definition">roundtrip_Var_loc</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:95"><span class="id" title="variable">avoid</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:96"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:97"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Occ"><span class="id" title="definition">roundtrip_Occ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Comonad.html#cobind"><span class="id" title="definition">cobind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="roundtrip_Nominal_var_spec" class="idref" href="#roundtrip_Nominal_var_spec"><span class="id" title="lemma">roundtrip_Nominal_var_spec</span></a> {<a id="avoid:98" class="idref" href="#avoid:98"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#kc_dfunp"><span class="id" title="definition">kc_dfunp</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ln_to_name"><span class="id" title="definition">ln_to_name</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:98"><span class="id" title="variable">avoid</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#name_to_ln"><span class="id" title="definition">name_to_ln</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> '<a id="pat:101" class="idref" href="#pat:101"><span class="id" title="binder">(</span></a><a id="pat:101" class="idref" href="#pat:101"><span class="id" title="binder">ctx</span></a><a id="pat:101" class="idref" href="#pat:101"><span class="id" title="binder">,</span></a> <a id="pat:101" class="idref" href="#pat:101"><span class="id" title="binder">nm</span></a><a id="pat:101" class="idref" href="#pat:101"><span class="id" title="binder">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#binding_to_ln"><span class="id" title="definition">binding_to_ln</span></a> (<a class="idref" href="Tealeaves.Backends.Nominal.Common.html#get_binding"><span class="id" title="definition">get_binding</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:100"><span class="id" title="variable">ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#nm:99"><span class="id" title="variable">nm</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span> ⇒ <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#LN_BD_to_binder_name"><span class="id" title="definition">LN_BD_to_binder_name</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:98"><span class="id" title="variable">avoid</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:100"><span class="id" title="variable">ctx</span></a>) <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> [<span class="id" title="var">ctx</span> <span class="id" title="var">nm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#kc_dfunp"><span class="id" title="definition">kc_dfunp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Functors.Z2.html#cobind_Z2"><span class="id" title="definition">cobind_Z2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Functors.Z2.html#map_Z2"><span class="id" title="definition">map_Z2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">ctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_Z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Functors.List_Telescoping_General.html#mapd_list_prefix_spec"><span class="id" title="definition">mapd_list_prefix_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#mapd_list_prefix_const"><span class="id" title="lemma">mapd_list_prefix_const</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1653"></a><h2 class="section">Deleting Binders</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="decorate_rename_binders" class="idref" href="#decorate_rename_binders"><span class="id" title="lemma">decorate_rename_binders</span></a> {<a id="B1:102" class="idref" href="#B1:102"><span class="id" title="binder">B1</span></a> <a id="B2:103" class="idref" href="#B2:103"><span class="id" title="binder">B2</span></a> <a id="V:104" class="idref" href="#V:104"><span class="id" title="binder">V</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="bf1ae1913c09b2a867297af299af0f21" class="idref" href="#bf1ae1913c09b2a867297af299af0f21"><span class="id" title="binder">ρ</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B1:102"><span class="id" title="variable">B1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B1:102"><span class="id" title="variable">B1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B2:103"><span class="id" title="variable">B2</span></a>) (<a id="t:106" class="idref" href="#t:106"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B1:102"><span class="id" title="variable">B1</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#V:104"><span class="id" title="variable">V</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#delete_binders"><span class="id" title="definition">delete_binders</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B2:103"><span class="id" title="variable">B2</span></a>) (<a class="idref" href="Tealeaves.Adapters.PolyToMono.Kleisli.DecoratedFunctor.html#rename_binders"><span class="id" title="definition">rename_binders</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#bf1ae1913c09b2a867297af299af0f21"><span class="id" title="variable">ρ</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:106"><span class="id" title="variable">t</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#delete_binders"><span class="id" title="definition">delete_binders</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B1:102"><span class="id" title="variable">B1</span></a>) (<a class="idref" href="Tealeaves.Misc.Product.html#map_fst"><span class="id" title="definition">map_fst</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdz"><span class="id" title="definition">mapdz</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#bf1ae1913c09b2a867297af299af0f21"><span class="id" title="variable">ρ</span></a>)) (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B1:102"><span class="id" title="variable">B1</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:106"><span class="id" title="variable">t</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#delete_binders"><span class="id" title="definition">delete_binders</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Classes.Functor2.html#Map2_1"><span class="id" title="instance">Map2_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Classes.Functor2.html#Map2_2"><span class="id" title="instance">Map2_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Adapters.PolyToMono.Categorical.DecoratedFunctor.html#ToMono1.Decorate_PolyVar"><span class="id" title="instance">Decorate_PolyVar</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctorPoly.html#decp"><span class="id" title="definition">decp</span></a> (<a class="idref" href="Tealeaves.Adapters.PolyToMono.Kleisli.DecoratedFunctor.html#rename_binders"><span class="id" title="definition">rename_binders</span></a> ρ <span class="id" title="var">t</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Functor2.html#fun2_map_map"><span class="id" title="method">fun2_map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> ?<span class="id" title="var">x</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctorPoly.html#decp"><span class="id" title="definition">decp</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor2.html#fun2_map_map"><span class="id" title="method">fun2_map_map</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> ?<span class="id" title="var">x</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctorPoly.html#decp"><span class="id" title="definition">decp</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor2.html#fun2_map_map"><span class="id" title="method">fun2_map_map</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> ?<span class="id" title="var">x</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (?<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>) <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> ((@<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <span class="id" title="var">B2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> @<a class="idref" href="Tealeaves.Classes.Categorical.Comonad.html#extract"><span class="id" title="definition">extract</span></a> <a class="idref" href="Tealeaves.Functors.List_Telescoping_General.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="Tealeaves.Functors.List_Telescoping_General.html#Extract_Z"><span class="id" title="instance">Extract_Z</span></a> <span class="id" title="var">B2</span>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> (<a class="idref" href="Tealeaves.Functors.List_Telescoping_General.html#Z"><span class="id" title="definition">Z</span></a> <span class="id" title="var">B2</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> ((@<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <span class="id" title="var">B1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> @<a class="idref" href="Tealeaves.Classes.Categorical.Comonad.html#extract"><span class="id" title="definition">extract</span></a> <a class="idref" href="Tealeaves.Functors.List_Telescoping_General.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="Tealeaves.Functors.List_Telescoping_General.html#Extract_Z"><span class="id" title="instance">Extract_Z</span></a> <span class="id" title="var">B1</span>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> (<a class="idref" href="Tealeaves.Functors.List_Telescoping_General.html#Z"><span class="id" title="definition">Z</span></a> <span class="id" title="var">B1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Adapters.PolyToMono.Kleisli.DecoratedFunctor.html#rename_binders"><span class="id" title="definition">rename_binders</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdz"><span class="id" title="definition">mapdz</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Adapters.PolyToMono.Kleisli.DecoratedFunctor.html#ToMono2.MapdZ_of_Mapdp2"><span class="id" title="instance">ToMono2.MapdZ_of_Mapdp2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdp"><span class="id" title="definition">mapdp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.DecoratedFunctorPoly.html#DerivedOperations.Mapdp_Categorical"><span class="id" title="instance">Mapdp_Categorical</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctorPoly.html#decp"><span class="id" title="definition">decp</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctorPoly.html#polydecnat"><span class="id" title="definition">polydecnat</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctorPoly.html#dfunp_dec_dec"><span class="id" title="method">dfunp_dec_dec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctorPoly.html#decp"><span class="id" title="definition">decp</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor2.html#fun2_map_map"><span class="id" title="method">fun2_map_map</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctorPoly.html#decp"><span class="id" title="definition">decp</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor2.html#fun2_map_map"><span class="id" title="method">fun2_map_map</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> ?<span class="id" title="var">x</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">v</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.List_Telescoping_General.html#mapd_list_prefix_spec"><span class="id" title="definition">mapd_list_prefix_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="decorate_rename_binders2" class="idref" href="#decorate_rename_binders2"><span class="id" title="lemma">decorate_rename_binders2</span></a> {<a id="B1:107" class="idref" href="#B1:107"><span class="id" title="binder">B1</span></a> <a id="B2:108" class="idref" href="#B2:108"><span class="id" title="binder">B2</span></a> <a id="V:109" class="idref" href="#V:109"><span class="id" title="binder">V</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="eae1f5cf56dcfec04803012f2d4aa365" class="idref" href="#eae1f5cf56dcfec04803012f2d4aa365"><span class="id" title="binder">ρ</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B1:107"><span class="id" title="variable">B1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B1:107"><span class="id" title="variable">B1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B2:108"><span class="id" title="variable">B2</span></a>) (<a id="t:111" class="idref" href="#t:111"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B1:107"><span class="id" title="variable">B1</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#V:109"><span class="id" title="variable">V</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#delete_binders"><span class="id" title="definition">delete_binders</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B2:108"><span class="id" title="variable">B2</span></a>) (<a class="idref" href="Tealeaves.Adapters.PolyToMono.Kleisli.DecoratedFunctor.html#rename_binders"><span class="id" title="definition">rename_binders</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#eae1f5cf56dcfec04803012f2d4aa365"><span class="id" title="variable">ρ</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:111"><span class="id" title="variable">t</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Misc.Product.html#map_fst"><span class="id" title="definition">map_fst</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdz"><span class="id" title="definition">mapdz</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#eae1f5cf56dcfec04803012f2d4aa365"><span class="id" title="variable">ρ</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#delete_binders"><span class="id" title="definition">delete_binders</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B1:107"><span class="id" title="variable">B1</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:111"><span class="id" title="variable">t</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#decorate_rename_binders"><span class="id" title="lemma">decorate_rename_binders</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">B1</span>) <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#delete_binders"><span class="id" title="definition">delete_binders</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Functor2.html#fun2_map22_map21_commute"><span class="id" title="lemma">fun2_map22_map21_commute</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="in_del_binders" class="idref" href="#in_del_binders"><span class="id" title="lemma">in_del_binders</span></a> {<a id="B:112" class="idref" href="#B:112"><span class="id" title="binder">B</span></a> <a id="A:113" class="idref" href="#A:113"><span class="id" title="binder">A</span></a>}: <span class="id" title="keyword">∀</span> (<a id="t:114" class="idref" href="#t:114"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B:112"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#A:113"><span class="id" title="variable">A</span></a>) (<a id="a:115" class="idref" href="#a:115"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#A:113"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#element_of"><span class="id" title="definition">element_of</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:115"><span class="id" title="variable">a</span></a> (<a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#delete_binders"><span class="id" title="definition">delete_binders</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:114"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#element_of"><span class="id" title="definition">element_of</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:115"><span class="id" title="variable">a</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:114"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#delete_binders"><span class="id" title="definition">delete_binders</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#element_of"><span class="id" title="definition">element_of</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#tosubset_to_foldMap"><span class="id" title="lemma">tosubset_to_foldMap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#tosubset_to_foldMap"><span class="id" title="lemma">tosubset_to_foldMap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#foldMap_to_traverse1"><span class="id" title="lemma">foldMap_to_traverse1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#foldMap_to_traverse1"><span class="id" title="lemma">foldMap_to_traverse1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.TraversableFunctor.html#DerivedOperations.Traverse_Categorical"><span class="id" title="instance">Traverse_Categorical</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Classes.Functor2.html#fun2_map22_map21_commute"><span class="id" title="lemma">fun2_map22_map21_commute</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Adapters.PolyToMono.Categorical.TraversableFunctor.html#ToMono.Dist2_1_natural2"><span class="id" title="lemma">Dist2_1_natural2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1654"></a><h2 class="section">Lemma About Mapdtp with Constant Applicatives</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="with_DTM.constant_applicatives" class="idref" href="#with_DTM.constant_applicatives"><span class="id" title="section">constant_applicatives</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="M:116" class="idref" href="#M:116"><span class="id" title="binder">M</span></a>} `{<a id="H3:119" class="idref" href="#H3:119"><span class="id" title="binder">Monoid</span></a> <a id="H3:119" class="idref" href="#H3:119"><span class="id" title="binder">M</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Categorical.TraversableFunctor2.html#"><span class="id" title="module">Categorical.TraversableFunctor2</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapdtp_const1" class="idref" href="#mapdtp_const1"><span class="id" title="lemma">mapdtp_const1</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A1:120" class="idref" href="#A1:120"><span class="id" title="binder">A1</span></a> <a id="B1:121" class="idref" href="#B1:121"><span class="id" title="binder">B1</span></a>: <span class="id" title="keyword">Type</span>} (<a id="A2:122" class="idref" href="#A2:122"><span class="id" title="binder">A2</span></a> <a id="B2:123" class="idref" href="#B2:123"><span class="id" title="binder">B2</span></a>: <span class="id" title="keyword">Type</span>) `(<a id="g:124" class="idref" href="#g:124"><span class="id" title="binder">g</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B1:121"><span class="id" title="variable">B1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B1:121"><span class="id" title="variable">B1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.constant_applicatives.M"><span class="id" title="variable">M</span></a>) `(<a id="f:125" class="idref" href="#f:125"><span class="id" title="binder">f</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B1:121"><span class="id" title="variable">B1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#A1:120"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.constant_applicatives.M"><span class="id" title="variable">M</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctorPoly.html#mapdtp"><span class="id" title="definition">mapdtp</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.constant_applicatives.M"><span class="id" title="variable">M</span></a>) (<span class="id" title="var">B2</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>) (<span class="id" title="var">A2</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#g:124"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#f:125"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctorPoly.html#mapdtp"><span class="id" title="definition">mapdtp</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.constant_applicatives.M"><span class="id" title="variable">M</span></a>) (<span class="id" title="var">B2</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B2:123"><span class="id" title="variable">B2</span></a>) (<span class="id" title="var">A2</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#A2:122"><span class="id" title="variable">A2</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#g:124"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#f:125"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">change_left</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.constant_applicatives.M"><span class="id" title="variable">M</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">B2</span> <span class="id" title="var">A2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Classes.Functor2.html#map2"><span class="id" title="definition">map2</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a>) (<span class="id" title="var">B1</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>) (<span class="id" title="var">A1</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>) (<span class="id" title="var">B2</span> := <span class="id" title="var">B2</span>) (<span class="id" title="var">A2</span> := <span class="id" title="var">A2</span>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#exfalso"><span class="id" title="definition">exfalso</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#exfalso"><span class="id" title="definition">exfalso</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctorPoly.html#mapdtp"><span class="id" title="definition">mapdtp</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a>) (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.constant_applicatives.M"><span class="id" title="variable">M</span></a>) <span class="id" title="var">g</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctorPoly.html#mapdtp"><span class="id" title="definition">mapdtp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.DecoratedTraversableFunctorPoly.html#DerivedOperations.Mapdtp_Categorical"><span class="id" title="instance">DerivedOperations.Mapdtp_Categorical</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Adapters.PolyToMono.Categorical.TraversableFunctor.html#ToMono.dist2_natural_rw"><span class="id" title="lemma">dist2_natural_rw</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctorPoly.html#decp"><span class="id" title="definition">decp</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Functor2.html#fun2_map_map"><span class="id" title="method">fun2_map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mapdtp_const_normalize" class="idref" href="#mapdtp_const_normalize"><span class="id" title="lemma">mapdtp_const_normalize</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A1:126" class="idref" href="#A1:126"><span class="id" title="binder">A1</span></a> <a id="B1:127" class="idref" href="#B1:127"><span class="id" title="binder">B1</span></a>: <span class="id" title="keyword">Type</span>} (<a id="A2:128" class="idref" href="#A2:128"><span class="id" title="binder">A2</span></a> <a id="B2:129" class="idref" href="#B2:129"><span class="id" title="binder">B2</span></a>: <span class="id" title="keyword">Type</span>) `(<a id="g:130" class="idref" href="#g:130"><span class="id" title="binder">g</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B1:127"><span class="id" title="variable">B1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B1:127"><span class="id" title="variable">B1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.constant_applicatives.M"><span class="id" title="variable">M</span></a>) `(<a id="f:131" class="idref" href="#f:131"><span class="id" title="binder">f</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B1:127"><span class="id" title="variable">B1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#A1:126"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.constant_applicatives.M"><span class="id" title="variable">M</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctorPoly.html#mapdtp"><span class="id" title="definition">mapdtp</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.constant_applicatives.M"><span class="id" title="variable">M</span></a>) (<span class="id" title="var">B2</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#B2:129"><span class="id" title="variable">B2</span></a>) (<span class="id" title="var">A2</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#A2:128"><span class="id" title="variable">A2</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#g:130"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#f:131"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctorPoly.html#mapdtp"><span class="id" title="definition">mapdtp</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.constant_applicatives.M"><span class="id" title="variable">M</span></a>) (<span class="id" title="var">B2</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>) (<span class="id" title="var">A2</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#g:130"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#f:131"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#mapdtp_const1"><span class="id" title="lemma">mapdtp_const1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.constant_applicatives"><span class="id" title="section">constant_applicatives</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1655"></a><h2 class="section">Relating Free Variables During Translation</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="normalize_foldMap" class="idref" href="#normalize_foldMap"><span class="id" title="lemma">normalize_foldMap</span></a> {<a id="M:132" class="idref" href="#M:132"><span class="id" title="binder">M</span></a>} `{<a id="H3:135" class="idref" href="#H3:135"><span class="id" title="binder">Monoid</span></a> <a id="H3:135" class="idref" href="#H3:135"><span class="id" title="binder">M</span></a>} `(<a id="f:136" class="idref" href="#f:136"><span class="id" title="binder">f</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#M:132"><span class="id" title="variable">M</span></a>): <span class="id" title="keyword">∀</span> (<a id="t:137" class="idref" href="#t:137"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#foldMapd"><span class="id" title="definition">foldMapd</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#f:136"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:137"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctorPoly.html#mapdtp"><span class="id" title="definition">mapdtp</span></a> (<span class="id" title="var">A2</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>) (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#M:132"><span class="id" title="variable">M</span></a>) (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#M:132"><span class="id" title="variable">M</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#f:136"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:137"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedTraversableFunctor.html#foldMapd_to_mapdt1"><span class="id" title="lemma">foldMapd_to_mapdt1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctor.html#mapdt"><span class="id" title="definition">mapdt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.DecoratedTraversableFunctor.html#DerivedOperations.Mapdt_Categorical"><span class="id" title="instance">Mapdt_Categorical</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Adapters.PolyToMono.Categorical.TraversableFunctor.html#ToMono.Dist2_1"><span class="id" title="instance">Dist2_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Adapters.PolyToMono.Categorical.DecoratedFunctor.html#ToMono1.Decorate_PolyVar"><span class="id" title="instance">Decorate_PolyVar</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">change_left</span> (<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Categorical.TraversableFunctor2.html#dist2"><span class="id" title="definition">TraversableFunctor2.dist2</span></a> (<span class="id" title="var">B</span> := <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<span class="id" title="var">A</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor2.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> <span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor2.html#map2"><span class="id" title="definition">map2</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Comonad.html#extract"><span class="id" title="definition">extract</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctorPoly.html#decp"><span class="id" title="definition">decp</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">t</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Functor2.html#fun2_map2_map21"><span class="id" title="lemma">fun2_map2_map21</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Functor2.html#fun2_map_map"><span class="id" title="method">fun2_map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> ?<span class="id" title="var">f</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> ?<span class="id" title="var">id</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">change_left</span> ((<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctorPoly.html#mapdtp"><span class="id" title="definition">mapdtp</span></a> (<span class="id" title="var">B2</span> := <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<span class="id" title="var">A2</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>) (<span class="id" title="var">B1</span> := <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<span class="id" title="var">A1</span> := <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<a class="idref" href="Tealeaves.Classes.Categorical.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <span class="id" title="var">M</span>)) <span class="id" title="var">f</span>) <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> @<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#mapdtp_const_normalize"><span class="id" title="lemma">mapdtp_const_normalize</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">e</span> <span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">e</span> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> @<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#mapdtp_const_normalize"><span class="id" title="lemma">mapdtp_const_normalize</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">e</span> <span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">e</span> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="FV_preserved" class="idref" href="#FV_preserved"><span class="id" title="lemma">FV_preserved</span></a>: <span class="id" title="keyword">∀</span> (<a id="t:138" class="idref" href="#t:138"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Nominal.FV.html#FV"><span class="id" title="definition">FV</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:138"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">LN.free</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:138"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Nominal.FV.html#FV"><span class="id" title="definition">FV</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#foldMap_to_traverse1"><span class="id" title="lemma">foldMap_to_traverse1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.TraversableFunctor.html#DerivedOperations.Traverse_Categorical"><span class="id" title="instance">Traverse_Categorical</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Adapters.PolyToMono.Categorical.TraversableFunctor.html#ToMono.Dist2_1"><span class="id" title="instance">Dist2_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Classes.Functor2.html#Map2_1"><span class="id" title="instance">Map2_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> → <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor2.html#fun2_map_map"><span class="id" title="method">fun2_map_map</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdp"><span class="id" title="definition">mapdp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.DecoratedFunctorPoly.html#DerivedOperations.Mapdp_Categorical"><span class="id" title="instance">DerivedOperations.Mapdp_Categorical</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (?<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>) <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> ?<span class="id" title="var">x</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctorPoly.html#decp"><span class="id" title="definition">decp</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor2.html#fun2_map_map"><span class="id" title="method">fun2_map_map</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#normalize_foldMap"><span class="id" title="lemma">normalize_foldMap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedTraversableFunctorPoly.html#mapdtp"><span class="id" title="definition">mapdtp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.DecoratedTraversableFunctorPoly.html#DerivedOperations.Mapdtp_Categorical"><span class="id" title="instance">DerivedOperations.Mapdtp_Categorical</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="tactic">cut</span>: <a class="idref" href="Tealeaves.Backends.Nominal.FV.html#FV_loc"><span class="id" title="definition">FV_loc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free_loc"><span class="id" title="definition">free_loc</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#name_to_ln"><span class="id" title="definition">name_to_ln</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">ext</span> [<span class="id" title="var">l</span> <span class="id" title="var">v</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#name_to_ln"><span class="id" title="definition">name_to_ln</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Tealeaves.Backends.Nominal.Common.html#get_binding_spec"><span class="id" title="lemma">get_binding_spec</span></a> <span class="id" title="var">l</span> <span class="id" title="var">v</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hbinding</span> <span class="id" title="var">Hspec</span>] | [<span class="id" title="var">pre</span> [<span class="id" title="var">post</span> [<span class="id" title="var">Hbinding</span> [<span class="id" title="var">Hspec1</span> <span class="id" title="var">Hspec2</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hbinding</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hbinding</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="tactic">cut</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1656"></a><h2 class="section">Alpha Equivalence Local Reasoning</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="to_name_from_ctx_preincr" class="idref" href="#to_name_from_ctx_preincr"><span class="id" title="lemma">to_name_from_ctx_preincr</span></a>: <span class="id" title="keyword">∀</span> <a id="avoid:139" class="idref" href="#avoid:139"><span class="id" title="binder">avoid</span></a> <a id="a:140" class="idref" href="#a:140"><span class="id" title="binder">a</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:139"><span class="id" title="variable">avoid</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Comonad.html#cobind"><span class="id" title="definition">cobind</span></a> (<span class="id" title="var">W</span> := <a class="idref" href="Tealeaves.Functors.List_Telescoping_General.html#Z"><span class="id" title="definition">Z</span></a>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#incr"><span class="id" title="definition">incr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:140"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:139"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Backends.Common.Names.html#fresh"><span class="id" title="abbreviation">fresh</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:139"><span class="id" title="variable">avoid</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Comonad.html#cobind"><span class="id" title="definition">cobind</span></a> (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> [<span class="id" title="var">ctx</span> <span class="id" title="var">x</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Abort</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1657"></a><h3 class="section">Specification of <code>roundtrip_Occ</code></h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="roundtrip_Occ_spec_pw" class="idref" href="#roundtrip_Occ_spec_pw"><span class="id" title="lemma">roundtrip_Occ_spec_pw</span></a>: <span class="id" title="keyword">∀</span> (<a id="avoid:141" class="idref" href="#avoid:141"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<a id="ctx:142" class="idref" href="#ctx:142"><span class="id" title="binder">ctx</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<a id="a:143" class="idref" href="#a:143"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Occ"><span class="id" title="definition">roundtrip_Occ</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:141"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:142"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:143"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdz"><span class="id" title="definition">mapdz</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Binder_loc"><span class="id" title="definition">roundtrip_Binder_loc</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:141"><span class="id" title="variable">avoid</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:142"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Var_loc"><span class="id" title="definition">roundtrip_Var_loc</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:141"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:142"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:143"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Occ"><span class="id" title="definition">roundtrip_Occ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1658"></a><h3 class="section">Specification of <code>roundtrip_Occ</code> when a is unbound</h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="roundtrip_Occ_Unbound_spec" class="idref" href="#roundtrip_Occ_Unbound_spec"><span class="id" title="lemma">roundtrip_Occ_Unbound_spec</span></a>: <span class="id" title="keyword">∀</span> (<a id="avoid:144" class="idref" href="#avoid:144"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<a id="ctx:145" class="idref" href="#ctx:145"><span class="id" title="binder">ctx</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<a id="a:146" class="idref" href="#a:146"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Nominal.Common.html#get_binding"><span class="id" title="definition">get_binding</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:145"><span class="id" title="variable">ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:146"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#Unbound"><span class="id" title="constructor">Unbound</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:145"><span class="id" title="variable">ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:146"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Occ"><span class="id" title="definition">roundtrip_Occ</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:144"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:145"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:146"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdz"><span class="id" title="definition">mapdz</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Binder_loc"><span class="id" title="definition">roundtrip_Binder_loc</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:144"><span class="id" title="variable">avoid</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:145"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:146"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Occ_spec_pw"><span class="id" title="lemma">roundtrip_Occ_spec_pw</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1659"></a><h3 class="section">Specification of <code>roundtrip_Var_loc</code> when a is bound</h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="roundtrip_Var_loc_Bound_spec" class="idref" href="#roundtrip_Var_loc_Bound_spec"><span class="id" title="lemma">roundtrip_Var_loc_Bound_spec</span></a>: <span class="id" title="keyword">∀</span> (<a id="avoid:147" class="idref" href="#avoid:147"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<a id="ctx:148" class="idref" href="#ctx:148"><span class="id" title="binder">ctx</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<a id="a:149" class="idref" href="#a:149"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) <a id="prefix:150" class="idref" href="#prefix:150"><span class="id" title="binder">prefix</span></a> <a id="a':151" class="idref" href="#a':151"><span class="id" title="binder">a'</span></a> <a id="postfix:152" class="idref" href="#postfix:152"><span class="id" title="binder">postfix</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Nominal.Common.html#get_binding"><span class="id" title="definition">get_binding</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:148"><span class="id" title="variable">ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:149"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#Bound"><span class="id" title="constructor">Bound</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#prefix:150"><span class="id" title="variable">prefix</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a':151"><span class="id" title="variable">a'</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#postfix:152"><span class="id" title="variable">postfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:148"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#prefix:150"><span class="id" title="variable">prefix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a':151"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#postfix:152"><span class="id" title="variable">postfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:149"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a':151"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Var_loc"><span class="id" title="definition">roundtrip_Var_loc</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:147"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:148"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:149"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:147"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:147"><span class="id" title="variable">avoid</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#prefix:150"><span class="id" title="variable">prefix</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hbinding</span> <span class="id" title="var">Hctx</span> <span class="id" title="var">Haeq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Var_loc"><span class="id" title="definition">roundtrip_Var_loc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#kc_dfunp"><span class="id" title="definition">kc_dfunp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#cobind_Z2_const"><span class="id" title="lemma">cobind_Z2_const</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#name_to_ln"><span class="id" title="definition">name_to_ln</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Haeq</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">Haeq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hbinding</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#binding_to_ln"><span class="id" title="definition">binding_to_ln</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ln_to_name"><span class="id" title="definition">ln_to_name</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#LN_BD_to_binder_name"><span class="id" title="definition">LN_BD_to_binder_name</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.List.html#map_preserve_length"><span class="id" title="lemma">map_preserve_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HsafeIx</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">postfix</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">ctx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">List.app_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">List.app_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">PeanoNat.Nat.ltb_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HsafeIx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HsafeIx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#run_using_prefix"><span class="id" title="definition">run_using_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hineq</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">ctx</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">postfix</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">prefix</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">List.app_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">List.app_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hineq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">prefix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHprefix</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1660"></a><h3 class="section">Specification of <code>get_binding ∘ roundtrip_Occ</code> when a is unbound</h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="roundtrip_Occ_get_binding_Unbound_spec" class="idref" href="#roundtrip_Occ_get_binding_Unbound_spec"><span class="id" title="lemma">roundtrip_Occ_get_binding_Unbound_spec</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="avoid:153" class="idref" href="#avoid:153"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<a id="ctx:154" class="idref" href="#ctx:154"><span class="id" title="binder">ctx</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<a id="a:155" class="idref" href="#a:155"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:155"><span class="id" title="variable">a</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:153"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Nominal.Common.html#get_binding"><span class="id" title="definition">get_binding</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:154"><span class="id" title="variable">ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:155"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#Unbound"><span class="id" title="constructor">Unbound</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:154"><span class="id" title="variable">ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:155"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Occ"><span class="id" title="definition">roundtrip_Occ</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:153"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:154"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:155"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">foo</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Nominal.Common.html#get_binding"><span class="id" title="definition">get_binding</span></a> <span class="id" title="var">foo</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#Unbound"><span class="id" title="constructor">Unbound</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdz"><span class="id" title="definition">mapdz</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Binder_loc"><span class="id" title="definition">roundtrip_Binder_loc</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:153"><span class="id" title="variable">avoid</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:154"><span class="id" title="variable">ctx</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:155"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hnin</span> <span class="id" title="var">Hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Occ_Unbound_spec"><span class="id" title="lemma">roundtrip_Occ_Unbound_spec</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Tealeaves.Backends.Nominal.Common.html#get_binding_spec"><span class="id" title="lemma">get_binding_spec</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdz"><span class="id" title="definition">mapdz</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Binder_loc"><span class="id" title="definition">roundtrip_Binder_loc</span></a> <span class="id" title="var">avoid</span>) <span class="id" title="var">ctx</span>) <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[<span class="id" title="var">Case1</span> <span class="id" title="var">rest</span>] | [<span class="id" title="var">prefix</span> [<span class="id" title="var">postfix</span> [<span class="id" title="var">Case2</span> [<span class="id" title="var">ctxspec</span> <span class="id" title="var">Hnin'</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Case1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hfresh</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <span class="id" title="var">a</span> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdz"><span class="id" title="definition">mapdz</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Binder_loc"><span class="id" title="definition">roundtrip_Binder_loc</span></a> <span class="id" title="var">avoid</span>) <span class="id" title="var">ctx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Binder_loc_spec"><span class="id" title="lemma">roundtrip_Binder_loc_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx_fresh"><span class="id" title="lemma">to_history_from_ctx_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#get_binding1"><span class="id" title="lemma">get_binding1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfresh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1661"></a><h3 class="section">Specification of <code>get_binding ∘ roundtrip_Occ</code> when a is bound</h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="roundtrip_Occ_get_binding_Bound_spec" class="idref" href="#roundtrip_Occ_get_binding_Bound_spec"><span class="id" title="lemma">roundtrip_Occ_get_binding_Bound_spec</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="avoid:156" class="idref" href="#avoid:156"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<a id="ctx:157" class="idref" href="#ctx:157"><span class="id" title="binder">ctx</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<a id="a:158" class="idref" href="#a:158"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) <a id="prefix:159" class="idref" href="#prefix:159"><span class="id" title="binder">prefix</span></a> <a id="a':160" class="idref" href="#a':160"><span class="id" title="binder">a'</span></a> <a id="postfix:161" class="idref" href="#postfix:161"><span class="id" title="binder">postfix</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Nominal.Common.html#get_binding"><span class="id" title="definition">get_binding</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:157"><span class="id" title="variable">ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:158"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#Bound"><span class="id" title="constructor">Bound</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#prefix:159"><span class="id" title="variable">prefix</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a':160"><span class="id" title="variable">a'</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#postfix:161"><span class="id" title="variable">postfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:158"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a':160"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:157"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#prefix:159"><span class="id" title="variable">prefix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a':160"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#postfix:161"><span class="id" title="variable">postfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:158"><span class="id" title="variable">a</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#postfix:161"><span class="id" title="variable">postfix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Occ"><span class="id" title="definition">roundtrip_Occ</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:156"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:157"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:158"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">foo</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="NewPrefix:162" class="idref" href="#NewPrefix:162"><span class="id" title="binder">NewPrefix</span></a> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:156"><span class="id" title="variable">avoid</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#prefix:159"><span class="id" title="variable">prefix</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <a id="NewVar:163" class="idref" href="#NewVar:163"><span class="id" title="binder">NewVar</span></a> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:156"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#NewPrefix:162"><span class="id" title="variable">NewPrefix</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <a id="NewPost:164" class="idref" href="#NewPost:164"><span class="id" title="binder">NewPost</span></a> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:156"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#NewPrefix:162"><span class="id" title="variable">NewPrefix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#NewVar:163"><span class="id" title="variable">NewVar</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) (<a class="idref" href="Tealeaves.Classes.Functor.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#postfix:161"><span class="id" title="variable">postfix</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#get_binding"><span class="id" title="definition">get_binding</span></a> <span class="id" title="var">foo</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#Bound"><span class="id" title="constructor">Bound</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#NewPrefix:162"><span class="id" title="variable">NewPrefix</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#NewVar:163"><span class="id" title="variable">NewVar</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#NewPost:164"><span class="id" title="variable">NewPost</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#NewPrefix:162"><span class="id" title="variable">NewPrefix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#prefix:159"><span class="id" title="variable">prefix</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hyp</span> <span class="id" title="var">Haeq</span> <span class="id" title="var">Hctxeq</span> <span class="id" title="var">Hnin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Occ"><span class="id" title="definition">roundtrip_Occ</span></a> <span class="id" title="var">avoid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ctx</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Occ_spec_pw"><span class="id" title="lemma">roundtrip_Occ_spec_pw</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">Heqp</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hctx'</span> <span class="id" title="var">HVar'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Heqp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">NewPrefix</span> <span class="id" title="var">NewVar</span> <span class="id" title="var">NewPost</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">HRoundtripMapsToNewVar</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Var_loc"><span class="id" title="definition">roundtrip_Var_loc</span></a> <span class="id" title="var">avoid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">prefix</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">postfix</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">NewVar</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">NewVar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">NewPrefix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Var_loc_Bound_spec"><span class="id" title="lemma">roundtrip_Var_loc_Bound_spec</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#get_binding2"><span class="id" title="lemma">get_binding2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">HRoundtripMapsToNewVar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Binder_loc_spec"><span class="id" title="lemma">roundtrip_Binder_loc_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.List.html#map_list_app"><span class="id" title="lemma">map_list_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.List.html#map_list_app"><span class="id" title="lemma">map_list_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.List.html#map_list_one"><span class="id" title="lemma">map_list_one</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="var">a'</span>) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx_decompose"><span class="id" title="lemma">to_history_from_ctx_decompose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">NewPrefix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">NewVar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">NewPost</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HRoundtripMapsToNewVar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx_fresh"><span class="id" title="lemma">to_history_from_ctx_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.List.html#element_of_list_app"><span class="id" title="lemma">element_of_list_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.List.html#element_of_list_app"><span class="id" title="lemma">element_of_list_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.List.html#element_of_list_one"><span class="id" title="lemma">element_of_list_one</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">NewPrefix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#length_to_history_from_ctx"><span class="id" title="lemma">length_to_history_from_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.List.html#map_preserve_length"><span class="id" title="lemma">map_preserve_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="rt_correct_local2" class="idref" href="#rt_correct_local2"><span class="id" title="lemma">rt_correct_local2</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="t:165" class="idref" href="#t:165"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>) (<a id="avoid:166" class="idref" href="#avoid:166"><span class="id" title="binder">avoid</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Havoidinit:168" class="idref" href="#Havoidinit:168"><span class="id" title="binder">Havoidinit</span></a>: <span class="id" title="keyword">∀</span> (<a id="a:167" class="idref" href="#a:167"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>), (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:167"><span class="id" title="variable">a</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.Nominal.FV.html#FV"><span class="id" title="definition">FV</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:165"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:167"><span class="id" title="variable">a</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:166"><span class="id" title="variable">avoid</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="ctx:169" class="idref" href="#ctx:169"><span class="id" title="binder">ctx</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>) (<a id="a:170" class="idref" href="#a:170"><span class="id" title="binder">a</span></a>: <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:169"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:170"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:165"><span class="id" title="variable">t</span></a><a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#alpha_equiv_local"><span class="id" title="definition">alpha_equiv_local</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:169"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:170"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Occ"><span class="id" title="definition">roundtrip_Occ</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:166"><span class="id" title="variable">avoid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:169"><span class="id" title="variable">ctx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:170"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">HFV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#alpha_equiv_local"><span class="id" title="definition">alpha_equiv_local</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Tealeaves.Backends.Nominal.Common.html#get_binding_spec"><span class="id" title="lemma">get_binding_spec</span></a> <span class="id" title="var">ctx</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Case1</span> <span class="id" title="var">Hanin</span>] | [<span class="id" title="var">prefix</span> [<span class="id" title="var">postfix</span> [<span class="id" title="var">Case2</span> [<span class="id" title="var">ctxspec</span> <span class="id" title="var">Hnin</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Case1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Havoid</span>: <span class="id" title="var">a</span> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <span class="id" title="var">avoid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">HFV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Backends.Nominal.FV.html#FV_lift_local"><span class="id" title="lemma">FV_lift_local</span></a> <span class="id" title="var">_</span> <span class="id" title="var">ctx</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Occ_get_binding_Unbound_spec"><span class="id" title="lemma">roundtrip_Occ_get_binding_Unbound_spec</span></a> <span class="id" title="var">avoid</span> <span class="id" title="var">ctx</span> <span class="id" title="var">a</span> <span class="id" title="var">Havoid</span> <span class="id" title="var">Case1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Occ"><span class="id" title="definition">roundtrip_Occ</span></a> <span class="id" title="var">avoid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ctx</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">X</span>. <span class="id" title="var">destruct_eq_args</span> <span class="id" title="var">a</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Case2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Occ_get_binding_Bound_spec"><span class="id" title="lemma">roundtrip_Occ_get_binding_Bound_spec</span></a> <span class="id" title="var">avoid</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Case2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Occ"><span class="id" title="definition">roundtrip_Occ</span></a> <span class="id" title="var">avoid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ctx</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Case2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Case2RW</span> <span class="id" title="var">Case2Len</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Case2RW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Case2Len</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_eq_args</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">prefix</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">prefix</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="rt_correct_local1" class="idref" href="#rt_correct_local1"><span class="id" title="lemma">rt_correct_local1</span></a>:  <span class="id" title="keyword">∀</span> (<a id="t:171" class="idref" href="#t:171"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#Forall"><span class="id" title="definition">TraversableFunctor.Forall</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="a:172" class="idref" href="#a:172"><span class="id" title="binder">a</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#precompose"><span class="id" title="definition">precompose</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Comonad.html#cobind"><span class="id" title="definition">cobind</span></a> (<span class="id" title="var">W</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>)) (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Var_loc"><span class="id" title="definition">roundtrip_Var_loc</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:171"><span class="id" title="variable">t</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#precompose"><span class="id" title="definition">precompose</span></a> (<a class="idref" href="Tealeaves.Misc.Product.html#map_fst"><span class="id" title="definition">map_fst</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdz"><span class="id" title="definition">mapdz</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Binder_loc"><span class="id" title="definition">roundtrip_Binder_loc</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:171"><span class="id" title="variable">t</span></a>))))) <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#alpha_equiv_local"><span class="id" title="definition">alpha_equiv_local</span></a><a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">))</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">a</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#delete_binders"><span class="id" title="definition">delete_binders</span></a> (<a class="idref" href="Tealeaves.Classes.Categorical.DecoratedFunctor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:171"><span class="id" title="variable">t</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.TraversableFunctor.html#forall_iff"><span class="id" title="lemma">TraversableFunctor.forall_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">ctx</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#in_del_binders"><span class="id" title="lemma">in_del_binders</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a>, <a class="idref" href="Tealeaves.Tactics.Prelude.html#precompose"><span class="id" title="definition">precompose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Occ_spec"><span class="id" title="lemma">roundtrip_Occ_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#rt_correct_local2"><span class="id" title="lemma">rt_correct_local2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">HinFV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#FV_preserved"><span class="id" title="lemma">FV_preserved</span></a> <span class="id" title="var">t</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">HinFV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="roundtrip_correct" class="idref" href="#roundtrip_correct"><span class="id" title="lemma">roundtrip_correct</span></a>: <span class="id" title="keyword">∀</span> (<a id="t:173" class="idref" href="#t:173"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#polymorphic_alpha"><span class="id" title="definition">polymorphic_alpha</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:173"><span class="id" title="variable">t</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Nominal"><span class="id" title="definition">roundtrip_Nominal</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:173"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Nominal_spec_decomposed"><span class="id" title="lemma">roundtrip_Nominal_spec_decomposed</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#polymorphic_alpha"><span class="id" title="definition">polymorphic_alpha</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#lift_relation_ctx_poly"><span class="id" title="definition">lift_relation_ctx_poly</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#decorate_rename_binders2"><span class="id" title="lemma">decorate_rename_binders2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.LiftRel.TraversableFunctor.html#relation_natural2"><span class="id" title="lemma">TraversableFunctor.relation_natural2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.DecoratedFunctor.html#dec_mapd2"><span class="id" title="lemma">CategoricalToKleisli.DecoratedFunctor.dec_mapd2</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#delete_binders_map"><span class="id" title="lemma">delete_binders_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Theory.LiftRel.TraversableFunctor.html#relation_natural2"><span class="id" title="lemma">relation_natural2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Theory.LiftRel.TraversableFunctor.html#relation_diagonal1"><span class="id" title="lemma">relation_diagonal1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#rt_correct_local1"><span class="id" title="lemma">rt_correct_local1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="roundtrip_correct2" class="idref" href="#roundtrip_correct2"><span class="id" title="lemma">roundtrip_correct2</span></a>: <span class="id" title="keyword">∀</span> (<a id="t:174" class="idref" href="#t:174"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#polymorphic_alpha"><span class="id" title="definition">polymorphic_alpha</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:174"><span class="id" title="variable">t</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_ln_to_nominal"><span class="id" title="definition">term_ln_to_nominal</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:174"><span class="id" title="variable">t</span></a>)) (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:174"><span class="id" title="variable">t</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_Nominal"><span class="id" title="definition">roundtrip_Nominal</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_correct"><span class="id" title="lemma">roundtrip_correct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Print</span> <span class="id" title="keyword">Assumptions</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_correct"><span class="id" title="lemma">roundtrip_correct</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1662"></a><h2 class="section">Roundtrip in the Other Direction</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="roundtrip_LN" class="idref" href="#roundtrip_LN"><span class="id" title="definition">roundtrip_LN</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="t:175" class="idref" href="#t:175"><span class="id" title="binder">t</span></a> ⇒ <span class="id" title="keyword">let</span> <a id="t_nom:176" class="idref" href="#t_nom:176"><span class="id" title="binder">t_nom</span></a> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_ln_to_nominal"><span class="id" title="definition">term_ln_to_nominal</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">LN.free</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:175"><span class="id" title="variable">t</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:175"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t_nom:176"><span class="id" title="variable">t_nom</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="roundtrip_LN_spec1" class="idref" href="#roundtrip_LN_spec1"><span class="id" title="lemma">roundtrip_LN_spec1</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="t:177" class="idref" href="#t:177"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_LN"><span class="id" title="definition">roundtrip_LN</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:177"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdp"><span class="id" title="definition">mapdp</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#kc_dz"><span class="id" title="definition">kc_dz</span></a> (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:177"><span class="id" title="variable">t</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#kc_dfunp"><span class="id" title="definition">kc_dfunp</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#name_to_ln"><span class="id" title="definition">name_to_ln</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:177"><span class="id" title="variable">t</span></a>)) (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ln_to_name"><span class="id" title="definition">ln_to_name</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:177"><span class="id" title="variable">t</span></a>))) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:177"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_LN"><span class="id" title="definition">roundtrip_LN</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_ln_to_nominal"><span class="id" title="definition">term_ln_to_nominal</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#kdfunp_mapdp2"><span class="id" title="method">kdfunp_mapdp2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="roundtrip_LN_spec_decomposed" class="idref" href="#roundtrip_LN_spec_decomposed"><span class="id" title="lemma">roundtrip_LN_spec_decomposed</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="t:178" class="idref" href="#t:178"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_LN"><span class="id" title="definition">roundtrip_LN</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:178"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="avoid:179" class="idref" href="#avoid:179"><span class="id" title="binder">avoid</span></a> := <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:178"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> (<a class="idref" href="Tealeaves.Adapters.PolyToMono.Kleisli.DecoratedFunctor.html#rename_binders"><span class="id" title="definition">rename_binders</span></a> (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#kc_dfunp"><span class="id" title="definition">kc_dfunp</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#name_to_ln"><span class="id" title="definition">name_to_ln</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:179"><span class="id" title="variable">avoid</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ln_to_name"><span class="id" title="definition">ln_to_name</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:179"><span class="id" title="variable">avoid</span></a>)) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:178"><span class="id" title="variable">t</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_LN_spec1"><span class="id" title="lemma">roundtrip_LN_spec1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#kc_dz"><span class="id" title="definition">kc_dz</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="Tealeaves.Tactics.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Comonad.html#cobind"><span class="id" title="definition">cobind</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <span class="id" title="var">t</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Adapters.PolyToMono.Kleisli.DecoratedFunctor.html#mapd_decompose"><span class="id" title="lemma">mapd_decompose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="roundtrip_LN_spec_decomposed2" class="idref" href="#roundtrip_LN_spec_decomposed2"><span class="id" title="lemma">roundtrip_LN_spec_decomposed2</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="t:180" class="idref" href="#t:180"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_LN"><span class="id" title="definition">roundtrip_LN</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:180"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="avoid:181" class="idref" href="#avoid:181"><span class="id" title="binder">avoid</span></a> := <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:180"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctor.html#mapd"><span class="id" title="definition">mapd</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#kc_dfunp"><span class="id" title="definition">kc_dfunp</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#name_to_ln"><span class="id" title="definition">name_to_ln</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:181"><span class="id" title="variable">avoid</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ln_to_name"><span class="id" title="definition">ln_to_name</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#avoid:181"><span class="id" title="variable">avoid</span></a>)) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:180"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_LN_spec_decomposed"><span class="id" title="lemma">roundtrip_LN_spec_decomposed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hren</span>: <a class="idref" href="Tealeaves.Adapters.PolyToMono.Kleisli.DecoratedFunctor.html#rename_binders"><span class="id" title="definition">rename_binders</span></a> (<span class="id" title="var">V1</span> := <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a>) (<a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Adapters.PolyToMono.Kleisli.DecoratedFunctor.html#rename_binders"><span class="id" title="definition">rename_binders</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hconst</span>: <a class="idref" href="Tealeaves.Tactics.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Categorical.Comonad.html#extract"><span class="id" title="definition">extract</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">ext</span> [? <span class="id" title="var">u</span>]. <span class="id" title="tactic">cbv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hconst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#kdz_mapdz1"><span class="id" title="method">kdz_mapdz1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hren</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Compat_Map_Mapd0:182" class="idref" href="#Compat_Map_Mapd0:182"><span class="id" title="binder">!</span></a> <a id="Compat_Map_Mapd0:182" class="idref" href="#Compat_Map_Mapd0:182"><span class="id" title="binder">Compat_Map_Mapd</span></a> <a id="Compat_Map_Mapd0:182" class="idref" href="#Compat_Map_Mapd0:182"><span class="id" title="binder">(</span></a><a id="Compat_Map_Mapd0:182" class="idref" href="#Compat_Map_Mapd0:182"><span class="id" title="binder">list</span></a> <a id="Compat_Map_Mapd0:182" class="idref" href="#Compat_Map_Mapd0:182"><span class="id" title="binder">unit</span></a><a id="Compat_Map_Mapd0:182" class="idref" href="#Compat_Map_Mapd0:182"><span class="id" title="binder">)</span></a> <a id="Compat_Map_Mapd0:182" class="idref" href="#Compat_Map_Mapd0:182"><span class="id" title="binder">(</span></a><a id="Compat_Map_Mapd0:182" class="idref" href="#Compat_Map_Mapd0:182"><span class="id" title="binder">T</span></a> <a id="Compat_Map_Mapd0:182" class="idref" href="#Compat_Map_Mapd0:182"><span class="id" title="binder">unit</span></a><a id="Compat_Map_Mapd0:182" class="idref" href="#Compat_Map_Mapd0:182"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="DecoratedContainerFunctor0:183" class="idref" href="#DecoratedContainerFunctor0:183"><span class="id" title="binder">!</span></a> <a id="DecoratedContainerFunctor0:183" class="idref" href="#DecoratedContainerFunctor0:183"><span class="id" title="binder">DecoratedContainerFunctor</span></a> <a id="DecoratedContainerFunctor0:183" class="idref" href="#DecoratedContainerFunctor0:183"><span class="id" title="binder">(</span></a><a id="DecoratedContainerFunctor0:183" class="idref" href="#DecoratedContainerFunctor0:183"><span class="id" title="binder">list</span></a> <a id="DecoratedContainerFunctor0:183" class="idref" href="#DecoratedContainerFunctor0:183"><span class="id" title="binder">unit</span></a><a id="DecoratedContainerFunctor0:183" class="idref" href="#DecoratedContainerFunctor0:183"><span class="id" title="binder">)</span></a> <a id="DecoratedContainerFunctor0:183" class="idref" href="#DecoratedContainerFunctor0:183"><span class="id" title="binder">(</span></a><a id="DecoratedContainerFunctor0:183" class="idref" href="#DecoratedContainerFunctor0:183"><span class="id" title="binder">T</span></a> <a id="DecoratedContainerFunctor0:183" class="idref" href="#DecoratedContainerFunctor0:183"><span class="id" title="binder">unit</span></a><a id="DecoratedContainerFunctor0:183" class="idref" href="#DecoratedContainerFunctor0:183"><span class="id" title="binder">)</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Adapters.CategoricalToKleisli.DecoratedTraversableFunctor.html#DerivedOperations"><span class="id" title="module">CategoricalToKleisli.DecoratedTraversableFunctor.DerivedOperations</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="length_length_to_list_unit" class="idref" href="#length_length_to_list_unit"><span class="id" title="lemma">length_length_to_list_unit</span></a>: <span class="id" title="keyword">∀</span> <a id="n:184" class="idref" href="#n:184"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#length_to_list_unit"><span class="id" title="definition">length_to_list_unit</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#n:184"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#n:184"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="get_binding_LN_rt2" class="idref" href="#get_binding_LN_rt2"><span class="id" title="lemma">get_binding_LN_rt2</span></a>: <span class="id" title="keyword">∀</span> (<a id="l:185" class="idref" href="#l:185"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<a id="ctx:186" class="idref" href="#ctx:186"><span class="id" title="binder">ctx</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) (<a id="n:187" class="idref" href="#n:187"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#n:187"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:186"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Nominal.Common.html#get_binding"><span class="id" title="definition">get_binding</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:185"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:186"><span class="id" title="variable">ctx</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:185"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#length_to_list_unit"><span class="id" title="definition">length_to_list_unit</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:186"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#n:187"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">)</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Nominal.Common.html#Bound"><span class="id" title="constructor">Bound</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:185"><span class="id" title="variable">l</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#length_to_list_unit"><span class="id" title="definition">length_to_list_unit</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:186"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#n:187"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">)</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:185"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#length_to_list_unit"><span class="id" title="definition">length_to_list_unit</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:186"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#n:187"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">)</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:185"><span class="id" title="variable">l</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#length_to_list_unit"><span class="id" title="definition">length_to_list_unit</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#n:187"><span class="id" title="variable">n</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> ?<span class="id" title="var">xs</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">xs</span>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="get_binding_LN_rt1" class="idref" href="#get_binding_LN_rt1"><span class="id" title="lemma">get_binding_LN_rt1</span></a>: <span class="id" title="keyword">∀</span> (<a id="l:188" class="idref" href="#l:188"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<a id="ctx:189" class="idref" href="#ctx:189"><span class="id" title="binder">ctx</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) (<a id="n:190" class="idref" href="#n:190"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#n:190"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:189"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#binding_to_ln"><span class="id" title="definition">binding_to_ln</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Nominal.Common.html#get_binding"><span class="id" title="definition">get_binding</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:188"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:189"><span class="id" title="variable">ctx</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:188"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#length_to_list_unit"><span class="id" title="definition">length_to_list_unit</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:189"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#n:190"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">)</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#n:190"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#get_binding_LN_rt2"><span class="id" title="axiom">get_binding_LN_rt2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#binding_to_ln"><span class="id" title="definition">binding_to_ln</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#length_to_history_from_ctx"><span class="id" title="lemma">length_to_history_from_ctx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#length_length_to_list_unit"><span class="id" title="lemma">length_length_to_list_unit</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="decompose_list_by_ix" class="idref" href="#decompose_list_by_ix"><span class="id" title="lemma">decompose_list_by_ix</span></a>: <span class="id" title="keyword">∀</span> (<a id="A:191" class="idref" href="#A:191"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span>) (<a id="l:192" class="idref" href="#l:192"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#A:191"><span class="id" title="variable">A</span></a>) (<a id="n:193" class="idref" href="#n:193"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#n:193"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:192"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="pre:194" class="idref" href="#pre:194"><span class="id" title="binder">pre</span></a> <a id="a:195" class="idref" href="#a:195"><span class="id" title="binder">a</span></a> <a id="post:196" class="idref" href="#post:196"><span class="id" title="binder">post</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:192"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#pre:194"><span class="id" title="variable">pre</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#a:195"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#post:196"><span class="id" title="variable">post</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#post:196"><span class="id" title="variable">post</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#n:193"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ineqp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ineqp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pre</span> [<span class="id" title="var">a'</span> [<span class="id" title="var">post</span> [<span class="id" title="var">Heq</span> <span class="id" title="var">Hrest</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">pre</span>) <span class="id" title="var">a'</span> <span class="id" title="var">post</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_comm_cons"><span class="id" title="lemma">List.app_comm_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">∃</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="var">A</span>)  <span class="id" title="var">a</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">List.app_nil_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="get_binding_LN_new2" class="idref" href="#get_binding_LN_new2"><span class="id" title="lemma">get_binding_LN_new2</span></a>: <span class="id" title="keyword">∀</span> (<a id="l:197" class="idref" href="#l:197"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<a id="pre:198" class="idref" href="#pre:198"><span class="id" title="binder">pre</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) (<a id="post:199" class="idref" href="#post:199"><span class="id" title="binder">post</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Nominal.Common.html#get_binding"><span class="id" title="definition">get_binding</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:197"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#pre:198"><span class="id" title="variable">pre</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:197"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:197"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#pre:198"><span class="id" title="variable">pre</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:197"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:197"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#pre:198"><span class="id" title="variable">pre</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:197"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:197"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#pre:198"><span class="id" title="variable">pre</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#post:199"><span class="id" title="variable">post</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:197"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:197"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#pre:198"><span class="id" title="variable">pre</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a>  <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#Bound"><span class="id" title="constructor">Bound</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:197"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#pre:198"><span class="id" title="variable">pre</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:197"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:197"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#pre:198"><span class="id" title="variable">pre</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:197"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:197"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#pre:198"><span class="id" title="variable">pre</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_history"><span class="id" title="definition">to_name_from_history</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:197"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:197"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#pre:198"><span class="id" title="variable">pre</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#post:199"><span class="id" title="variable">post</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.Nominal.Common.html#get_binding2"><span class="id" title="lemma">get_binding2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>  <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx_fresh"><span class="id" title="lemma">to_history_from_ctx_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.List.html#element_of_list_app"><span class="id" title="lemma">element_of_list_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.List.html#element_of_list_app"><span class="id" title="lemma">element_of_list_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.List.html#element_of_list_one"><span class="id" title="lemma">element_of_list_one</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="get_binding_LN_new" class="idref" href="#get_binding_LN_new"><span class="id" title="lemma">get_binding_LN_new</span></a>: <span class="id" title="keyword">∀</span> (<a id="l:200" class="idref" href="#l:200"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<a id="ctx:201" class="idref" href="#ctx:201"><span class="id" title="binder">ctx</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) (<a id="n:202" class="idref" href="#n:202"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#n:202"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:201"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#binding_to_ln"><span class="id" title="definition">binding_to_ln</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Nominal.Common.html#get_binding"><span class="id" title="definition">get_binding</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:200"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:201"><span class="id" title="variable">ctx</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#l:200"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#length_to_list_unit"><span class="id" title="definition">length_to_list_unit</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ctx:201"><span class="id" title="variable">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#n:202"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">)</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#n:202"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#decompose_list_by_ix"><span class="id" title="lemma">decompose_list_by_ix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pre</span> [<span class="id" title="var">a</span> [<span class="id" title="var">post</span> [<span class="id" title="var">Heq</span> <span class="id" title="var">Hlen</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;intro&nbsp;cut.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;Heq.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;cut.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(Hlen_spec:&nbsp;length&nbsp;(pre&nbsp;++&nbsp;<span class="inlinecode"><span class="id" title="var">a</span></span>&nbsp;++&nbsp;post)&nbsp;-&nbsp;(n&nbsp;+&nbsp;1)&nbsp;=&nbsp;length&nbsp;pre).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;subst.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;List.app_length.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;List.app_length.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cbn.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lia.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;Hlen_spec.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;to_name_from_ctx_spec.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(Hpre:&nbsp;length_to_list_unit&nbsp;(length&nbsp;pre)&nbsp;=&nbsp;pre).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;admit.&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;Hpre.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(Ha:&nbsp;a&nbsp;=&nbsp;tt).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;now&nbsp;destruct&nbsp;a.&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;Ha.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;get_binding_LN_new2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;binding_to_ln.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;length_to_history_from_ctx.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="roundtrip_LN_id" class="idref" href="#roundtrip_LN_id"><span class="id" title="lemma">roundtrip_LN_id</span></a>: <span class="id" title="keyword">∀</span> (<a id="t:203" class="idref" href="#t:203"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#LC"><span class="id" title="definition">LC</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:203"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_LN"><span class="id" title="definition">roundtrip_LN</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:203"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:203"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">HLC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_LN_spec_decomposed2"><span class="id" title="lemma">roundtrip_LN_spec_decomposed2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="keyword">zeta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Theory.DecoratedContainerFunctor.html#mapd_respectful_id"><span class="id" title="lemma">mapd_respectful_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ctx</span> <span class="id" title="var">v</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#kc_dfunp"><span class="id" title="definition">kc_dfunp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Functors.Z2.html#cobind_Z2"><span class="id" title="definition">cobind_Z2</span></a>, <a class="idref" href="Tealeaves.Functors.Z2.html#cojoin_Z2"><span class="id" title="definition">cojoin_Z2</span></a>, <a class="idref" href="Tealeaves.Tactics.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Functors.Z2.html#map_Z2"><span class="id" title="definition">map_Z2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">ctx</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_Z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Functors.List_Telescoping_General.html#mapd_list_prefix_spec"><span class="id" title="definition">mapd_list_prefix_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.List_Telescoping_General.html#mapd_list_prefix"><span class="id" title="definition">mapd_list_prefix</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> <span class="id" title="var">l</span>) <span class="id" title="var">ctx</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedFunctorPoly.html#mapdz"><span class="id" title="definition">mapdz</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_name_from_ctx"><span class="id" title="definition">to_name_from_ctx</span></a> <span class="id" title="var">l</span>) <span class="id" title="var">ctx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx_spec"><span class="id" title="lemma">to_history_from_ctx_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#name_to_ln"><span class="id" title="definition">name_to_ln</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> | <span class="id" title="var">n</span>].<br/>
&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ln_to_name"><span class="id" title="definition">ln_to_name</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Tealeaves.Backends.Nominal.Common.html#get_binding_spec"><span class="id" title="lemma">get_binding_spec</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx"><span class="id" title="definition">to_history_from_ctx</span></a> <span class="id" title="var">l</span> <span class="id" title="var">ctx</span>) <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[<span class="id" title="var">Case1</span> <span class="id" title="var">rest</span>] | [<span class="id" title="var">prefix</span> [<span class="id" title="var">postfix</span> [<span class="id" title="var">Case2</span> [<span class="id" title="var">ctxspec</span> <span class="id" title="var">Hnin'</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Case1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#to_history_from_ctx_fresh"><span class="id" title="lemma">to_history_from_ctx_fresh</span></a> <span class="id" title="var">l</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">lemma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">a_in_list</span>: <span class="id" title="var">a</span> <a class="idref" href="Tealeaves.Classes.Categorical.ContainerFunctor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">lemma</span> <span class="id" title="var">ctx</span> <span class="id" title="var">a</span> <span class="id" title="var">a_in_list</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ctxspec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">lemma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">lemma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.List.html#element_of_list_app"><span class="id" title="lemma">element_of_list_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.List.html#element_of_list_app"><span class="id" title="lemma">element_of_list_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Early.List.html#element_of_list_one"><span class="id" title="lemma">element_of_list_one</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#ln_to_name"><span class="id" title="definition">ln_to_name</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#LN_BD_to_binder_name"><span class="id" title="definition">LN_BD_to_binder_name</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H_n_lt</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Nat.html#ltb"><span class="id" title="definition">Nat.ltb</span></a> <span class="id" title="var">n</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">ctx</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Structures.OrdersEx.html#Nat_as_OT.ltb_lt"><span class="id" title="lemma">OrdersEx.Nat_as_OT.ltb_lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LC"><span class="id" title="definition">LC</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HLC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LCn"><span class="id" title="definition">LCn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HLC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HLC</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">ctx</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HLC</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="tactic">cut</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">ctx</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DecoratedContainerFunctor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">admit</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HLC</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">cut</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#lc_loc"><span class="id" title="definition">lc_loc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="tactic">cut</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H_n_lt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#get_binding_LN_rt1"><span class="id" title="lemma">get_binding_LN_rt1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Structures.OrdersEx.html#Nat_as_OT.ltb_lt"><span class="id" title="lemma">OrdersEx.Nat_as_OT.ltb_lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="roundtrip_LN_correct" class="idref" href="#roundtrip_LN_correct"><span class="id" title="lemma">roundtrip_LN_correct</span></a>: <span class="id" title="keyword">∀</span> (<a id="t:204" class="idref" href="#t:204"><span class="id" title="binder">t</span></a>: <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#LC"><span class="id" title="definition">LC</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:204"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_ln_to_nominal"><span class="id" title="definition">term_ln_to_nominal</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:204"><span class="id" title="variable">t</span></a>) <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:204"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:204"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">HLC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_LN"><span class="id" title="definition">roundtrip_LN</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_LN_id"><span class="id" title="axiom">roundtrip_LN_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="correctness1" class="idref" href="#correctness1"><span class="id" title="lemma">correctness1</span></a>: <span class="id" title="keyword">∀</span> (<a id="t:205" class="idref" href="#t:205"><span class="id" title="binder">t</span></a> <a id="u:206" class="idref" href="#u:206"><span class="id" title="binder">u</span></a>: <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:205"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#u:206"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#polymorphic_alpha"><span class="id" title="definition">polymorphic_alpha</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:205"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#u:206"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">cut1</span>: <a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#polymorphic_alpha"><span class="id" title="definition">polymorphic_alpha</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">t</span> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_ln_to_nominal"><span class="id" title="definition">term_ln_to_nominal</span></a> (<a class="idref" href="Tealeaves.Backends.Nominal.FV.html#FV"><span class="id" title="definition">FV</span></a> <span class="id" title="var">t</span>) (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a> <span class="id" title="var">t</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">pose</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_correct2"><span class="id" title="lemma">roundtrip_correct2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#FV_preserved"><span class="id" title="lemma">FV_preserved</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">cut2</span>: <a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#polymorphic_alpha"><span class="id" title="definition">polymorphic_alpha</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">u</span> (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_ln_to_nominal"><span class="id" title="definition">term_ln_to_nominal</span></a> (<a class="idref" href="Tealeaves.Backends.Nominal.FV.html#FV"><span class="id" title="definition">FV</span></a> <span class="id" title="var">u</span>) (<a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a> <span class="id" title="var">u</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">pose</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#roundtrip_correct2"><span class="id" title="lemma">roundtrip_correct2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#FV_preserved"><span class="id" title="lemma">FV_preserved</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HFV</span>: <a class="idref" href="Tealeaves.Backends.Nominal.FV.html#FV"><span class="id" title="definition">FV</span></a> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.Nominal.FV.html#FV"><span class="id" title="definition">FV</span></a> <span class="id" title="var">u</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span>  <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#FV_preserved"><span class="id" title="lemma">FV_preserved</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>  <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#FV_preserved"><span class="id" title="lemma">FV_preserved</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HFV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">cut1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="correctness2" class="idref" href="#correctness2"><span class="id" title="lemma">correctness2</span></a>: <span class="id" title="keyword">∀</span> (<a id="t:207" class="idref" href="#t:207"><span class="id" title="binder">t</span></a> <a id="u:208" class="idref" href="#u:208"><span class="id" title="binder">u</span></a>: <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="Tealeaves.Backends.Common.Names.html#name"><span class="id" title="abbreviation">name</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.Nominal.Alpha.html#polymorphic_alpha"><span class="id" title="definition">polymorphic_alpha</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:207"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#u:208"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#t:207"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#term_nominal_to_ln"><span class="id" title="definition">term_nominal_to_ln</span></a> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#u:208"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Halpha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Abort</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Backends.Adapters.NominalToLN.html#with_DTM"><span class="id" title="section">with_DTM</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
